-
  !function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.__PUG_EXTENSIONS_EXPORTS__=t():e.__PUG_EXTENSIONS_EXPORTS__=t()}(globalThis,(()=>(()=>{"use strict";var e,t={d:(e,r)=>{for(var a in r)t.o(r,a)&&!t.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:r[a]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},r={};t.r(r),t.d(r,{AJAX_Service:()=>Y,AlgorithmMismatchError:()=>Et,CHARACTERS_COUNT_IN_DATE_PART_OF_ISO8601_STRING:()=>ze,CHARACTERS_COUNT_IN_FULL_ISO8601_STRING:()=>je,CalendarBuilder:()=>ot,ClassRedundantSubsequentInitializationError:()=>Pt,ClassRequiredInitializationHasNotBeenExecutedError:()=>Tt,ClientErrorsHTTP_StatusCodes:()=>Te,ConfigFileNotFoundError:()=>_t,CrossBrowserIssueError:()=>xt,DAYS_COUNT_IN_WEEK:()=>xe,DOM_ElementRetrievingFailedError:()=>Ot,DOM_ElementRetrievingFailedErrorLocalization__english:()=>Vt,DataMocking:()=>We,DataRetrievingFailedError:()=>j,DataSubmittingFailedError:()=>R,DaysOfWeekNames:()=>Ve,EMAIL_ADDRESS_VALID_PATTERN:()=>$e,EmailAddress:()=>Sa,EscapeCharacters:()=>Kr,FetchAPI_Service:()=>ie,FileReadingFailedError:()=>Rt,FileWritingFailedError:()=>jt,HOURS_COUNT_IN_STELLAR_DAY:()=>Ce,HTTPS_DEFAULT_PORT:()=>_e,HTTP_DEFAULT_PORT:()=>Ie,HTTP_Methods:()=>a,HTTP_StatusCodes:()=>be,ImproperUsageError:()=>Ut,IncompatiblePropertiesInObjectTypeParameterError:()=>Wt,InformationalResponsesHTTP_StatusCodes:()=>Pe,InterProcessInteractionFailedError:()=>Gt,InvalidConfigError:()=>W,InvalidExternalDataError:()=>U,InvalidParameterValueError:()=>V,IsStringOfLengthCheckingOperation:()=>Ja,LineSeparators:()=>ta,Logger:()=>D,MAXIMAL_CHARACTERS_COUNT_OF_EMAIL_ADDRESS:()=>Be,MAXIMAL_DAYS_IN_MONTH:()=>Oe,MINIMAL_CHARACTERS_COUNT_OF_EMAIL_ADDRESS:()=>Ue,MINUTES_COUNT_IN_HOUR:()=>ve,MONTHS_COUNT_IN_YEAR:()=>Fe,MockGatewayHelper:()=>Xe,MockGatewayHelperLocalization__English:()=>Ke,ModuleDynamicLoadingFailedError:()=>Xt,MonthsNames:()=>Re,NETWORK_PORT_MAXIMAL_VALUE:()=>De,NETWORK_PORT_MINIMAL_VALUE:()=>we,PaginationCollection:()=>Tr,PoliteErrorsMessagesBuilder:()=>er,PoliteErrorsMessagesBuilder__English:()=>Jt,PromisesQueue:()=>Ir,RandomStringsGenerator:()=>Or,RawObjectDataProcessor:()=>O,RedirectionResponsesHTTP_StatusCodes:()=>Ae,SECONDS_COUNT_IN_MINUTE:()=>Le,ServerErrorsHTTP_StatusCodes:()=>Se,SpaceCharacters:()=>Xr,SpaceCharactersStringifiedHexCharactersForRegularExpressionWithUnicodeFlag:()=>Zr,SuccessfulResponsesHTTP_StatusCodes:()=>Me,TimePoint:()=>dt,Timer:()=>gt,UnexpectedEventError:()=>ce,UnsupportedScenarioError:()=>Z,addElementsToArray:()=>ne,addMultipleElementsToSet:()=>Ur,addEntriesToMap:()=>ar,algorithmMismatchErrorLocalization__english:()=>ft,appendCharacterIfItDoesNotPresentInLastPosition:()=>Ma,appendFragmentToURI:()=>Ea,appendLastFileNameExtension:()=>la,areStringifiedDigitsOnly:()=>Wr,buildEmailLinkHrefAttributeValue:()=>si,buildPhoneNumberLinkHrefAttributeValue:()=>li,capitalizeFirstCharacter:()=>Aa,classRedundantSubsequentInitializationErrorLocalization__english:()=>Nt,classRequiredInitializationHasNotBeenExecutedErrorLocalization__english:()=>Mt,computeFirstItemNumberForSpecificPaginationPage:()=>Pr,computeLastItemNumberForSpecificPaginationPage:()=>Mr,configFileNotFoundErrorLocalization__english:()=>St,convertPotentialStringToFloatIfPossible:()=>Qr,convertPotentialStringToIntegerIfPossible:()=>qr,convertPotentialStringToNumberIfPossible:()=>Hr,createArrayOfNaturalNumbers:()=>oe,createMapBasedOnOtherMap:()=>ir,createSetBasedOnOtherSet:()=>Gr,cropArray:()=>se,cropString:()=>Ta,crossBrowserIssueErrorLocalization__english:()=>Dt,dataRetrievingFailedErrorLocalization__english:()=>L,dataSubmittingFailedErrorLocalization__english:()=>v,emptyStringToNull:()=>ri,encodeFileToBase64:()=>rr,explodeCasedPhraseToWords:()=>Ia,explodeStringToLines:()=>_a,explodeURI_PathToSegments:()=>ga,extractAllFileNameExtensions:()=>ca,extractFileNameWithAllExtensionsFromPath:()=>da,extractFileNameWithoutAnyExtensions:()=>ma,extractFileNameWithoutLastExtension:()=>pa,extractLastExtensionOfFileName:()=>ha,extractMatchingsWithRegularExpression:()=>ia,fileReadingFailedErrorLocalization__english:()=>vt,fileWritingFailedErrorLocalization__english:()=>Lt,filterMap:()=>nr,formatNumberWith4KetaKanji:()=>lr,getArithmeticMean:()=>ur,getArrayElementSatisfiesThePredicateIfSuchElementIsExactlyOne:()=>de,getDaysCountInSpecificMonth:()=>Je,getEnglishAbbreviatedOrdinalNumber:()=>Da,getIndexOfArrayElementSatisfiesThePredicateIfSuchElementIsExactlyOne:()=>ge,getIndexesOfArrayElementsWhichSatisfiesThePredicate:()=>me,getItemsOfPaginationPage:()=>Ar,getLastCharacter:()=>wa,getLastElementOfArray:()=>pe,getLineSeparatorType:()=>ra,getMatchingWithFirstRegularExpressionCapturingGroup:()=>aa,getMonthNameByNumber:()=>it,getMonthNumberByName:()=>tt,getNextMonthNumber:()=>at,getObjectPropertySafely:()=>br,getPositionsOfAllSubstringOccurrences:()=>xa,getPreviousMonthNumber:()=>rt,getRandomArrayElement:()=>Vr,getRandomBoolean:()=>ke,getRandomInteger:()=>qe,getRandomLatinCharacter:()=>Fr,getRandomObjectPropertyValue:()=>Rr,getRandomString:()=>vr,getRandomSubarray:()=>$r,getSpecificBooleanValueWithProbability:()=>Br,getURI_Fragment:()=>ya,getURI_PartWithoutFragment:()=>Na,getYearOfNextMonth:()=>et,getYearOfPreviousMonth:()=>Ze,hasStringOnlySpecificCharacters:()=>kr,hasTimeCome:()=>st,improperUsageErrorLocalization__english:()=>$t,incompatiblePropertiesInObjectTypeParameterErrorLocalization__english:()=>kt,insertSubstring:()=>c,insertSubstringIf:()=>oa,interProcessInteractionFailedErrorLocalization__english:()=>qt,invalidConfigErrorLocalization__english:()=>k,invalidExternalDataErrorLocalization__english:()=>$,invalidParameterValueErrorLocalization__english:()=>w,isArbitraryObject:()=>h,isArrayOfCertainTypeElements:()=>ka,isArrayOfLength:()=>Wa,isBoolean:()=>s,isDecimalFractionOfAnySign:()=>M,isEitherUndefinedOrNull:()=>l,isElementOfEnumeration:()=>ei,isEmptyArray:()=>qa,isEmptyObject:()=>Qa,isEmptyString:()=>Xa,isFunctionLike:()=>ti,isIPv4AddressLiesInRange:()=>Va,isNaturalNumber:()=>f,isNegativeDecimalFraction:()=>P,isNegativeInteger:()=>E,isNegativeIntegerOrZero:()=>N,isNeitherUndefinedNorNull:()=>Ge,isNonEmptyArbitraryObject:()=>Ga,isNonEmptyArray:()=>A,isNonEmptyObject:()=>Ka,isNonEmptyString:()=>S,isNonNegativeInteger:()=>y,isNonNullObject:()=>n,isNotNull:()=>T,isNotUndefined:()=>g,isNull:()=>p,isNumber:()=>o,isPositiveDecimalFraction:()=>b,isPossiblyReadonlyParsedJSON:()=>ee,isPossiblyReadonlyParsedJSON_Object:()=>Ya,isString:()=>i,isStringOfLength:()=>Za,isStringifiedNonNegativeIntegerOfRegularNotation:()=>cr,isUndefined:()=>m,limitMaximalValue:()=>dr,limitMinimalValue:()=>mr,loggerLocalization__english:()=>I,lowercaseLatinCharacters:()=>_r,millisecondsToSeconds:()=>lt,moduleDynamicLoadingFailedErrorLocalization__english:()=>Kt,moveArrayElementTo1Position:()=>he,nullToEmptyString:()=>sa,nullToUndefined:()=>ai,nullToZero:()=>ii,processObjectTypeParameterOfPugMixin:()=>ui,rawObjectDataProcessorLocalization__english:()=>d,removeAllFileNameExtensions:()=>fa,removeAllSpecifiedCharacters:()=>Ca,removeArrayElementsByIndexes:()=>q,removeArrayElementsByPredicates:()=>fe,removeEntriesFromMap:()=>or,removeLastCharacter:()=>Oa,removeNonDigitsCharacters:()=>va,removeNthCharacter:()=>Fa,removeRandomArrayElement:()=>Lr,removeSpecificCharacterFromCertainPosition:()=>Q,removeSpecificSegmentsFromURI_Path:()=>ba,replace2OrMoreSpacesTo1:()=>Ra,replaceArrayElementsByIndexesImmutably:()=>ye,replaceArrayElementsByPredicates:()=>Ee,replaceBrHTML_TagToNewLineEscapeSequence:()=>La,replaceDoubleBackslashesWithForwardSlashes:()=>ua,replaceLastURI_PathSegment:()=>Pa,replaceMatchesWithRegularExpressionToDynamicValue:()=>na,reverseString:()=>sr,roundDownToSpecificIntegerPlaceValue:()=>gr,roundToSpecificNearestIntegerPlaceValue:()=>pr,roundToSpecifiedNearestDecimalPlaceValue:()=>hr,roundUpToSpecificIntegerPlaceValue:()=>fr,secondsToMilliseconds:()=>Qe,separateEach3DigitsGroupWithComma:()=>yr,separateEach4DigitsGroupWithComma:()=>Er,serializeURI_QueryParameters:()=>G,splitString:()=>Nr,stringifiedDigits:()=>wr,stringifyAndFormatArbitraryValue:()=>u,substituteWhenNull:()=>pt,substituteWhenUndefined:()=>ht,surroundLabelByOrnament:()=>za,toLowerCamelCase:()=>ja,toScreamingSnakeCase:()=>$a,toUpperCamelCase:()=>Ba,trimSpaces:()=>Ua,twoDimensionalizeArray:()=>Ne,undefinedToEmptyArray:()=>ni,undefinedToEmptyString:()=>xr,undefinedToNull:()=>oi,unexpectedEventErrorLocalization__english:()=>le,unsupportedScenarioErrorLocalization__english:()=>X,uppercaseLatinCharacters:()=>Dr}),function(e){e.get="GET",e.post="POST",e.create="CREATE",e.put="PUT",e.delete="DELETE",e.options="OPTIONS",e.head="HEAD",e.connect="CONNECT",e.trace="TRACE",e.patch="PATCH"}(e||(e={}));const a=e;function i(e){return"string"==typeof e}function n(e){return"object"==typeof e&&null!==e}function o(e){return"number"==typeof e}function s(e){return"boolean"==typeof e}function l(e){return null==e}function u(e){if(i(e))return e;if(o(e)||s(e)||l(e))return String(e);if(e instanceof Error)return String(e);if(e instanceof RegExp)return e.toString();if(n(e))try{let t;return t=e instanceof Set?JSON.stringify(Array.from(e),null,2):e instanceof Map?JSON.stringify(Object.fromEntries(e),null,2):JSON.stringify(e,null,2),"{}"===t?"{}":"[]"===t?"[]":t}catch{return String(e)}return String(e)}function c(e,t={}){return null==e||!1===t.condition?"":void 0===t.modifier?e.toString():t.modifier(e.toString())}const d={errorMessageBasicTemplate({targetPropertyDotSeparatedQualifiedName:e,targetPropertyNewName:t,targetPropertyValue:r,targetPropertyValueSpecification:a,targetPropertyStringifiedValueBeforeFirstPreValidationModification:i,title:n,specificMessagePart:o}){const s=u({...a,type:this.valueType(a.type)});return`${n}\n\n●　Property / element: '${e}'${c(t,{modifier:e=>` (new name: ${e})`})}\n${o}\n\n●　Property / element specification: \n${s}\n●　Actual value: ${u(r)}${c(i,{modifier:e=>`\n●　Value before first pre-validation modification: ${e}`})}`},buildErrorMessagesListItemHeading:e=>`=== Error No. ${e} ==========`,rawDataIsNullErrorMessage:"Raw data, the first parameter of 'RawObjectDataProcessor.process' is null.",buildRawDataIsNotObjectErrorMessage:e=>`Raw data, the first parameter of 'RawObjectDataProcessor.process' an 'object' and actually has type '${e}'.`,buildValueTypeDoesNotMatchWithExpectedErrorMessageTextData({targetPropertyValue:e,targetPropertyValueSpecification:t}){return{title:"Expected and actual value types mismatch",specificMessagePart:`This value expected to have type '${this.valueType(t.type)}' while actually it's type is '${typeof e}'.`}},buildPreValidationModificationFailedErrorMessageTextData:e=>({title:"Pre-validation caused the error",specificMessagePart:`Pre-validation modification of this value caused below error:\n${u(e)}\nThis pre-validation modification has been skipped.`}),requiredPropertyIsMissingErrorMessageTextData:{title:"Required property is missing",specificMessagePart:"This property is 'undefined' while has been marked as required."},buildConditionallyRequiredPropertyIsMissingErrorMessageTextData:e=>({title:"Conditionally required property is missing",specificMessagePart:`This value is 'undefined' while requirement condition:\n"${e}"\nsatisfied.`}),nonNullableValueIsNullErrorMessageTextData:{title:"Non-nullable value is 'null'",specificMessagePart:"This value is 'null' while nullability has not been permitted by valid data specification."},buildIndexedArrayElementsCountIsLessThanRequiredMinimumErrorMessageTextData:({minimalElementsCount:e,actualElementsCount:t})=>({title:"Indexed array has less elements than expected minimum",specificMessagePart:`This value of indexed array type has ${t} elements while at least ${e} expected.`}),buildIndexedArrayElementsCountIsMoreThanAllowedMaximumErrorMessageTextData:({maximalElementsCount:e,actualElementsCount:t})=>({title:"Indexed array has more elements than expected maximum",specificMessagePart:`This value of indexed array type has ${t} elements while maximally ${e} expected.`}),buildIndexedArrayElementsCountDoesNotMatchWithSpecifiedExactNumberErrorMessageTextData:({exactElementsCount:e,actualElementsCount:t})=>({title:"The count of elements of indexed array does not match with expected fixed value",specificMessagePart:`This value of indexed array type has ${t} elements while exactly ${e} expected.`}),indexedArrayDisallowedUndefinedElementErrorMessageTextData:{title:"Disallowed undefined-type element of indexed array",specificMessagePart:"This element of indexed array is 'undefined' while undefined-type elements has not been allowed by valid element specification."},indexedArrayDisallowedNullElementErrorMessageTextData:{title:"Disallowed null element of indexed array",specificMessagePart:"This element of indexed array is 'null' while null elements has not been allowed by valid element specification."},buildAssociativeArrayEntriesCountIsLessThanRequiredMinimumErrorMessageTextData:({minimalEntriesCount:e,actualEntriesCount:t})=>({title:"Associative array has less entries than expected minimum",specificMessagePart:`This value of associative array type value has ${t} entries while at least ${e} expected.`}),buildAssociativeArrayEntriesCountIsMoreThanAllowedMaximumErrorMessageTextData:({maximalEntriesCount:e,actualEntriesCount:t})=>({title:"Associative array has more entries than expected maximum",specificMessagePart:`This value of associative array-type value has ${t} entries while maximally ${e} expected.`}),buildAssociativeArrayEntriesCountDoesNotMatchWithSpecifiedExactNumberErrorMessageTextData:({exactEntriesCount:e,actualEntriesCount:t})=>({title:"The count of entries of associative array does not match with expected fixed value",specificMessagePart:`This value of associative array-type value has ${e} entries while exactly ${t} expected.`}),buildRequiredKeysOfAssociativeArrayAreMissingErrorMessageTextData:e=>({title:"Required key(s) of associative array are missing",specificMessagePart:`Below keys are missing but required for this associative array type value:\n${u(e)}`}),buildRequiredAlternativeKeysOfAssociativeArrayAreMissingErrorMessageTextData:e=>({title:"Required keys alternatives are missing",specificMessagePart:`One of below keys must present in this associative array-type value, but actually none of them presents.\n${u(e)}`}),buildDisallowedKeysFoundInAssociativeArrayErrorMessageTextData:e=>({title:"Disallowed key(s) found in associative array",specificMessagePart:`Below keys presents in this associative array type value while these keys are disallowed.\n${u(e)}`}),associativeArrayDisallowedUndefinedValueErrorMessageTextData:{title:"Disallowed undefined-type value of associative array",specificMessagePart:"This value of associative array is 'undefined' while undefined-type values has not been allowed by valid value specification."},associativeArrayDisallowedNullValueErrorMessageTextData:{title:"Disallowed null value of associative array",specificMessagePart:"This value of associative array is 'null' while null values has not been allowed by valid value specification."},valueType(e){switch(O.getNormalizedValueTypeID(e)){case O.ValuesTypesIDs.number:return"number";case O.ValuesTypesIDs.string:return"string";case O.ValuesTypesIDs.boolean:return"boolean";case O.ValuesTypesIDs.indexedArrayOfUniformElements:return"indexed array of uniform elements";case O.ValuesTypesIDs.fixedKeyAndValuePairsObject:return"filed key and value pairs object";case O.ValuesTypesIDs.associativeArrayOfUniformTypeValues:return"associative array of uniform type values";case O.ValuesTypesIDs.oneOf:return"multiple alternatives allowed"}},numbersSet(e){switch(e){case O.NumbersSets.naturalNumber:return"natural number";case O.NumbersSets.nonNegativeInteger:return"non-negative integer";case O.NumbersSets.negativeInteger:return"negative integer";case O.NumbersSets.negativeIntegerOrZero:return"negative integer of zero";case O.NumbersSets.anyInteger:return"any integer";case O.NumbersSets.positiveDecimalFraction:return"positive decimal fraction";case O.NumbersSets.negativeDecimalFraction:return"negative decimal fraction";case O.NumbersSets.decimalFractionOfAnySign:return"decimal fraction on any sign";case O.NumbersSets.anyRealNumber:return"any real number"}},buildNumberValueIsNotBelongToExpectedNumbersSetErrorMessageTextData(e){return{title:"Expected and actual numbers set mismatch",specificMessagePart:`Contrary to expectations, this numeric value is in not member of '${this.numbersSet(e)}'`}},buildValueIsNotAmongAllowedAlternativesErrorMessageTextData:e=>({title:"Disallowed alternative of value",specificMessagePart:`This value is not among following allowed alternatives.\n${e.map((e=>`  ○ ${e}`)).join("\n")}`}),buildNumericValueIsSmallerThanRequiredMinimumErrorMessageTextData:e=>({title:"Minimal value fall short",specificMessagePart:`This value is smaller than required minimal value ${e}.`}),buildNumericValueIsGreaterThanAllowedMaximumErrorMessageTextData:e=>({title:"Maximal numeric value exceeding",specificMessagePart:`This value is greater than required maximal value ${e}.`}),buildCharactersCountIsLessThanRequiredErrorMessageTextData:({minimalCharactersCount:e,realCharactersCount:t})=>({title:"Minimal characters count fall short",specificMessagePart:`This string value has ${t} characters while at least ${e} required.`}),buildCharactersCountIsMoreThanAllowedErrorMessageTextData:({maximalCharactersCount:e,realCharactersCount:t})=>({title:"Maximal characters count exceeding",specificMessagePart:`This string value has ${t} characters ${e} allowed as maximum.`}),buildCharactersCountDoesNotMatchWithSpecifiedErrorMessageTextData:({fixedCharactersCount:e,realCharactersCount:t})=>({title:"Fixed characters count mismatch",specificMessagePart:`The value has ${t} characters exactly ${e} required.`}),buildRegularExpressionMismatchErrorMessageTextData:e=>({title:"Regular expression mismatch",specificMessagePart:`This string value does not match with specified regular expression:\n ${e.toString()}`}),buildDisallowedBooleanValueVariantErrorMessageTextData:e=>({title:"Disallowed boolean variant",specificMessagePart:`This boolean value is '${e}' while only '${!e}' allowed.`}),buildIncompatibleValuesTypesAlternativesErrorDescription:e=>`The 'ValuesTypesIDs.fixedKeyAndValuePairsObject' (aliased as Object) and 'ValuesTypesIDs.associativeArrayOfUniformTypeValues' (aliased as Map) are incompatible alternatives of 'ValuesTypesIDs.oneOf' because from the viewpoint of ECMAScript both are the 'object'. Target value marked as invalid. Please correct below specification:\n ${u(e)}`,buildUnsupportedValueTypeErrorMessageTextData:e=>({title:"Unsupported value type",specificMessagePart:`This value has type ${typeof e.targetPropertyValue} which is not a valid parsed JSON`}),buildCustomValidationFailedErrorMessageTextData:e=>({title:"Custom validation did not passed",specificMessagePart:`This value did not passed the custom validation "${e}".`})};function m(e){return void 0===e}function g(e){return void 0!==e}function p(e){return null===e}function h(e){return"object"==typeof e&&null!==e}function f(e){return"number"==typeof e&&Number.isInteger(e)&&e>0}function y(e){return"number"==typeof e&&Number.isInteger(e)&&e>=0}function E(e){return"number"==typeof e&&Number.isInteger(e)&&e<0}function N(e){return"number"==typeof e&&Number.isInteger(e)&&e<=0}function b(e){return"number"==typeof e&&/^\d+\.\d+$/u.test(e.toString())}function P(e){return"number"==typeof e&&/^-\d+\.\d+$/u.test(e.toString())}function M(e){return"number"==typeof e&&/^-?\d+\.\d+$/u.test(e.toString())}function A(e){return!!Array.isArray(e)&&e.length>0}function T(e){return null!==e}function S(e){return"string"==typeof e&&e.length>0}const I={badgesDefaultTitles:{error:"Error",warning:"Warning",success:"Success",info:"Info",generic:"Common"},errorType:"Error type",occurrenceLocation:"Occurrence location",caughtError:"Caught error",innerError:"Inner error",appendedData:"Appended data"};class _{static implementation=null;static localization=I;static setImplementation(e){return _.implementation=e,_}static setLocalization(e){return _.localization=e,_}static throwErrorAndLog(e){if(T(_.implementation)&&g(_.implementation.throwErrorAndLog))return _.implementation.throwErrorAndLog(e);let t;g(e.innerError)&&(t=u(e.innerError),e.innerError instanceof Error&&S(e.innerError.stack)&&(t=e.innerError.stack.includes(t)?e.innerError.stack:`${t}\n${e.innerError.stack}`));const r=[e.title,...!0===e.compactLayout?[" "]:["\n"],..."errorInstance"in e?[e.errorInstance.message]:[e.description],`\n\n${_.localization.occurrenceLocation}: ${e.occurrenceLocation}`,...g(t)?[`\n\n${_.localization.innerError}:\n${t}`]:[],...g(e.additionalData)?[`\n\n${_.localization.appendedData}:\n${u(e.additionalData)}`]:[],"\n"].join("");if("errorInstance"in e)throw e.errorInstance.message=r,e.errorInstance;const a=new Error(r);throw a.name=e.errorType,a}static logError(e){!1!==e.mustOutputIf&&(T(_.implementation)?_.implementation.logError(e):console.error([...!1===e.badge?[]:[`[ ${e.badge?.customText??_.localization.badgesDefaultTitles.error} ] `],e.title,...!0===e.compactLayout?[" "]:["\n"],e.description,`\n\n${_.localization.errorType}: ${e.errorType}`,`\n${_.localization.occurrenceLocation}: ${e.occurrenceLocation}`,...g(e.caughtError)?[`\n\n${_.localization.caughtError}:\n${u(e.caughtError)}`+(e.caughtError instanceof Error&&S(e.caughtError.stack)?`\n${e.caughtError.stack}`:"")]:[],...g(e.additionalData)?[`\n\n${_.localization.appendedData}:\n${u(e.additionalData)}`]:[]].join("")))}static logErrorLikeMessage(e){!1!==e.mustOutputIf&&(T(_.implementation)?_.implementation.logErrorLikeMessage(e):console.error(_.formatGenericLog(e,_.localization.badgesDefaultTitles.error)))}static logWarning(e){!1!==e.mustOutputIf&&(T(_.implementation)?_.implementation.logWarning(e):console.warn([...!1===e.badge?[]:[`[ ${e.badge?.customText??_.localization.badgesDefaultTitles.error} ] `],e.title,...!0===e.compactLayout?[" "]:["\n"],e.description,`\n${_.localization.occurrenceLocation}: ${e.occurrenceLocation}`,...g(e.additionalData)?[`\n\n${_.localization.appendedData}:\n${u(e.additionalData)}`]:[]].join("")))}static logInfo(e){!1!==e.mustOutputIf&&(T(_.implementation)?_.implementation.logInfo(e):console.info(_.formatGenericLog(e,_.localization.badgesDefaultTitles.info)))}static logSuccess(e){!1!==e.mustOutputIf&&(T(_.implementation)?_.implementation.logSuccess(e):console.info(_.formatGenericLog(e,_.localization.badgesDefaultTitles.success)))}static logGeneric(e){!1!==e.mustOutputIf&&(T(_.implementation)?_.implementation.logGeneric(e):console.log(_.formatGenericLog(e,_.localization.badgesDefaultTitles.generic)))}static highlightText(e){return T(_.implementation)?_.implementation.highlightText(e):e}static formatGenericLog(e,t){return[...!1===e.badge?[]:[`[ ${e.badge?.customText??t} ] `],e.title,...!0===e.compactLayout?[" "]:["\n"],e.description,...g(e.additionalData)?[`\n\n${_.localization.appendedData}:\n${u(e.additionalData)}`]:[]].join("")}}const D=_,w={defaultTitle:"Invalid parameter value",generateDescription:({parameterNumber:e,parameterName:t,messageSpecificPart:r})=>`The value of parameter No. ${e} (commonly named as "${t}") is invalid.${c(r,{modifier:e=>`\n${e}`})}`};class x extends Error{static NAME="InvalidParameterValueError";static localization=w;constructor(e){super(),this.name=x.NAME,this.message="customMessage"in e?e.customMessage:x.localization.generateDescription(e)}}const V=x;class C{static defaultLocalization=d;rawData;fullDataSpecification;processingApproach;currentlyIteratedObjectPropertyQualifiedNameSegmentsForLogging=[];currentlyIteratedPropertyNewNameForLogging=null;validationErrorsMessagesBuilder;validationErrorsMessages=[];rawDataIsInvalid=!1;static process(e,t,r={}){const a=r.localization??C.defaultLocalization,i=new C.ValidationErrorsMessagesBuilder(a);if(p(e))return{rawDataIsInvalid:!0,validationErrorsMessages:[i.rawDataIsNullErrorMessage]};if(!h(e))return{rawDataIsInvalid:!0,validationErrorsMessages:[i.buildRawDataIsNotObjectErrorMessage(typeof e)]};const n=new C({rawData:e,fullDataSpecification:t,processingApproach:C.ProcessingApproaches.newObjectAssembling,validationErrorsMessagesBuilder:i});let o,s;switch(t.subtype){case C.ObjectSubtypes.fixedKeyAndValuePairsObject:o=n.processFixedKeyAndValuePairsNonNullObjectTypeValue({targetValue__expectedToBeObject:e,targetObjectTypeValueSpecification:{type:C.ValuesTypesIDs.fixedKeyAndValuePairsObject,...t}});break;case C.ObjectSubtypes.indexedArray:o=n.processIndexedArrayTypeValue({targetValue__expectedToBeIndexedArray:n.rawData,targetIndexedArrayTypeValueSpecification:{...t,type:C.ValuesTypesIDs.indexedArrayOfUniformElements}});break;case C.ObjectSubtypes.associativeArray:o=n.processAssociativeArrayTypeValue({targetValue__expectedToBeAssociativeArrayTypeObject:n.rawData,targetAssociativeArrayTypeValueSpecification:{...t,type:C.ValuesTypesIDs.associativeArrayOfUniformTypeValues}})}return"isInvalid"in o||"isValidButValidationOnlyModeActive"in o?{rawDataIsInvalid:!0,validationErrorsMessages:n.validationErrorsMessages}:(s=g(r.postProcessing)?r.postProcessing(o.processedValue):o.processedValue,{rawDataIsInvalid:!1,processedData:s})}static formatValidationErrorsList(e,t=C.defaultLocalization){return e.reduce(((e,r,a)=>`${e}\n\n${t.buildErrorMessagesListItemHeading(a+1)}\n${r}`),"")}static setDefaultLocalization(e){C.defaultLocalization=e}static getNormalizedValueTypeID(e){return e===C.ValuesTypesIDs.number||"function"==typeof e&&"Number"===e.name?C.ValuesTypesIDs.number:e===C.ValuesTypesIDs.string||"function"==typeof e&&"String"===e.name?C.ValuesTypesIDs.string:e===C.ValuesTypesIDs.boolean||"function"==typeof e&&"Boolean"===e.name?C.ValuesTypesIDs.boolean:e===C.ValuesTypesIDs.fixedKeyAndValuePairsObject||"function"==typeof e&&"Object"===e.name?C.ValuesTypesIDs.fixedKeyAndValuePairsObject:e===C.ValuesTypesIDs.indexedArrayOfUniformElements||"function"==typeof e&&"Array"===e.name?C.ValuesTypesIDs.indexedArrayOfUniformElements:e===C.ValuesTypesIDs.associativeArrayOfUniformTypeValues||"function"==typeof e&&"Map"===e.name?C.ValuesTypesIDs.associativeArrayOfUniformTypeValues:e===C.ValuesTypesIDs.oneOf?C.ValuesTypesIDs.oneOf:void D.throwErrorAndLog({errorInstance:new V({parameterNumber:1,parameterName:"valueType"}),title:V.localization.defaultTitle,occurrenceLocation:"RawObjectDataProcessor.processSingleNeitherUndefinedNorNullValue(valueType)"})}constructor(e){this.rawData=e.rawData,this.fullDataSpecification=e.fullDataSpecification,this.currentlyIteratedObjectPropertyQualifiedNameSegmentsForLogging[0]=this.fullDataSpecification.nameForLogging,this.processingApproach=e.processingApproach,this.validationErrorsMessagesBuilder=e.validationErrorsMessagesBuilder}processFixedKeyAndValuePairsNonNullObjectTypeValue({targetValue__expectedToBeObject:e,targetObjectTypeValueSpecification:t,parentObject:r,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a}){if(!h(e))return this.registerValidationError(this.validationErrorsMessagesBuilder.buildValueTypeDoesNotMatchWithExpectedErrorMessage({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:e,targetPropertyValueSpecification:t,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a})),{isInvalid:!0};let i=this.processingApproach===C.ProcessingApproaches.existingObjectManipulation?e:{};const n=this.currentlyIteratedObjectPropertyQualifiedNameSegmentsForLogging.length;let o=!1;for(const[a,l]of Object.entries(t.properties)){let t;this.currentlyIteratedObjectPropertyQualifiedNameSegmentsForLogging[n]=a,m(l.newName)?(t=a,this.currentlyIteratedPropertyNewNameForLogging=null):(t=l.newName,this.currentlyIteratedPropertyNewNameForLogging=t);let c,d=e[a];const h=C.getNormalizedPreValidationModifications(l.preValidationModifications);h.length>0&&(c=u(d));for(const e of h)try{d=e(d)}catch(e){this.registerValidationError(this.validationErrorsMessagesBuilder.buildPreValidationModificationFailedErrorMessage({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:d,targetPropertyValueSpecification:l,targetPropertyStringifiedValueBeforeFirstPreValidationModification:c,thrownError:e}))}if(m(d)){if(!0===l.required){o=!0,this.registerValidationError(this.validationErrorsMessagesBuilder.buildRequiredPropertyIsMissingErrorMessage({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:d,targetPropertyValueSpecification:l,targetPropertyStringifiedValueBeforeFirstPreValidationModification:c}));continue}if(g(l.requiredIf)&&l.requiredIf.predicate(e,this.rawData)){o=!0,this.registerValidationError(this.validationErrorsMessagesBuilder.buildConditionallyRequiredPropertyIsMissingWhileRequirementConditionSatisfiedErrorMessage({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:d,targetPropertyValueSpecification:l,targetPropertyStringifiedValueBeforeFirstPreValidationModification:c,requirementConditionDescription:l.requiredIf.descriptionForLogging}));continue}if(g(l.defaultValue)){switch(this.processingApproach){case C.ProcessingApproaches.newObjectAssembling:this.isValidationOnlyMode||Object.defineProperty(i,t,{value:l.defaultValue,configurable:!s(l.makeNonConfigurable)||l.makeNonConfigurable,enumerable:!s(l.makeNonEnumerable)||l.makeNonEnumerable,writable:!s(l.makeReadonly)||l.makeReadonly});case C.ProcessingApproaches.existingObjectManipulation:}continue}continue}if(p(d)){if(!0!==l.nullable&&m(l.nullSubstitution)){o=!0,this.registerValidationError(this.validationErrorsMessagesBuilder.buildNonNullableValueIsNullErrorMessage({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:d,targetPropertyValueSpecification:l,targetPropertyStringifiedValueBeforeFirstPreValidationModification:c}));continue}if(g(l.nullSubstitution)){switch(this.processingApproach){case C.ProcessingApproaches.newObjectAssembling:this.isValidationOnlyMode||Object.defineProperty(i,t,{value:l.nullSubstitution,configurable:!s(l.makeNonConfigurable)||l.makeNonConfigurable,enumerable:!s(l.makeNonEnumerable)||l.makeNonEnumerable,writable:!s(l.makeReadonly)||l.makeReadonly});case C.ProcessingApproaches.existingObjectManipulation:}continue}if(!0===l.nullable){switch(this.processingApproach){case C.ProcessingApproaches.newObjectAssembling:this.isValidationOnlyMode||Object.defineProperty(i,t,{value:null,configurable:!s(l.makeNonConfigurable)||l.makeNonConfigurable,enumerable:!s(l.makeNonEnumerable)||l.makeNonEnumerable,writable:!s(l.makeReadonly)||l.makeReadonly});case C.ProcessingApproaches.existingObjectManipulation:}continue}}const f=this.processSingleNeitherUndefinedNorNullValue({targetValue:d,targetValueSpecification:l,parentObject:r,targetPropertyStringifiedValueBeforeFirstPreValidationModification:c});switch(this.processingApproach){case C.ProcessingApproaches.newObjectAssembling:if("isInvalid"in f){o=!0;continue}if("isValidButValidationOnlyModeActive"in f)continue;Object.defineProperty(i,t,{value:f.processedValue,configurable:!s(l.makeNonConfigurable)||l.makeNonConfigurable,enumerable:!s(l.makeNonEnumerable)||l.makeNonEnumerable,writable:!s(l.makeReadonly)||l.makeReadonly});case C.ProcessingApproaches.existingObjectManipulation:}}this.currentlyIteratedObjectPropertyQualifiedNameSegmentsForLogging.splice(-1,1);for(const i of C.getNormalizedCustomValidators(t.customValidators))i.validationFunction({currentPropertyValue:e,rawData__full:this.rawData,rawData__currentObjectDepth:r??this.rawData})||(o=!0,this.registerValidationError(this.validationErrorsMessagesBuilder.buildCustomValidationFailedErrorMessageTextData({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:e,targetPropertyValueSpecification:t,customValidationDescription:i.descriptionForLogging,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a})));if(o)return{isInvalid:!0};if(this.isValidationOnlyMode)return{isValidButValidationOnlyModeActive:!0};for(const e of C.getNormalizedPostValidationModifications(t.postValidationModifications))i=e(i);if(A(t.propertiesWillBeDeletedAfterPostValidationModifications))for(const e of t.propertiesWillBeDeletedAfterPostValidationModifications)delete i[e];return{processedValue:i}}processIndexedArrayTypeValue({targetValue__expectedToBeIndexedArray:e,targetIndexedArrayTypeValueSpecification:t,parentObject:r,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a}){if(!Array.isArray(e))return this.registerValidationError(this.validationErrorsMessagesBuilder.buildValueTypeDoesNotMatchWithExpectedErrorMessage({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:e,targetPropertyValueSpecification:t,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a})),{isInvalid:!0};let i=!1;g(t.minimalElementsCount)&&e.length<t.minimalElementsCount&&(i=!0,this.registerValidationError(this.validationErrorsMessagesBuilder.buildIndexedArrayElementsCountIsLessThanRequiredMinimumErrorMessage({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:e,targetPropertyValueSpecification:t,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a,minimalElementsCount:t.minimalElementsCount,actualElementsCount:e.length}))),g(t.maximalElementsCount)&&e.length>t.maximalElementsCount&&(i=!0,this.registerValidationError(this.validationErrorsMessagesBuilder.buildIndexedArrayElementsCountIsMoreThanAllowedMaximumErrorMessage({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:e,targetPropertyValueSpecification:t,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a,maximalElementsCount:t.maximalElementsCount,actualElementsCount:e.length}))),g(t.exactElementsCount)&&e.length!==t.exactElementsCount&&(i=!0,this.registerValidationError(this.validationErrorsMessagesBuilder.buildIndexedArrayElementsCountDoesNotMatchWithSpecifiedExactNumberErrorMessage({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:e,targetPropertyValueSpecification:t,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a,exactElementsCount:t.exactElementsCount,actualElementsCount:e.length})));let n=this.processingApproach===C.ProcessingApproaches.existingObjectManipulation?e:[];const o=this.currentlyIteratedObjectPropertyQualifiedNameSegmentsForLogging.length;let s=!1;for(const[a,i]of e.entries()){this.currentlyIteratedObjectPropertyQualifiedNameSegmentsForLogging[o]=a;let l,c=i;const d=C.getNormalizedPreValidationModifications(t.element.preValidationModifications);d.length>0&&(l=u(i));for(const e of d)try{c=e(c)}catch(e){this.registerValidationError(this.validationErrorsMessagesBuilder.buildPreValidationModificationFailedErrorMessage({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:c,targetPropertyValueSpecification:t.element,targetPropertyStringifiedValueBeforeFirstPreValidationModification:l,thrownError:e}))}if(m(c)){!0!==t.allowUndefinedTypeElements&&(s=!0,this.registerValidationError(this.validationErrorsMessagesBuilder.buildIndexedArrayDisallowedUndefinedElementErrorMessage({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:e,targetPropertyValueSpecification:t,targetPropertyStringifiedValueBeforeFirstPreValidationModification:l})));continue}if(p(c)){!0!==t.allowNullElements&&(s=!0,this.registerValidationError(this.validationErrorsMessagesBuilder.buildIndexedArrayDisallowedNullElementErrorMessage({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:e,targetPropertyValueSpecification:t,targetPropertyStringifiedValueBeforeFirstPreValidationModification:l})));continue}const g=this.processSingleNeitherUndefinedNorNullValue({targetValue:c,targetValueSpecification:t.element,parentObject:r,targetPropertyStringifiedValueBeforeFirstPreValidationModification:l});switch(this.processingApproach){case C.ProcessingApproaches.newObjectAssembling:if("isInvalid"in g){s=!0;continue}if("isValidButValidationOnlyModeActive"in g)continue;n[a]=g.processedValue;case C.ProcessingApproaches.existingObjectManipulation:}}this.currentlyIteratedObjectPropertyQualifiedNameSegmentsForLogging.splice(-1,1);for(const i of C.getNormalizedCustomValidators(t.customValidators))i.validationFunction({currentPropertyValue:e,rawData__full:this.rawData,rawData__currentObjectDepth:r??this.rawData})||(s=!0,this.registerValidationError(this.validationErrorsMessagesBuilder.buildCustomValidationFailedErrorMessageTextData({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:e,targetPropertyValueSpecification:t,customValidationDescription:i.descriptionForLogging,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a})));if(i||s)return{isInvalid:!0};if(this.isValidationOnlyMode)return{isValidButValidationOnlyModeActive:!0};for(const e of C.getNormalizedPostValidationModifications(t.postValidationModifications))n=e(n);return{processedValue:n}}processAssociativeArrayTypeValue({targetValue__expectedToBeAssociativeArrayTypeObject:e,targetAssociativeArrayTypeValueSpecification:t,parentObject:r,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a}){if(!h(e))return this.registerValidationError(this.validationErrorsMessagesBuilder.buildValueTypeDoesNotMatchWithExpectedErrorMessage({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:e,targetPropertyValueSpecification:t,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a})),{isInvalid:!0};let i=!1;if(g(t.minimalEntriesCount)&&Object.entries(e).length<t.minimalEntriesCount&&(i=!0,this.registerValidationError(this.validationErrorsMessagesBuilder.buildAssociativeArrayEntriesCountIsLessThanRequiredMinimumErrorMessage({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:e,targetPropertyValueSpecification:t,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a,minimalEntriesCount:t.minimalEntriesCount,actualEntriesCount:Object.entries(e).length}))),g(t.maximalEntriesCount)&&Object.entries(e).length>t.maximalEntriesCount&&(i=!0,this.registerValidationError(this.validationErrorsMessagesBuilder.buildAssociativeArrayPairsCountIsMoreThanAllowedMaximumErrorMessage({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:e,targetPropertyValueSpecification:t,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a,maximalEntriesCount:t.maximalEntriesCount,actualEntriesCount:Object.entries(e).length}))),g(t.exactEntriesCount)&&Object.entries(e).length!==t.exactEntriesCount&&(i=!0,this.registerValidationError(this.validationErrorsMessagesBuilder.buildAssociativeArrayPairsCountDoesNotMatchWithSpecifiedExactNumberErrorMessage({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:e,targetPropertyValueSpecification:t,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a,exactEntriesCount:t.exactEntriesCount,actualEntriesCount:Object.entries(e).length}))),A(t.requiredKeys)){const r=[...t.requiredKeys].filter((t=>!Object.keys(e).includes(t)));r.length>0&&(i=!0,this.registerValidationError(this.validationErrorsMessagesBuilder.buildRequiredKeysOfAssociativeArrayAreMissingErrorMessage({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:e,targetPropertyValueSpecification:t,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a,missingRequiredKeys:r})))}if(A(t.oneOfKeysIsRequired)){let r=!0;for(const a of Object.keys(e))if(t.oneOfKeysIsRequired.includes(a)){r=!1;break}r&&(i=!0,this.registerValidationError(this.validationErrorsMessagesBuilder.buildRequiredAlternativeKeysOfAssociativeArrayAreMissingErrorMessage({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:e,targetPropertyValueSpecification:t,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a,requiredKeysAlternatives:t.oneOfKeysIsRequired})))}const n=[];if(A(t.allowedKeys)){for(const r of Object.keys(e))t.allowedKeys.includes(r)||n.push(r);n.length>0&&(i=!0,this.registerValidationError(this.validationErrorsMessagesBuilder.buildDisallowedKeysFoundInAssociativeArrayErrorMessage({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:e,targetPropertyValueSpecification:t,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a,foundDisallowedKeys:n})))}let o=this.processingApproach===C.ProcessingApproaches.existingObjectManipulation?e:{};const s=this.currentlyIteratedObjectPropertyQualifiedNameSegmentsForLogging.length;let l=!1;for(const[a,i]of Object.entries(e)){if(this.currentlyIteratedObjectPropertyQualifiedNameSegmentsForLogging[s]=a,n.includes(a))continue;let c,d=i;const g=C.getNormalizedPreValidationModifications(t.value.preValidationModifications);g.length>0&&(c=u(d));for(const e of g)try{d=e(d)}catch(e){this.registerValidationError(this.validationErrorsMessagesBuilder.buildPreValidationModificationFailedErrorMessage({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:d,targetPropertyValueSpecification:t.value,targetPropertyStringifiedValueBeforeFirstPreValidationModification:c,thrownError:e}))}const h=t.keysRenamings?.[a]??a;if(m(d)){!0!==t.allowUndefinedTypeValues&&(l=!0,this.registerValidationError(this.validationErrorsMessagesBuilder.associativeArrayDisallowedUndefinedValueErrorMessage({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:e,targetPropertyValueSpecification:t,targetPropertyStringifiedValueBeforeFirstPreValidationModification:c})));continue}if(p(d)){!0!==t.allowNullValues&&(l=!0,this.registerValidationError(this.validationErrorsMessagesBuilder.associativeArrayDisallowedNullValueErrorMessage({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:e,targetPropertyValueSpecification:t,targetPropertyStringifiedValueBeforeFirstPreValidationModification:c})));continue}const f=this.processSingleNeitherUndefinedNorNullValue({targetValue:d,targetValueSpecification:t.value,parentObject:r,targetPropertyStringifiedValueBeforeFirstPreValidationModification:c});switch(this.processingApproach){case C.ProcessingApproaches.newObjectAssembling:if("isInvalid"in f){l=!0;continue}if("isValidButValidationOnlyModeActive"in f)continue;o[h]=f.processedValue;case C.ProcessingApproaches.existingObjectManipulation:}}this.currentlyIteratedObjectPropertyQualifiedNameSegmentsForLogging.splice(-1,1);for(const i of C.getNormalizedCustomValidators(t.customValidators))i.validationFunction({currentPropertyValue:e,rawData__full:this.rawData,rawData__currentObjectDepth:r??this.rawData})||(l=!0,this.registerValidationError(this.validationErrorsMessagesBuilder.buildCustomValidationFailedErrorMessageTextData({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:e,targetPropertyValueSpecification:t,customValidationDescription:i.descriptionForLogging,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a})));if(i||l)return{isInvalid:!0};if(this.isValidationOnlyMode)return{isValidButValidationOnlyModeActive:!0};for(const e of C.getNormalizedPostValidationModifications(t.postValidationModifications))o=e(o);return{processedValue:o}}processSingleNeitherUndefinedNorNullValue({targetValue:e,targetValueSpecification:t,parentObject:r,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a}){switch(C.getNormalizedValueTypeID(t.type)){case C.ValuesTypesIDs.number:return this.processNumberValue({targetValue__expectedToBeNumber:e,targetValueSpecification:t,parentObject:r,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a});case C.ValuesTypesIDs.string:return this.processStringValue({targetValue__expectedToBeString:e,targetValueSpecification:t,parentObject:r,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a});case C.ValuesTypesIDs.boolean:return this.processBooleanValue({targetValue__expectedToBeBoolean:e,targetValueSpecification:t,parentObject:r,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a});case C.ValuesTypesIDs.fixedKeyAndValuePairsObject:return this.processFixedKeyAndValuePairsNonNullObjectTypeValue({targetValue__expectedToBeObject:e,targetObjectTypeValueSpecification:t,parentObject:r,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a});case C.ValuesTypesIDs.indexedArrayOfUniformElements:return this.processIndexedArrayTypeValue({targetValue__expectedToBeIndexedArray:e,targetIndexedArrayTypeValueSpecification:t,parentObject:r,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a});case C.ValuesTypesIDs.associativeArrayOfUniformTypeValues:return this.processAssociativeArrayTypeValue({targetValue__expectedToBeAssociativeArrayTypeObject:e,targetAssociativeArrayTypeValueSpecification:t,parentObject:r,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a})}return t.type===C.ValuesTypesIDs.oneOf?this.processMultipleTypesAllowedValue({targetValue:e,targetValueSpecification:t,parentObject:r,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a}):(D.logError({errorType:V.NAME,title:V.localization.defaultTitle,description:`The specified value type '${t.type.toString()}' is not supported.`,occurrenceLocation:"RawObjectDataProcessor.process(rawData, validDataSpecification, options)-> processSingleNeitherUndefinedNorNullValue(parametersObject)"}),this.isValidationOnlyMode?{isValidButValidationOnlyModeActive:!0}:{isInvalid:!0})}processNumberValue({targetValue__expectedToBeNumber:e,targetValueSpecification:t,parentObject:r,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a}){if(!o(e))return this.registerValidationError(this.validationErrorsMessagesBuilder.buildValueTypeDoesNotMatchWithExpectedErrorMessage({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:e,targetPropertyValueSpecification:t,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a})),{isInvalid:!0};let i;switch(t.numbersSet){case C.NumbersSets.naturalNumber:i=f(e);break;case C.NumbersSets.nonNegativeInteger:i=y(e);break;case C.NumbersSets.negativeInteger:i=E(e);break;case C.NumbersSets.negativeIntegerOrZero:i=N(e);break;case C.NumbersSets.anyInteger:i=Number.isInteger(e);break;case C.NumbersSets.positiveDecimalFraction:i=b(e);break;case C.NumbersSets.negativeDecimalFraction:i=P(e);break;case C.NumbersSets.decimalFractionOfAnySign:i=M(e);break;case C.NumbersSets.anyRealNumber:i=!0}if(!i)return this.registerValidationError(this.validationErrorsMessagesBuilder.buildNumberValueIsNotBelongToExpectedNumbersSetErrorMessage({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:e,targetPropertyValueSpecification:t,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a,expectedNumbersSet:t.numbersSet})),{isInvalid:!0};if(g(t.allowedAlternatives)&&!t.allowedAlternatives.map((e=>o(e)?e:e.value)).includes(e))return this.registerValidationError(this.validationErrorsMessagesBuilder.buildValueIsNotAmongAllowedAlternativesErrorMessage({allowedAlternatives:t.allowedAlternatives.map((e=>o(e)?e.toString():e.key)),targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:e,targetPropertyValueSpecification:t,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a})),{isInvalid:!0};if(g(t.minimalValue)&&e<t.minimalValue)return this.registerValidationError(this.validationErrorsMessagesBuilder.buildNumericValueIsSmallerThanRequiredMinimumErrorMessage({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:e,targetPropertyValueSpecification:t,requiredMinimum:t.minimalValue,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a})),{isInvalid:!0};if(g(t.maximalValue)&&e>t.maximalValue)return this.registerValidationError(this.validationErrorsMessagesBuilder.buildNumericValueIsGreaterThanAllowedMaximumErrorMessage({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:e,targetPropertyValueSpecification:t,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a,allowedMaximum:t.maximalValue})),{isInvalid:!0};let n=!1;for(const i of C.getNormalizedCustomValidators(t.customValidators))i.validationFunction({currentPropertyValue:e,rawData__full:this.rawData,rawData__currentObjectDepth:r??this.rawData})||(n=!0,this.registerValidationError(this.validationErrorsMessagesBuilder.buildCustomValidationFailedErrorMessageTextData({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:e,targetPropertyValueSpecification:t,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a,customValidationDescription:i.descriptionForLogging})));if(n)return{isInvalid:!0};if(this.isValidationOnlyMode)return{isValidButValidationOnlyModeActive:!0};let s=e;for(const e of C.getNormalizedPostValidationModifications(t.postValidationModifications))s=e(s);return{processedValue:s}}processStringValue({targetValue__expectedToBeString:e,targetValueSpecification:t,parentObject:r,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a}){if(!i(e))return this.registerValidationError(this.validationErrorsMessagesBuilder.buildValueTypeDoesNotMatchWithExpectedErrorMessage({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:e,targetPropertyValueSpecification:t,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a})),{isInvalid:!0};if(g(t.allowedAlternatives)&&!t.allowedAlternatives.map((e=>i(e)?e:e.value)).includes(e))return this.registerValidationError(this.validationErrorsMessagesBuilder.buildValueIsNotAmongAllowedAlternativesErrorMessage({allowedAlternatives:t.allowedAlternatives.map((e=>i(e)?e:e.key)),targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:e,targetPropertyValueSpecification:t,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a})),{isInvalid:!0};if(f(t.minimalCharactersCount)&&e.length<t.minimalCharactersCount)return this.registerValidationError(this.validationErrorsMessagesBuilder.buildCharactersCountIsLessThanRequiredErrorMessage({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:e,targetPropertyValueSpecification:t,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a,minimalCharactersCount:t.minimalCharactersCount,realCharactersCount:e.length})),{isInvalid:!0};if(f(t.maximalCharactersCount)&&e.length>t.maximalCharactersCount)return this.registerValidationError(this.validationErrorsMessagesBuilder.buildCharactersCountIsMoreThanAllowedErrorMessage({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:e,targetPropertyValueSpecification:t,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a,maximalCharactersCount:t.maximalCharactersCount,realCharactersCount:e.length})),{isInvalid:!0};if(f(t.fixedCharactersCount)&&e.length!==t.fixedCharactersCount)return this.registerValidationError(this.validationErrorsMessagesBuilder.buildCharactersCountDoesNotMatchWithSpecifiedErrorMessage({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:e,targetPropertyValueSpecification:t,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a,fixedCharactersCount:t.fixedCharactersCount,realCharactersCount:e.length})),{isInvalid:!0};if(g(t.validValueRegularExpression)&&!t.validValueRegularExpression.test(e))return this.registerValidationError(this.validationErrorsMessagesBuilder.buildRegularExpressionMismatchErrorMessage({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:e,targetPropertyValueSpecification:t,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a,regularExpression:t.validValueRegularExpression})),{isInvalid:!0};let n=!1;for(const i of C.getNormalizedCustomValidators(t.customValidators))i.validationFunction({currentPropertyValue:e,rawData__full:this.rawData,rawData__currentObjectDepth:r??this.rawData})||(n=!0,this.registerValidationError(this.validationErrorsMessagesBuilder.buildCustomValidationFailedErrorMessageTextData({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:e,targetPropertyValueSpecification:t,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a,customValidationDescription:i.descriptionForLogging})));if(n)return{isInvalid:!0};if(this.isValidationOnlyMode)return{isValidButValidationOnlyModeActive:!0};let o=e;for(const e of C.getNormalizedPostValidationModifications(t.postValidationModifications))o=e(o);return{processedValue:o}}processBooleanValue({targetValue__expectedToBeBoolean:e,targetValueSpecification:t,parentObject:r,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a}){if(!s(e))return this.registerValidationError(this.validationErrorsMessagesBuilder.buildValueTypeDoesNotMatchWithExpectedErrorMessage({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:e,targetPropertyValueSpecification:t,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a})),{isInvalid:!0};if(!0===t.trueOnly&&!e||!0===t.falseOnly&&e)return this.registerValidationError(this.validationErrorsMessagesBuilder.buildDisallowedBooleanValueVariantErrorMessage({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:e,targetPropertyValueSpecification:t,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a,disallowedVariant:!(!0===t.trueOnly)})),{isInvalid:!0};let i=!1;for(const n of C.getNormalizedCustomValidators(t.customValidators))n.validationFunction({currentPropertyValue:e,rawData__full:this.rawData,rawData__currentObjectDepth:r??this.rawData})||(i=!0,this.registerValidationError(this.validationErrorsMessagesBuilder.buildCustomValidationFailedErrorMessageTextData({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:e,targetPropertyValueSpecification:t,customValidationDescription:n.descriptionForLogging,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a})));if(i)return{isInvalid:!0};if(this.isValidationOnlyMode)return{isValidButValidationOnlyModeActive:!0};let n=e;for(const e of C.getNormalizedPostValidationModifications(t.postValidationModifications))n=e(n);return{processedValue:n}}processMultipleTypesAllowedValue({targetValue:e,targetValueSpecification:t,parentObject:r,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a}){let i;switch(typeof e){case"number":i=t.alternatives.find((e=>e.type===C.ValuesTypesIDs.number||e.type===Number));break;case"string":i=t.alternatives.find((e=>e.type===C.ValuesTypesIDs.string||e.type===String));break;case"boolean":i=t.alternatives.find((e=>e.type===C.ValuesTypesIDs.boolean||e.type===Boolean));break;case"object":{if(Array.isArray(e)){i=t.alternatives.find((e=>e.type===C.ValuesTypesIDs.indexedArrayOfUniformElements||e.type===Array));break}const r=t.alternatives.filter((e=>e.type===C.ValuesTypesIDs.fixedKeyAndValuePairsObject||e.type===C.ValuesTypesIDs.associativeArrayOfUniformTypeValues||e.type===Object||e.type===Map));if(r.length>1)return D.logError({errorType:V.NAME,title:V.localization.defaultTitle,description:this.validationErrorsMessagesBuilder.buildIncompatibleValuesTypesAlternativesErrorDescription(t),occurrenceLocation:"RawObjectDataProcessor.processMultipleTypesAllowedValue(parametersObject)"}),{isInvalid:!0};i=r[0];break}}return m(i)?(D.logError({errorType:V.NAME,title:V.localization.defaultTitle,description:this.validationErrorsMessagesBuilder.buildUnsupportedValueTypeErrorDescription({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:e,targetPropertyValueSpecification:t,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a}),occurrenceLocation:"RawObjectDataProcessor.processMultipleTypesAllowedValue(parametersObject)"}),{isInvalid:!0}):this.processSingleNeitherUndefinedNorNullValue({targetValue:e,targetValueSpecification:i,parentObject:r,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a})}registerValidationError(e){this.rawDataIsInvalid=!0,this.validationErrorsMessages.push(e)}get currentObjectPropertyDotSeparatedQualifiedName(){return this.currentlyIteratedObjectPropertyQualifiedNameSegmentsForLogging.join(".")}get isValidationOnlyMode(){return this.rawDataIsInvalid}static getNormalizedPreValidationModifications(e=[]){return Array.isArray(e)?e:[e]}static getNormalizedPostValidationModifications(e=[]){return Array.isArray(e)?e:[e]}static getNormalizedCustomValidators(e=[]){return Array.isArray(e)?e:[e]}}!function(e){let t,r,a,i;!function(e){e.newObjectAssembling="ASSEMBLING_OF_NEW_OBJECT",e.existingObjectManipulation="MANIPULATING_OF_EXISTING_OBJECT"}(t=e.ProcessingApproaches||(e.ProcessingApproaches={})),function(e){e.fixedKeyAndValuePairsObject="FIXED_KEY_AND_VALUE_PAIRS_OBJECT",e.indexedArray="INDEXED_ARRAY",e.associativeArray="ASSOCIATIVE_ARRAY"}(r=e.ObjectSubtypes||(e.ObjectSubtypes={})),function(e){e.number="NUMBER",e.string="STRING",e.boolean="BOOLEAN",e.fixedKeyAndValuePairsObject="FIXED_KEY_AND_VALUE_PAIRS_OBJECT",e.indexedArrayOfUniformElements="INDEXED_ARRAY_OF_UNIFORM_ELEMENTS",e.associativeArrayOfUniformTypeValues="ASSOCIATIVE_ARRAY_OF_UNIFORM_TYPE_VALUES",e.oneOf="ONE_OF"}(a=e.ValuesTypesIDs||(e.ValuesTypesIDs={})),function(e){e.naturalNumber="NATURAL_NUMBER",e.nonNegativeInteger="NON_NEGATIVE_INTEGER",e.negativeInteger="NEGATIVE_INTEGER",e.negativeIntegerOrZero="NEGATIVE_INTEGER_OR_ZERO",e.anyInteger="ANY_INTEGER",e.positiveDecimalFraction="POSITIVE_DECIMAL_FRACTION",e.negativeDecimalFraction="NEGATIVE_DECIMAL_FRACTION",e.decimalFractionOfAnySign="DECIMAL_FRACTION_OF_ANY_SIGN",e.anyRealNumber="ANY_REAL_NUMBER"}(i=e.NumbersSets||(e.NumbersSets={})),e.ValidationErrorsMessagesBuilder=class{localization;buildErrorMessage;constructor(e){this.localization=e,this.buildErrorMessage=e.errorMessageBasicTemplate.bind(this.localization)}get rawDataIsNullErrorMessage(){return this.localization.rawDataIsNullErrorMessage}buildRawDataIsNotObjectErrorMessage(e){return this.localization.buildRawDataIsNotObjectErrorMessage(e)}buildValueTypeDoesNotMatchWithExpectedErrorMessage(e){return this.buildErrorMessage({...e,...this.localization.buildValueTypeDoesNotMatchWithExpectedErrorMessageTextData({targetPropertyValue:e.targetPropertyValue,targetPropertyValueSpecification:e.targetPropertyValueSpecification})})}buildPreValidationModificationFailedErrorMessage(e){return this.buildErrorMessage({...e,...this.localization.buildPreValidationModificationFailedErrorMessageTextData(e.thrownError)})}buildRequiredPropertyIsMissingErrorMessage(e){return this.buildErrorMessage({...e,...this.localization.requiredPropertyIsMissingErrorMessageTextData})}buildConditionallyRequiredPropertyIsMissingWhileRequirementConditionSatisfiedErrorMessage(e){return this.buildErrorMessage({...e,...this.localization.buildConditionallyRequiredPropertyIsMissingErrorMessageTextData(e.requirementConditionDescription)})}buildNonNullableValueIsNullErrorMessage(e){return this.buildErrorMessage({...e,...this.localization.nonNullableValueIsNullErrorMessageTextData})}buildIndexedArrayElementsCountIsLessThanRequiredMinimumErrorMessage(e){return this.buildErrorMessage({...e,...this.localization.buildIndexedArrayElementsCountIsLessThanRequiredMinimumErrorMessageTextData({minimalElementsCount:e.minimalElementsCount,actualElementsCount:e.actualElementsCount})})}buildIndexedArrayElementsCountIsMoreThanAllowedMaximumErrorMessage(e){return this.buildErrorMessage({...e,...this.localization.buildIndexedArrayElementsCountIsMoreThanAllowedMaximumErrorMessageTextData({maximalElementsCount:e.maximalElementsCount,actualElementsCount:e.actualElementsCount})})}buildIndexedArrayElementsCountDoesNotMatchWithSpecifiedExactNumberErrorMessage(e){return this.buildErrorMessage({...e,...this.localization.buildIndexedArrayElementsCountDoesNotMatchWithSpecifiedExactNumberErrorMessageTextData({exactElementsCount:e.exactElementsCount,actualElementsCount:e.actualElementsCount})})}buildIndexedArrayDisallowedUndefinedElementErrorMessage(e){return this.buildErrorMessage({...e,...this.localization.indexedArrayDisallowedUndefinedElementErrorMessageTextData})}buildIndexedArrayDisallowedNullElementErrorMessage(e){return this.buildErrorMessage({...e,...this.localization.indexedArrayDisallowedNullElementErrorMessageTextData})}buildAssociativeArrayEntriesCountIsLessThanRequiredMinimumErrorMessage(e){return this.buildErrorMessage({...e,...this.localization.buildAssociativeArrayEntriesCountIsLessThanRequiredMinimumErrorMessageTextData({minimalEntriesCount:e.minimalEntriesCount,actualEntriesCount:e.actualEntriesCount})})}buildAssociativeArrayPairsCountIsMoreThanAllowedMaximumErrorMessage(e){return this.buildErrorMessage({...e,...this.localization.buildAssociativeArrayEntriesCountIsMoreThanAllowedMaximumErrorMessageTextData({maximalEntriesCount:e.maximalEntriesCount,actualEntriesCount:e.actualEntriesCount})})}buildAssociativeArrayPairsCountDoesNotMatchWithSpecifiedExactNumberErrorMessage(e){return this.buildErrorMessage({...e,...this.localization.buildAssociativeArrayEntriesCountDoesNotMatchWithSpecifiedExactNumberErrorMessageTextData({exactEntriesCount:e.exactEntriesCount,actualEntriesCount:e.actualEntriesCount})})}buildRequiredKeysOfAssociativeArrayAreMissingErrorMessage(e){return this.buildErrorMessage({...e,...this.localization.buildRequiredKeysOfAssociativeArrayAreMissingErrorMessageTextData(e.missingRequiredKeys)})}buildRequiredAlternativeKeysOfAssociativeArrayAreMissingErrorMessage(e){return this.buildErrorMessage({...e,...this.localization.buildRequiredAlternativeKeysOfAssociativeArrayAreMissingErrorMessageTextData(e.requiredKeysAlternatives)})}buildDisallowedKeysFoundInAssociativeArrayErrorMessage(e){return this.buildErrorMessage({...e,...this.localization.buildDisallowedKeysFoundInAssociativeArrayErrorMessageTextData(e.foundDisallowedKeys)})}associativeArrayDisallowedUndefinedValueErrorMessage(e){return this.buildErrorMessage({...e,...this.localization.associativeArrayDisallowedUndefinedValueErrorMessageTextData})}associativeArrayDisallowedNullValueErrorMessage(e){return this.buildErrorMessage({...e,...this.localization.associativeArrayDisallowedNullValueErrorMessageTextData})}buildNumberValueIsNotBelongToExpectedNumbersSetErrorMessage(e){return this.buildErrorMessage({...e,...this.localization.buildNumberValueIsNotBelongToExpectedNumbersSetErrorMessageTextData(e.expectedNumbersSet),expectedNumbersSet:e.expectedNumbersSet})}buildValueIsNotAmongAllowedAlternativesErrorMessage(e){return this.buildErrorMessage({...e,...this.localization.buildValueIsNotAmongAllowedAlternativesErrorMessageTextData(e.allowedAlternatives)})}buildNumericValueIsSmallerThanRequiredMinimumErrorMessage(e){return this.buildErrorMessage({...e,...this.localization.buildNumericValueIsSmallerThanRequiredMinimumErrorMessageTextData(e.requiredMinimum)})}buildNumericValueIsGreaterThanAllowedMaximumErrorMessage(e){return this.buildErrorMessage({...e,...this.localization.buildNumericValueIsGreaterThanAllowedMaximumErrorMessageTextData(e.allowedMaximum)})}buildCharactersCountIsLessThanRequiredErrorMessage(e){return this.buildErrorMessage({...e,...this.localization.buildCharactersCountIsLessThanRequiredErrorMessageTextData({minimalCharactersCount:e.minimalCharactersCount,realCharactersCount:e.realCharactersCount})})}buildCharactersCountIsMoreThanAllowedErrorMessage(e){return this.buildErrorMessage({...e,...this.localization.buildCharactersCountIsMoreThanAllowedErrorMessageTextData({maximalCharactersCount:e.maximalCharactersCount,realCharactersCount:e.realCharactersCount})})}buildCharactersCountDoesNotMatchWithSpecifiedErrorMessage(e){return this.buildErrorMessage({...e,...this.localization.buildCharactersCountDoesNotMatchWithSpecifiedErrorMessageTextData({fixedCharactersCount:e.fixedCharactersCount,realCharactersCount:e.realCharactersCount})})}buildRegularExpressionMismatchErrorMessage(e){return this.buildErrorMessage({...e,...this.localization.buildRegularExpressionMismatchErrorMessageTextData(e.regularExpression)})}buildDisallowedBooleanValueVariantErrorMessage(e){return this.buildErrorMessage({...e,...this.localization.buildDisallowedBooleanValueVariantErrorMessageTextData(e.disallowedVariant)})}buildIncompatibleValuesTypesAlternativesErrorDescription(e){return this.localization.buildIncompatibleValuesTypesAlternativesErrorDescription(e)}buildUnsupportedValueTypeErrorDescription(e){return this.buildErrorMessage({...e,...this.localization.buildUnsupportedValueTypeErrorMessageTextData(e)})}buildCustomValidationFailedErrorMessageTextData(e){return this.buildErrorMessage({...e,...this.localization.buildCustomValidationFailedErrorMessageTextData(e.customValidationDescription)})}}}(C||(C={}));const O=C,v={defaultTitle:"Data submitting failure",generateDescription:({mentionToData:e})=>`The error occurred during submitting of the data "${e}".`};class F extends Error{static NAME="DataSubmittingFailedError";static localization=v;typicalCause;additionalData;constructor(e){super(),this.name=F.NAME,this.message="customMessage"in e?e.customMessage:F.localization.generateDescription(e),this.typicalCause=e.typicalCause,this.additionalData=e.additionalData}}!function(e){let t;!function(e){e.notFound="NOT_FOUND",e.notEnoughPermissions="NOT_ENOUGH_PERMISSIONS"}(t=e.TypicalCauses||(e.TypicalCauses={}))}(F||(F={}));const R=F,L={defaultTitle:"Retrieving of the data from data source failed",generateDescription:({mentionToData:e})=>`The error occurred during the retrieving of the data "${e}" from the external data source.`};class z extends Error{static NAME="DataRetrievingFailedError";static localization=L;typicalCause;additionalData;constructor(e){super(),this.name=z.NAME,this.message="customMessage"in e?e.customMessage:z.localization.generateDescription(e),this.typicalCause=e.typicalCause,this.additionalData=e.additionalData}}!function(e){let t;!function(e){e.notFound="NOT_FOUND",e.notEnoughPermissions="NOT_ENOUGH_PERMISSIONS"}(t=e.TypicalCauses||(e.TypicalCauses={}))}(z||(z={}));const j=z,$={defaultTitle:"Invalid external data",generateDescription:({mentionToExpectedData:e,messageSpecificPart:t})=>`The data "${e}" does not match with expected.${c(t,{modifier:e=>`\n${e}`})}`};class B extends Error{static NAME="InvalidExternalDataError";static localization=$;constructor(e){super(),this.name=B.NAME,this.message="customMessage"in e?e.customMessage:B.localization.generateDescription(e)}}const U=B,k={defaultTitle:"Invalid configuration",generateDescription:({mentionToConfig:e,messageSpecificPart:t})=>`The configuration of "${e}" is invalid.${c(t,{modifier:e=>`\n${e}`})}`};class H extends Error{static NAME="InvalidConfigError";static localization=k;constructor(e){super(),this.name=H.NAME,this.message="customMessage"in e?e.customMessage:H.localization.generateDescription(e)}}const W=H;function q(e){const{targetArray:t,mutably:r}=e,a=t.length,i="number"==typeof e.indexes?[e.indexes]:[...e.indexes].sort(((e,t)=>e-t)).reverse(),n=[],o=[],s=r?t:[...e.targetArray];for(const e of i)y(e)?e>=a?D.logError({errorType:V.NAME,title:V.localization.defaultTitle,description:V.localization.generateDescription({parameterNumber:1,parameterName:"sourceData.indexes",messageSpecificPart:`The index ${e} is greater than index of last element of target array therefore will be ignored.`}),occurrenceLocation:"removeArrayElementsByIndexes(sourceData)"}):o.includes(e)||(n.push(s.splice(e,1)[0]),o.push(e)):D.logError({errorType:V.NAME,title:V.localization.defaultTitle,description:V.localization.generateDescription({parameterNumber:1,parameterName:"sourceData.indexes",messageSpecificPart:`The index ${String(e)} is not the non-negative integer therefore will be ignored.`}),occurrenceLocation:"removeArrayElementsByIndexes(sourceData)"});return{updatedArray:s,removedElements:n.reverse()}}function Q(e){const t=Array.from(e.targetString);let r;return r="fromFirstPosition"in e?0:"fromLastPosition"in e?t.length-1:"fromPosition__numerationFrom0"in e?e.fromPosition__numerationFrom0:e.fromPosition__numerationFrom1-1,t[r]!==e.targetCharacter?e.targetString:q({targetArray:t,indexes:r,mutably:!0}).updatedArray.join("")}const G=e=>{const t=[];for(const[r,a]of Object.entries(e))(i(a)||o(a)||s(a))&&t.push(`${r}=${a}`);return t.join("&")};class K{static implementation=null;static API_SERVER_URI_CONSTANT_PART__WITHOUT_TRAILING_SLASH=null;static URI_QueryParametersSerializer=G;static set API_SERVER_URI_CONSTANT_PART(e){K.API_SERVER_URI_CONSTANT_PART__WITHOUT_TRAILING_SLASH=Q({targetString:e,targetCharacter:"/",fromLastPosition:!0})}static setup(e){g(e.implementation)&&(K.implementation=e.implementation),g(e.API_ServerURI_ConstantPart)&&(K.API_SERVER_URI_CONSTANT_PART=e.API_ServerURI_ConstantPart),g(e.URI_QueryParametersSerializer)&&(K.URI_QueryParametersSerializer=e.URI_QueryParametersSerializer)}static async retrieveData(e){return K.getExpectedToBeInitializedImplementation().retrieveData(e)}static async submitData(e){return K.getExpectedToBeInitializedImplementation().submitData(e)}async retrieveData(e){let t;try{t=await this.retrieveResponseWithRawData({URI:this.normalizeURI(e),HTTP_Method:e.HTTP_Method??a.get,HTTP_Headers:e.HTTP_Headers??{},mustIncludeCookiesAndAuthenticationHeadersToRequest:!0===e.mustIncludeCookiesAndAuthenticationHeadersToRequest})}catch(e){D.throwErrorAndLog({errorInstance:new j({customMessage:"The retrieving data by AJAX has failed."}),title:j.localization.defaultTitle,occurrenceLocation:"AJAX_Service.retrieveData(compoundParameter)",innerError:e})}if(t.isSuccessful){const r=O.process(t.data,e.validResponseDataSpecification);return r.rawDataIsInvalid&&D.throwErrorAndLog({errorInstance:new U({mentionToExpectedData:"HTTP_ResponseData",messageSpecificPart:O.formatValidationErrorsList(r.validationErrorsMessages)}),title:U.localization.defaultTitle,occurrenceLocation:"AJAX_Service.retrieveData(compoundParameter)"}),{isSuccessful:!0,data:r.processedData,HTTP_Headers:t.HTTP_Headers,HTTP_Status:t.HTTP_Status}}return{isSuccessful:!1,data:t.data,HTTP_Headers:t.HTTP_Headers,HTTP_Status:t.HTTP_Status}}async submitData(e){let t;try{t=await this.submitAndGetRawResponseDataIfAvailable({URI:this.normalizeURI(e),HTTP_Method:e.HTTP_Method??a.get,HTTP_Headers:e.HTTP_Headers??{},requestData:e.requestData,mustExpectResponseData:g(e.validResponseDataSpecification),mustIncludeCookiesAndAuthenticationHeadersToRequest:!0===e.mustIncludeCookiesAndAuthenticationHeadersToRequest})}catch(e){D.throwErrorAndLog({errorInstance:new R({customMessage:"The submitting of the data by AJAX has failed."}),title:R.localization.defaultTitle,occurrenceLocation:"AJAX_Service.submitData(compoundParameter)",innerError:e})}if(m(e.validResponseDataSpecification))return t.isSuccessful?{isSuccessful:!0,data:t.data,HTTP_Headers:t.HTTP_Headers,HTTP_Status:t.HTTP_Status}:{isSuccessful:!1,data:t.data,HTTP_Headers:t.HTTP_Headers,HTTP_Status:t.HTTP_Status};if(t.isSuccessful){const r=O.process(t.data,e.validResponseDataSpecification);return r.rawDataIsInvalid&&D.throwErrorAndLog({errorInstance:new U({mentionToExpectedData:"HTTP_ResponseData",messageSpecificPart:O.formatValidationErrorsList(r.validationErrorsMessages)}),title:U.localization.defaultTitle,occurrenceLocation:"AJAX_Service.retrieveData(compoundParameter)"}),{isSuccessful:!0,data:r.processedData,HTTP_Headers:t.HTTP_Headers,HTTP_Status:t.HTTP_Status}}return{isSuccessful:!1,data:t.data,HTTP_Headers:t.HTTP_Headers,HTTP_Status:t.HTTP_Status}}normalizeURI(e){const t=this.normalizeURI_UntilPath(e),r=e.URI_QueryParameters??{};let a;return Object.entries(r).length>0&&(a=e.URI_QueryParametersSerializer?.(r)??K.URI_QueryParametersSerializer(r)),t+c(a,{modifier:e=>`?${e}`})}normalizeURI_UntilPath(e){return S(e.alternatingURI_PathPart)?(p(K.API_SERVER_URI_CONSTANT_PART__WITHOUT_TRAILING_SLASH)&&D.throwErrorAndLog({errorInstance:new W({customMessage:'The "alternatingURI_PathPart" has been specified while the the static field "API_SERVER_URI_CONSTANT_PART" has not been set.'}),title:W.localization.defaultTitle,occurrenceLocation:"AJAX_Service.normalizeURI_UntilPath(URI_PathRawDefinition)"}),encodeURI(`${K.API_SERVER_URI_CONSTANT_PART__WITHOUT_TRAILING_SLASH}/`+Q({targetString:e.alternatingURI_PathPart,targetCharacter:"/",fromFirstPosition:!0}))):S(e.specificURI_UntilPath)?encodeURI(e.specificURI_UntilPath):void D.throwErrorAndLog({errorInstance:new V({customMessage:'Either "alternatingURI_PathPart" or "specificURI_UntilPath" must be specified with non-empty strings while neither has been.'}),title:V.localization.defaultTitle,occurrenceLocation:"AJAX_Service.normalizeURI_UntilPath(URI_PathRawDefinition)"})}static getExpectedToBeInitializedImplementation(){return p(K.implementation)&&D.throwErrorAndLog({errorType:"ImplementationHasNotBeenSetError",title:"Implementation has not been set",description:'To use the static methods of "AJAX_Service" class and its inheritors, it is required to set the "implementation" public static field first or use "setup" static method.',occurrenceLocation:"AJAX_Service.getExpectedToBeInitializedImplementation()"}),K.implementation}}const Y=K,X={defaultTitle:"Unsupported scenario"};class J extends Error{static NAME="UnsupportedScenarioError";static localization=X;constructor(e){super(),this.name=J.NAME,this.message=e}}const Z=J;function ee(e){return"object"==typeof e}const te={defaultTitle:"HTTP Response Body Parsing Failure"};class re extends Error{static NAME="HTTP_ResponseBodyParsingFailureError";static localization=te;constructor(e){super(),this.name=re.NAME,this.message=e}}const ae=re;class ie extends Y{async retrieveResponseWithRawData(e){let t;try{t=await fetch(e.URI,{method:e.HTTP_Method,headers:{...e.HTTP_Headers},...e.mustIncludeCookiesAndAuthenticationHeadersToRequest?{credentials:"include"}:null})}catch(e){D.throwErrorAndLog({errorInstance:new j({customMessage:"The error has occurred before response has been retrieved."}),title:j.localization.defaultTitle,occurrenceLocation:"FetchAPI_Service.retrieveResponseWithRawData(compoundParameter)",innerError:e})}return{isSuccessful:t.ok,data:await ie.extractRawDataFromResponse(t),HTTP_Headers:Array.from(t.headers).reduce(((e,[t,r])=>(e[t]=r,e)),{}),HTTP_Status:t.status}}async submitAndGetRawResponseDataIfAvailable(e){let t;try{t=await fetch(e.URI,{method:e.HTTP_Method,headers:{"Content-Type":"application/json; charset=UTF-8",...e.HTTP_Headers},...e.mustIncludeCookiesAndAuthenticationHeadersToRequest?{credentials:"include"}:null,body:JSON.stringify(e.requestData)})}catch(e){D.throwErrorAndLog({errorInstance:new R({customMessage:"The error has occurred before server response has been retrieved."}),title:R.localization.defaultTitle,occurrenceLocation:"FetchAPI_Service.submitAndGetRawResponseDataIfAvailable(compoundParameter)",innerError:e})}return{isSuccessful:t.ok,data:e.mustExpectResponseData||!t.ok?await ie.extractRawDataFromResponse(t):{},HTTP_Headers:Array.from(t.headers).reduce(((e,[t,r])=>(e[t]=r,e)),{}),HTTP_Status:t.status}}static async extractRawDataFromResponse(e){let t;try{t=await e.json()}catch(e){D.throwErrorAndLog({errorInstance:new ae("The HTTP response body could not be represented as JSON."),title:ae.localization.defaultTitle,occurrenceLocation:"FetchAPI_Service.decodeJSON_Data(compoundParameter)",innerError:e})}return ee(t)||D.throwErrorAndLog({errorInstance:new Z(`The data has type "${typeof t}" while currently non-object data in not supported.`),title:Z.localization.defaultTitle,occurrenceLocation:"FetchAPI_Service.decodeJSON_Data(compoundParameter)"}),t}}function ne(e){const t=e.mutably?e.targetArray:[...e.targetArray];if("toStart"in e)return t.unshift(...e.newElements),t;if("toEnd"in e)return t.push(...e.newElements),t;let r;return y(e.toPosition__numerationFrom0)?r=e.toPosition__numerationFrom0:f(e.toPosition__numerationFrom1)?r=e.toPosition__numerationFrom1-1:D.throwErrorAndLog({errorInstance:new V({parameterNumber:1,parameterName:"compoundParameter",messageSpecificPart:'The target position has been incorrectly specified. The valid alternatives are:\n● "toStart": must the the boolean herewith "true" only● "toEnd": must the the boolean herewith "true" only● "toPosition__numerationFrom0": must the the positive integer\n● "toPosition__numerationFrom1": must the the natual number'}),title:V.localization.defaultTitle,occurrenceLocation:"addElementsToArray(compoundParameter)"}),t.splice(r,0,...e.newElements),t}function oe(e){return y(e)||D.throwErrorAndLog({errorInstance:new V({parameterNumber:1,parameterName:"elementsCount",messageSpecificPart:`The first and only parameter of "createArrayOfNatuaclNumbers" must be the natural number while actually has value: ${String(e)}`}),title:V.localization.defaultTitle,occurrenceLocation:"createArrayOfNaturalNumbers(elementsCount)"}),Array.from(new Array(e).keys()).map((e=>e+1))}function se(e){const t=e.targetArray;let r,a;return y(e.startingElementNumber__numerationFrom0)?r=e.startingElementNumber__numerationFrom0:f(e.startingElementNumber__numerationFrom1)?r=e.startingElementNumber__numerationFrom1-1:!0===e.fromStart?r=0:D.throwErrorAndLog({errorInstance:new V({parameterNumber:1,parameterName:"compoundParameter",messageSpecificPart:'It has been incorrectly specified from which element target array must be cropped. The valid alternatives are:\n● "startingElementNumber__numerationFrom0": must the the positive integer\n● "startingElementNumber__numerationFrom1": must the the natual number\n● "fromStart": must the the boolean herewith "true" only'}),title:V.localization.defaultTitle,occurrenceLocation:"cropArray(compoundParameter)"}),y(e.endingElementNumber__numerationFrom0)?a=e.endingElementNumber__numerationFrom0+1:f(e.endingElementNumber__numerationFrom1)?a=e.endingElementNumber__numerationFrom1:f(e.elementsCount)?a=r+e.elementsCount:!0===e.untilEnd?a=t.length:D.throwErrorAndLog({errorInstance:new V({parameterNumber:1,parameterName:"compoundParameter",messageSpecificPart:'It has been incorrectly specified until which element target array must be cropped. The valid alternatives are:\n● "endingElementNumber__numerationFrom0": must the the positive integer\n● "endingElementNumber__numerationFrom1": must the the natual number\n● "elementsCount": must the the natual number\n● "untilEnd": must the the boolean herewith "true" only\n'}),title:V.localization.defaultTitle,occurrenceLocation:"cropArray(compoundParameter)"}),a>t.length&&e.mustThrowErrorIfSpecifiedElementsNumbersAreOutOfRange&&D.throwErrorAndLog({errorInstance:new V({parameterNumber:1,parameterName:"compoundParameter",messageSpecificPart:`The specified last element number is ${a} (numeration from 0) while the target array has only ${t.length} elements.The error has been thrown because the "mustThrowErrorIfSpecifiedElementsNumbersAreOutOfRange" option has been set to "true".`}),title:V.localization.defaultTitle,occurrenceLocation:"cropArray(compoundParameter)"}),e.mutably?(e.targetArray.splice(a,t.length),e.targetArray.splice(0,r),e.targetArray):t.slice(r,a)}const le={defaultTitle:"Unexpected event occurred"};class ue extends Error{static NAME="UnexpectedEventError";static localization=le;constructor(e){super(),this.name=ue.NAME,this.message=e}}const ce=ue;function de(e,t,r={}){const a=e.filter(t);return 0===a.length?(!0===r.mustThrowErrorIfElementNotFoundOrMatchesAreMultiple&&D.throwErrorAndLog({errorInstance:new ce("Array element satisfies the specified predicate not found."),title:ce.localization.defaultTitle,occurrenceLocation:"getArrayElementSatisfiesThePredicateIfSuchElementIsExactlyOne(targetArray, predicate, options)"}),null):a.length>1?(!0===r.mustThrowErrorIfElementNotFoundOrMatchesAreMultiple&&D.throwErrorAndLog({errorInstance:new ce("There are multiple elements satisfies the predicate. As it follows from the function name, two or more matches case is being considered as the unexpected event."),title:ce.localization.defaultTitle,occurrenceLocation:"getArrayElementSatisfiesThePredicateIfSuchElementIsExactlyOne(targetArray, predicate, options)"}),null):a[0]}function me(e,t){const r=[];return e.forEach(((e,a)=>{t(e)&&r.push(a)})),r}function ge(e,t,r={}){const a=[];for(const[r,i]of e.entries())t(i)&&a.push(r);return 0===a.length?(!0===r.mustThrowErrorIfElementNotFoundOrMatchesAreMultiple&&D.throwErrorAndLog({errorInstance:new ce("Array element satisfies to specified predicate not found."),title:ce.localization.defaultTitle,occurrenceLocation:"getIndexOfArrayElementSatisfiesThePredicateIfSuchElementIsExactlyOne(targetArray, predicate, options)"}),null):a.length>1?(!0===r.mustThrowErrorIfElementNotFoundOrMatchesAreMultiple&&D.throwErrorAndLog({errorInstance:new ce("There are multiple elements satisfies the predicate. As it follows from the function name, two or more matches case is being considered as unexpected event."),title:ce.localization.defaultTitle,occurrenceLocation:"getIndexOfArrayElementSatisfiesThePredicateIfSuchElementIsExactlyOne(targetArray, predicate, options)"}),null):a[0]}function pe(e,t){const r=e[e.length-1];return m(r)?(!0===t?.mustThrowErrorIfArrayIsEmpty&&D.throwErrorAndLog({errorInstance:new ce("Contrary to expectations, target array is empty thus there is not the last element could be accessed."),title:ce.localization.defaultTitle,occurrenceLocation:"getLastElementOfArray(targetArray, options)"}),null):r}function he(e){if(e.targetArray.length<2)return e.errorMustBeThrownIf.elementsCountIsLessThan2&&D.throwErrorAndLog({errorInstance:new V({parameterNumber:1,parameterName:"compoundParameter",messageSpecificPart:`Target array must contain at least 2 elements while actually contains ${e.targetArray.length}. This situation is being considered as an error when "errorMustBeThrownIf.elementsCountIsLessThan2" flag is set to "true".`}),title:V.localization.defaultTitle,occurrenceLocation:"moveArrayElementTo1Position(compoundParameter)"}),e.targetArray;const t=e.mutably?e.targetArray:[...e.targetArray],r="targetElementNumber__numerationFrom0"in e?e.targetElementNumber__numerationFrom0:e.targetElementNumber__numerationFrom1-1;if(r<0||r>t.length)return e.errorMustBeThrownIf.targetElementNumberIsOutOfRange&&D.throwErrorAndLog({errorInstance:new V({parameterNumber:1,parameterName:"compoundParameter",messageSpecificPart:'Target element number is out of range. This situation is being considered as an error when "errorMustBeThrownIf.targetElementNumberIsOutOfRange" flag is set to "true".'}),title:V.localization.defaultTitle,occurrenceLocation:"moveArrayElementTo1Position(compoundParameter)"}),t;if(0===r&&e.toLeft){const e=t[0];return t.shift(),t.push(e),t}if(r===t.length-1&&!e.toLeft){const e=t[t.length-1];return t.pop(),t.unshift(e),t}const a=e.toLeft?r-1:r+1,i=t[a];return t[a]=t[r],t[r]=i,t}function fe(e){const{targetArray:t,mutably:r}=e,a=[];for(const r of[..."predicates"in e?e.predicates:[e.predicate]])a.push(...me(t,r).filter((e=>!a.includes(e))));return{...q({...r?{mutably:!0,targetArray:t}:{mutably:!1,targetArray:t},indexes:a}),indexesOfRemovedElements:a.sort(((e,t)=>e-t))}}function ye(e){const t=[...e.targetArray],r="replacements"in e?e.replacements:[{index:e.index,newElement:e.newElement}];for(const e of r)t[e.index]=e.newElement;return t}function Ee(e){const{targetArray:t,mutably:r}=e,a=new Map,i=[];let n;n="replacements"in e?e.replacements:"newValue"in e?[{predicate:e.predicate,newValue:e.newValue}]:[{predicate:e.predicate,replacer:e.replacer}];for(const e of n){const r=me(t,e.predicate);for(const n of r)i.includes(n)||i.push(n),a.set(n,"newValue"in e?e.newValue:e.replacer(t[n]))}const o=r?t:[...e.targetArray];for(const[e,t]of a)o[e]=t;return{updatedArray:o,indexesOfReplacedElements:i}}function Ne(e){const t=[],r=e.targetFlatArray.length;let a=[];for(const[i,n]of e.targetFlatArray.entries())a.push(n),i!==r-1?a.length===e.elementsCountPerNestedArray&&(t.push(a),a=[]):t.push(a);return t}var be,Pe,Me,Ae,Te,Se;!function(e){e[e.continue=100]="continue",e[e.switchingProtocols=101]="switchingProtocols",e[e.processing=102]="processing",e[e.earlyHints=103]="earlyHints",e[e.OK=200]="OK",e[e.created=201]="created",e[e.accepted=202]="accepted",e[e.nonAuthoritativeInformation=203]="nonAuthoritativeInformation",e[e.noContent=204]="noContent",e[e.resetContent=205]="resetContent",e[e.partialContent=206]="partialContent",e[e.multiStatus=207]="multiStatus",e[e.alreadyReported=208]="alreadyReported",e[e.IM_Used=226]="IM_Used",e[e.multipleChoices=300]="multipleChoices",e[e.movedPermanently=301]="movedPermanently",e[e.found=302]="found",e[e.seeOther=303]="seeOther",e[e.notModified=304]="notModified",e[e.useProxy=305]="useProxy",e[e.unused=306]="unused",e[e.temporaryRedirect=307]="temporaryRedirect",e[e.permanentRedirect=308]="permanentRedirect",e[e.badRequest=400]="badRequest",e[e.unauthorized=401]="unauthorized",e[e.paymentRequired=402]="paymentRequired",e[e.forbidden=403]="forbidden",e[e.notFound=404]="notFound",e[e.methodNotAllowed=405]="methodNotAllowed",e[e.notAcceptable=406]="notAcceptable",e[e.proxyAuthenticationRequired=407]="proxyAuthenticationRequired",e[e.requestTimeout=408]="requestTimeout",e[e.conflict=409]="conflict",e[e.gone=410]="gone",e[e.lengthRequired=411]="lengthRequired",e[e.preconditionFailed=412]="preconditionFailed",e[e.payloadTooLarge=413]="payloadTooLarge",e[e.URI_TooLong=414]="URI_TooLong",e[e.unsupportedMediaType=415]="unsupportedMediaType",e[e.rangeNotSatisfiable=416]="rangeNotSatisfiable",e[e.expectationFailed=417]="expectationFailed",e[e.IAmATeapot=418]="IAmATeapot",e[e.misdirectedRequest=421]="misdirectedRequest",e[e.unprocessableEntity=422]="unprocessableEntity",e[e.locked=423]="locked",e[e.failedDependency=424]="failedDependency",e[e.tooEarly=425]="tooEarly",e[e.upgradeRequired=426]="upgradeRequired",e[e.preconditionRequired=428]="preconditionRequired",e[e.tooManyRequests=429]="tooManyRequests",e[e.requestHeaderFieldsTooLarge=431]="requestHeaderFieldsTooLarge",e[e.unavailableForLegalReasons=451]="unavailableForLegalReasons",e[e.internalServerError=500]="internalServerError",e[e.notImplemented=501]="notImplemented",e[e.badGateway=502]="badGateway",e[e.serviceUnavailable=503]="serviceUnavailable",e[e.gatewayTimeout=504]="gatewayTimeout",e[e.HTTP_VersionNotSupported=505]="HTTP_VersionNotSupported",e[e.variantAlsoNegotiates=506]="variantAlsoNegotiates",e[e.insufficientStorage=507]="insufficientStorage",e[e.loopDetected=508]="loopDetected",e[e.notExtended=510]="notExtended",e[e.networkAuthenticationRequired=511]="networkAuthenticationRequired"}(be||(be={})),function(e){e[e.continue=100]="continue",e[e.switchingProtocols=101]="switchingProtocols",e[e.processing=102]="processing",e[e.earlyHints=103]="earlyHints"}(Pe||(Pe={})),function(e){e[e.OK=200]="OK",e[e.created=201]="created",e[e.accepted=202]="accepted",e[e.nonAuthoritativeInformation=203]="nonAuthoritativeInformation",e[e.noContent=204]="noContent",e[e.resetContent=205]="resetContent",e[e.partialContent=206]="partialContent",e[e.multiStatus=207]="multiStatus",e[e.alreadyReported=208]="alreadyReported",e[e.IM_Used=226]="IM_Used"}(Me||(Me={})),function(e){e[e.multipleChoices=300]="multipleChoices",e[e.movedPermanently=301]="movedPermanently",e[e.found=302]="found",e[e.seeOther=303]="seeOther",e[e.notModified=304]="notModified",e[e.useProxy=305]="useProxy",e[e.unused=306]="unused",e[e.temporaryRedirect=307]="temporaryRedirect",e[e.permanentRedirect=308]="permanentRedirect"}(Ae||(Ae={})),function(e){e[e.badRequest=400]="badRequest",e[e.unauthorized=401]="unauthorized",e[e.paymentRequired=402]="paymentRequired",e[e.forbidden=403]="forbidden",e[e.notFound=404]="notFound",e[e.methodNotAllowed=405]="methodNotAllowed",e[e.notAcceptable=406]="notAcceptable",e[e.proxyAuthenticationRequired=407]="proxyAuthenticationRequired",e[e.requestTimeout=408]="requestTimeout",e[e.conflict=409]="conflict",e[e.gone=410]="gone",e[e.lengthRequired=411]="lengthRequired",e[e.preconditionFailed=412]="preconditionFailed",e[e.payloadTooLarge=413]="payloadTooLarge",e[e.URI_TooLong=414]="URI_TooLong",e[e.unsupportedMediaType=415]="unsupportedMediaType",e[e.rangeNotSatisfiable=416]="rangeNotSatisfiable",e[e.expectationFailed=417]="expectationFailed",e[e.IAmATeapot=418]="IAmATeapot",e[e.misdirectedRequest=421]="misdirectedRequest",e[e.unprocessableEntity=422]="unprocessableEntity",e[e.locked=423]="locked",e[e.failedDependency=424]="failedDependency",e[e.tooEarly=425]="tooEarly",e[e.upgradeRequired=426]="upgradeRequired",e[e.preconditionRequired=428]="preconditionRequired",e[e.tooManyRequests=429]="tooManyRequests",e[e.requestHeaderFieldsTooLarge=431]="requestHeaderFieldsTooLarge",e[e.unavailableForLegalReasons=451]="unavailableForLegalReasons"}(Te||(Te={})),function(e){e[e.internalServerError=500]="internalServerError",e[e.notImplemented=501]="notImplemented",e[e.badGateway=502]="badGateway",e[e.serviceUnavailable=503]="serviceUnavailable",e[e.gatewayTimeout=504]="gatewayTimeout",e[e.HTTP_VersionNotSupported=505]="HTTP_VersionNotSupported",e[e.variantAlsoNegotiates=506]="variantAlsoNegotiates",e[e.insufficientStorage=507]="insufficientStorage",e[e.loopDetected=508]="loopDetected",e[e.notExtended=510]="notExtended",e[e.networkAuthenticationRequired=511]="networkAuthenticationRequired"}(Se||(Se={}));const Ie=80,_e=443,De=65535,we=1,xe=7;var Ve;!function(e){e.sunday="SUNDAY",e.monday="MONDAY",e.tuesday="TUESDAY",e.wednesday="WEDNESDAY",e.thursday="THURSDAY",e.friday="FRIDAY",e.saturday="SATURDAY"}(Ve||(Ve={}));const Ce=24,Oe=31,ve=60,Fe=12;var Re;!function(e){e.january="JANUARY",e.february="FEBRUARY",e.march="MARCH",e.april="APRIL",e.may="MAY",e.june="JUNE",e.july="JULY",e.august="AUGUST",e.september="SEPTEMBER",e.october="OCTOBER",e.november="NOVEMBER",e.december="DECEMBER"}(Re||(Re={}));const Le=60,ze=10,je=24,$e=/^\w+(?:[.-]?\w+)*@\w+(?:[.-]?\w+)*(?:\.\w{2,3})+$/u,Be=320,Ue=3;function ke(){return Math.random()>=.5}class He{static decideOptionalValue(e){switch(e.strategy){case He.OptionalPropertiesDecisionStrategies.mustGenerateAll:return e.preDefinedValue??e.randomValueGenerator();case He.OptionalPropertiesDecisionStrategies.mustSkipIfHasNotBeenPreDefined:return e.preDefinedValue;case He.OptionalPropertiesDecisionStrategies.mustGenerateWith50PercentageProbability:return ke()?e.randomValueGenerator():void 0}}}!function(e){let t;!function(e){e.mustGenerateAll="MUST_GENERATE_ALL",e.mustGenerateWith50PercentageProbability="MUST_GENERATE_WITH_50_PERCENTAGE_PROBABILITY",e.mustSkipIfHasNotBeenPreDefined="MUST_SKIP_IF_HAS_NOT_BEEN_PRE_DEFINED"}(t=e.OptionalPropertiesDecisionStrategies||(e.OptionalPropertiesDecisionStrategies={}))}(He||(He={}));const We=He;function qe(e){let t,r;return e.minimalValue<e.maximalValue?(t=e.minimalValue,r=e.maximalValue):(t=e.maximalValue,r=e.minimalValue),Math.floor(Math.random()*(r-t+1)+t)}function Qe(e){return 1e3*e}function Ge(e){return null!=e}const Ke={generateErrorSimulationCompletedLog:({gatewayName:e,transactionName:t})=>`Class "MockGatewayHelper" has simulated the error for the transaction "${e}.${t}" because the option "mustSimulateError" has been set to true.`,generateDataRetrievingSimulationCompletedLog:({gatewayName:e,transactionName:t,formattedRequestParameters:r,formattedResponseData:a})=>({title:`"${e}.${t}", the simulation of the data retrieving has complete`,description:`The "MockGatewayHelper" class has finished the simulation of the data retrieving for the transaction "${e}.${t}".`+(S(r)?`\n\nRequest parameters:\n${r}`:"")+(S(a)?`\n\nResponse data:\n${a}`:"")}),generateDataSubmittingSimulationCompletedLog:({gatewayName:e,transactionName:t,formattedRequestData:r,formattedResponseData:a})=>({title:`"${e}.${t}", the simulation of the data submitting has complete`,description:`The "MockGatewayHelper" class has finished the simulation of the data submitting for the transaction "${e}.${t}"`+(S(r)?`\n\nRequest data:\n${r}`:"")+(S(a)?`\n\nResponse data:\n${a}`:"")})};class Ye{static localization=Ke;static MINIMAL_PENDING_PERIOD__SECONDS=1;static MAXIMAL_PENDING_PERIOD__SECONDS=2;static async simulateDataRetrieving(e){const{requestParameters:t,getResponseData:r,minimalPendingPeriod__seconds:a=Ye.MINIMAL_PENDING_PERIOD__SECONDS,maximalPendingPeriod__seconds:i=Ye.MAXIMAL_PENDING_PERIOD__SECONDS,mustSimulateError:n=!1,mustLogResponseData:o=!1,gatewayName:s,transactionName:l}=e;return new Promise(((e,c)=>{setTimeout((()=>{if(n)return void c(new j({customMessage:Ye.localization.generateErrorSimulationCompletedLog({transactionName:l,gatewayName:s})}));const a=r();D.logSuccess(Ye.localization.generateDataRetrievingSimulationCompletedLog({gatewayName:s,transactionName:l,...Ge(t)?{formattedRequestParameters:u(t)}:null,...o&&Ge(a)?{formattedResponseData:u(a)}:null})),e(a)}),Qe(qe({minimalValue:a,maximalValue:i})))}))}static async simulateDataSubmitting(e){const{requestData:t,getResponseData:r,minimalPendingPeriod__seconds:a=Ye.MINIMAL_PENDING_PERIOD__SECONDS,maximalPendingPeriod__seconds:i=Ye.MAXIMAL_PENDING_PERIOD__SECONDS,mustSimulateError:n=!1,mustLogResponseData:o=!1,gatewayName:s,transactionName:l}=e;return new Promise(((e,c)=>{setTimeout((()=>{if(n)return void c(new R({customMessage:Ye.localization.generateErrorSimulationCompletedLog({transactionName:l,gatewayName:s})}));const a=r();D.logSuccess(Ye.localization.generateDataSubmittingSimulationCompletedLog({gatewayName:s,transactionName:l,...Ge(t)?{formattedRequestData:u(t)}:null,...o&&Ge(a)?{formattedResponseData:u(a)}:null})),e(a)}),Qe(qe({minimalValue:a,maximalValue:i})))}))}}const Xe=Ye;function Je(e){const t="monthNumber__numerationFrom1"in e?e.monthNumber__numerationFrom1:e.monthNumber__numerationFrom0+1;return new Date(e.year,t,0).getDate()}function Ze(e){return 1===("referenceMonthNumber__numerationFrom1"in e?e.referenceMonthNumber__numerationFrom1:e.referenceMonthNumber__numerationFrom0+1)?e.referenceYear-1:e.referenceYear}function et(e){return("referenceMonthNumber__numerationFrom1"in e?e.referenceMonthNumber__numerationFrom1:e.referenceMonthNumber__numerationFrom0+1)===Fe?e.referenceYear+1:e.referenceYear}function tt(e){const t=e.numerationFrom;0!==t&&1!==t&&D.throwErrorAndLog({errorInstance:new V({parameterNumber:1,parameterName:"sourceData.numerationFrom",messageSpecificPart:`Supported month numerations are from 0 or 1 while actual value is ${t}.`}),title:V.localization.defaultTitle,occurrenceLocation:"getMonthNumberByName(sourceData)"});const r=0===e.numerationFrom;switch(e.targetMonthName){case Re.january:return r?0:1;case Re.february:return r?1:2;case Re.march:return r?2:3;case Re.april:return r?3:4;case Re.may:return r?4:5;case Re.june:return r?5:6;case Re.july:return r?6:7;case Re.august:return r?7:8;case Re.september:return r?8:9;case Re.october:return r?9:10;case Re.november:return r?10:11;case Re.december:return r?11:12}}function rt(e){let t;t="referenceMonthNumber__numerationFrom1"in e?e.referenceMonthNumber__numerationFrom1:"referenceMonthNumber__numerationFrom0"in e?e.referenceMonthNumber__numerationFrom0+1:tt({targetMonthName:e.referenceMonthName,numerationFrom:1});const r=1===t?Fe:t-1;return 1===e.firstMonthNumberInRelationToReturnableValue?r:r-1}function at(e){let t;t="referenceMonthNumber__numerationFrom1"in e?e.referenceMonthNumber__numerationFrom1:"referenceMonthNumber__numerationFrom0"in e?e.referenceMonthNumber__numerationFrom0+1:tt({targetMonthName:e.referenceMonthName,numerationFrom:1});const r=t===Fe?1:t+1;return 1===e.firstMonthNumberInRelationToReturnableValue?r:r-1}function it(e){const{targetMonthNumber:t,numerationFrom:r}=e;switch(0!==r&&1!==r&&D.throwErrorAndLog({errorInstance:new V({parameterNumber:1,parameterName:"sourceData.numerationFrom",messageSpecificPart:`Supported month numerations are from 0 or 1 while actual value is ${r}.`}),title:V.localization.defaultTitle,occurrenceLocation:"getMonthNameByNumber(sourceData)"}),t){case 0:if(0===r)return Re.january;D.throwErrorAndLog({errorInstance:new V({parameterNumber:1,parameterName:"sourceData",messageSpecificPart:"The month number 0 is invalid if the numeration is from 1."}),title:V.localization.defaultTitle,occurrenceLocation:"getMonthNameByNumber(sourceData)"});case 1:return 1===r?Re.january:Re.february;case 2:return 1===r?Re.february:Re.march;case 3:return 1===r?Re.march:Re.april;case 4:return 1===r?Re.april:Re.may;case 5:return 1===r?Re.may:Re.june;case 6:return 1===r?Re.june:Re.july;case 7:return 1===r?Re.july:Re.august;case 8:return 1===r?Re.august:Re.september;case 9:return 1===r?Re.september:Re.october;case 10:return 1===r?Re.october:Re.november;case 11:return 1===r?Re.november:Re.december;case 12:if(1===r)return Re.december;D.throwErrorAndLog({errorInstance:new V({parameterNumber:1,parameterName:"sourceData",messageSpecificPart:"The month number 12 is invalid if the numeration is from 0."}),title:V.localization.defaultTitle,occurrenceLocation:"getMonthNameByNumber(sourceData)"});default:D.throwErrorAndLog({errorInstance:new V({parameterNumber:1,parameterName:"sourceData.targetMonthNumber",messageSpecificPart:`The valid month number must be the non-negative integer from 0 to 11 or from 1 to 12 (depending on "numerationFrom" option) while actual value is ${t}.`}),title:V.localization.defaultTitle,occurrenceLocation:"getMonthNameByNumber(sourceData)"})}}class nt{static CELLS_COUNT_IN_MATRIX=42;dataFor42DaysMatrix=new Array(nt.CELLS_COUNT_IN_MATRIX);targetYear;targetMonthNumber__numerationFrom0;cellIndexOfFirstDayInTargetMonth;cellIndexOfLastDayInTargetMonth;daysOfWeekData__0thElementIsFirstDayOfWeek;static generateDataFor42DaysMatrix(e){return new nt(e).fillMatrixByDaysOfTargetMonth().fillMatrixByDaysOfPreviousMonth().fillMatrixDyDaysOfNextMonth().dataFor42DaysMatrix}static generateDataFor6x7DaysMatrix(e){return Ne({targetFlatArray:nt.generateDataFor42DaysMatrix(e),elementsCountPerNestedArray:7})}constructor(e){let t;if(this.targetYear=e.targetYear,this.targetMonthNumber__numerationFrom0="targetMonthName"in e?tt({targetMonthName:e.targetMonthName,numerationFrom:0}):"targetMonthNumber__numerationFrom1"in e?e.targetMonthNumber__numerationFrom1-1:e.targetMonthNumber__numerationFrom0,"firstDayOfWeek"in e)switch(e.firstDayOfWeek){case Ve.sunday:t=0;break;case Ve.monday:t=1;break;case Ve.tuesday:t=2;break;case Ve.wednesday:t=3;break;case Ve.thursday:t=4;break;case Ve.friday:t=5;break;case Ve.saturday:t=6}else t="firstDayOfWeek__numerationFrom1ForSunday"in e?e.firstDayOfWeek__numerationFrom1ForSunday-1:e.firstDayOfWeek__numerationFrom0ForSunday;const r=[t];let a=t;for(let e=1;e<xe;e++)a=a===xe-1?0:a+1,r[e]=a;this.daysOfWeekData__0thElementIsFirstDayOfWeek=r.map((e=>({dayOfWeekNumber__numerationFrom0ForSunday:e,dayOfWeekName:[Ve.sunday,Ve.monday,Ve.tuesday,Ve.wednesday,Ve.thursday,Ve.friday,Ve.saturday][e]})));const i=new Date(this.targetYear,this.targetMonthNumber__numerationFrom0,1).getDay();this.cellIndexOfFirstDayInTargetMonth=ge(r,(e=>e===i),{mustThrowErrorIfElementNotFoundOrMatchesAreMultiple:!0}),this.cellIndexOfLastDayInTargetMonth=this.cellIndexOfFirstDayInTargetMonth+Je({year:this.targetYear,monthNumber__numerationFrom0:this.targetMonthNumber__numerationFrom0})-1}fillMatrixByDaysOfTargetMonth(){const e=this.targetMonthNumber__numerationFrom0+1,t=it({targetMonthNumber:this.targetMonthNumber__numerationFrom0,numerationFrom:0});let r=1;for(let a=this.cellIndexOfFirstDayInTargetMonth;a<=this.cellIndexOfLastDayInTargetMonth;a++)this.dataFor42DaysMatrix[a]={year:this.targetYear,monthNumber__numerationFrom0:this.targetMonthNumber__numerationFrom0,monthNumber__numerationFrom1:e,monthName:t,dayOfMonth:r,...this.getDayData(a)},r+=1;return this}fillMatrixByDaysOfPreviousMonth(){if(0===this.cellIndexOfFirstDayInTargetMonth)return this;const e=Ze({referenceYear:this.targetYear,referenceMonthNumber__numerationFrom0:this.targetMonthNumber__numerationFrom0}),t=rt({referenceMonthNumber__numerationFrom0:this.targetMonthNumber__numerationFrom0,firstMonthNumberInRelationToReturnableValue:0}),r=t+1,a=it({targetMonthNumber:t,numerationFrom:0});let i=Je({year:e,monthNumber__numerationFrom0:t});for(let n=this.cellIndexOfFirstDayInTargetMonth-1;n>=0;n--)this.dataFor42DaysMatrix[n]={year:e,monthNumber__numerationFrom0:t,monthNumber__numerationFrom1:r,monthName:a,dayOfMonth:i,...this.getDayData(n)},i-=1;return this}fillMatrixDyDaysOfNextMonth(){if(g(this.dataFor42DaysMatrix[nt.CELLS_COUNT_IN_MATRIX-1]))return this;const e=et({referenceYear:this.targetYear,referenceMonthNumber__numerationFrom0:this.targetMonthNumber__numerationFrom0}),t=at({referenceMonthNumber__numerationFrom0:this.targetMonthNumber__numerationFrom0,firstMonthNumberInRelationToReturnableValue:0}),r=t+1,a=it({targetMonthNumber:t,numerationFrom:0});let i=1;for(let n=this.cellIndexOfLastDayInTargetMonth+1;n<=nt.CELLS_COUNT_IN_MATRIX-1;n++)this.dataFor42DaysMatrix[n]={year:e,monthNumber__numerationFrom0:t,monthNumber__numerationFrom1:r,monthName:a,dayOfMonth:i,...this.getDayData(n)},i+=1;return this}getDayData(e){switch(e){case 0:case 7:case 14:case 21:case 28:case 35:return this.daysOfWeekData__0thElementIsFirstDayOfWeek[0];case 1:case 8:case 15:case 22:case 29:case 36:return this.daysOfWeekData__0thElementIsFirstDayOfWeek[1];case 2:case 9:case 16:case 23:case 30:case 37:return this.daysOfWeekData__0thElementIsFirstDayOfWeek[2];case 3:case 10:case 17:case 24:case 31:case 38:return this.daysOfWeekData__0thElementIsFirstDayOfWeek[3];case 4:case 11:case 18:case 25:case 32:case 39:return this.daysOfWeekData__0thElementIsFirstDayOfWeek[4];case 5:case 12:case 19:case 26:case 33:case 40:return this.daysOfWeekData__0thElementIsFirstDayOfWeek[5];default:return this.daysOfWeekData__0thElementIsFirstDayOfWeek[6]}}}const ot=nt;function st(e){return new Date(e).getTime()-(new Date).getTime()<=0}function lt(e){return e/1e3}const ut={errors:{invalidRawDateTime:"If the parameter of TimePoint's constructor is not the Date instance, it must the the valid ISO 8601 string or amount of milliseconds elapsed since the UNIX epoch."}};class ct{static localization=ut;year;monthName;monthNumber__numerationFrom0;monthNumber__numerationFrom1;monthNumber__numerationFrom1__2Digits;dayOfMonth;dayOfMonth__2Digits;dayOfWeek;dayOfWeekNumber__numerationFrom0AsSunday;dayOfWeekNumber__numerationFrom1AsSunday;dayOfWeekNumber__numerationFrom1AsSunday__2Digits;hours__24Format;hours__24Format__2Digits;hours__12Format;isBeforeMidday;isAfterMidday;minutes;minutes__2Digits;seconds;seconds__2Digits;milliseconds;nativeDateObject;static setLocalization(e){ct.localization=e}constructor(e){let t;switch(o(e)||i(e)?(t=new Date(e),"Invalid Date"===t.toString()&&D.throwErrorAndLog({errorInstance:new V({customMessage:ct.localization.errors.invalidRawDateTime}),title:V.localization.defaultTitle,occurrenceLocation:"TimePoint.constructor(rawDateTime)"})):t=e,this.nativeDateObject=t,this.year=t.getFullYear(),this.monthNumber__numerationFrom0=t.getMonth(),this.monthNumber__numerationFrom1=this.monthNumber__numerationFrom0+1,this.monthNumber__numerationFrom1__2Digits=this.monthNumber__numerationFrom1.toString().padStart(2,"0"),this.monthName=it({targetMonthNumber:this.monthNumber__numerationFrom1,numerationFrom:1}),this.dayOfMonth=t.getDate(),this.dayOfMonth__2Digits=this.dayOfMonth.toString().padStart(2,"0"),this.dayOfWeekNumber__numerationFrom0AsSunday=t.getDay(),this.dayOfWeekNumber__numerationFrom1AsSunday=this.dayOfWeekNumber__numerationFrom0AsSunday+1,this.dayOfWeekNumber__numerationFrom1AsSunday__2Digits=this.dayOfWeekNumber__numerationFrom1AsSunday.toString().padStart(2,"0"),this.dayOfWeekNumber__numerationFrom1AsSunday){case 1:this.dayOfWeek=Ve.sunday;break;case 2:this.dayOfWeek=Ve.monday;break;case 3:this.dayOfWeek=Ve.tuesday;break;case 4:this.dayOfWeek=Ve.wednesday;break;case 5:this.dayOfWeek=Ve.thursday;break;case 6:this.dayOfWeek=Ve.friday;break;default:this.dayOfWeek=Ve.saturday}this.hours__24Format=t.getHours(),this.hours__24Format__2Digits=this.hours__24Format.toString().padStart(2,"0"),this.isBeforeMidday=this.hours__24Format<13,this.isAfterMidday=!this.isBeforeMidday,0===this.hours__24Format?this.hours__12Format=12:this.hours__24Format<13?this.hours__12Format=this.hours__24Format:this.hours__12Format=this.hours__24Format-12,this.minutes=t.getMinutes(),this.minutes__2Digits=this.minutes.toString().padStart(2,"0"),this.seconds=t.getSeconds(),this.seconds__2Digits=this.seconds.toString().padStart(2,"0"),this.milliseconds=t.getMilliseconds()}format(e){return e(this)}toISO8601String(){return this.nativeDateObject.toISOString()}}const dt=ct;class mt{period__seconds;onElapsed;mustStop=!1;constructor(e){this.period__seconds=e.period__seconds,this.onElapsed=e.onElapsed}}!function(e){let t,r;!function(e){e.elapsed="ELAPSED",e.stopped="STOPPED"}(t=e.Outcomes||(e.Outcomes={})),function(e){e.promise="PROMISE",e.callback="CALLBACK"}(r=e.AsynchronousCompletions||(e.AsynchronousCompletions={}))}(mt||(mt={}));const gt=mt;function pt(e,t){return null===e?t:e}function ht(e,t){return void 0===e?t:e}const ft={defaultTitle:"Desired and real behaviours mismatch"};class yt extends Error{static NAME="AlgorithmMismatchError";static localization=ft;constructor(e){super(),this.name=yt.NAME,this.message=e}}const Et=yt,Nt={defaultTitle:"Class redundant subsequent initialization",generateDescription:({className:e})=>`Class "${e}" intended to be initialized only one time.`};class bt extends Error{static NAME="ClassRedundantSubsequentInitializationError";static localization=Nt;constructor(e){super(),this.name=bt.NAME,this.message="customMessage"in e?e.customMessage:bt.localization.generateDescription(e)}}const Pt=bt,Mt={defaultTitle:"Class required initialization has not been executed",generateDescription:({className:e,initializingMethodName:t})=>`Class "${e}" is required the initialization while initializing method "${t}" has not been called.`};class At extends Error{static NAME="ClassRequiredInitializationHasNotBeenExecutedError";static localization=Mt;constructor(e){super(),this.name=At.NAME,this.message="customMessage"in e?e.customMessage:At.localization.generateDescription(e)}}const Tt=At,St={defaultTitle:"Configuration file not found",generateDescription:({messageSpecificPart:e,targetTechnologyName:t,configFilePathOrMultipleOfThem:r})=>(i(r)?`The "${t}" configuration file not found at "${r}".`:`None of below "${t}" configuration files found.\n${r.join(", ")}`)+`${c(e,{modifier:e=>`\n${e}`})}`};class It extends Error{static NAME="ConfigFileNotFoundError";static localization=St;constructor(e){super(),this.name=It.NAME,this.message="customMessage"in e?e.customMessage:It.localization.generateDescription(e)}}const _t=It,Dt={defaultTitle:"Cross-browser issue"};class wt extends Error{static NAME="CrossBrowserIssueError";static localization=Dt;constructor(e){super(),this.name=wt.NAME,this.message=e}}const xt=wt,Vt={defaultTitle:"DOM Element not found",generateDescription:({selector:e})=>`The DOM element with selector: ${e} not found.`};class Ct extends Error{static NAME="DOM_ElementRetrievingFailedError";static localization=Vt;constructor(e){super(),this.name=Ct.NAME,this.message="customMessage"in e?e.customMessage:Ct.localization.generateDescription(e)}}const Ot=Ct,vt={defaultTitle:"File reading failure",generateDescription:({filePath:e})=>`The error occurred during the reading of the file with path: \n"${e}"`};class Ft extends Error{static NAME="FileReadingFailure";static localization=vt;constructor(e){super(),this.name=Ft.NAME,this.message="customMessage"in e?e.customMessage:Ft.localization.generateDescription(e)}}const Rt=Ft,Lt={defaultTitle:"Writing to file failure",generateDescription:({filePath:e})=>`Failed to write the file with path "${e}".`};class zt extends Error{static NAME="FileWritingFailedError";static localization=Lt;constructor(e){super(),this.name=zt.NAME,this.message="customMessage"in e?e.customMessage:zt.localization.generateDescription(e)}}const jt=zt,$t={defaultTitle:"Improper usage"};class Bt extends Error{static NAME="ImproperUsageError";static localization=$t;constructor(e){super(),this.name=Bt.NAME,this.message=e}}const Ut=Bt,kt={defaultTitle:"Incompatible properties in object-type parameter",generateDescription:({parameterName:e,conflictingPropertyName:t,incompatiblePropertiesNames:r})=>`In parameter "${e}", property "${t}" is incompatible with properties:${r.reduce(((e,t)=>`${e}\n- ${t}`),"")}`};class Ht extends Error{static NAME="IncompatiblePropertiesError";static localization=kt;constructor(e){super(),this.name=Ht.NAME,this.message="customMessage"in e?e.customMessage:Ht.localization.generateDescription(e)}}const Wt=Ht,qt={defaultTitle:"Inter process interaction failure"};class Qt extends Error{static NAME="InterProcessInteractionFailedError";static localization=qt;constructor(e){super(),this.name=Qt.NAME,this.message=e}}const Gt=Qt,Kt={defaultTitle:"Module dynamic loading failure",generateDescription:({modulePath:e})=>`The dynamic loading of module "${e}" failed.`};class Yt extends Error{static NAME="ModuleDynamicLoadingFailure";static localization=Kt;constructor(e){super(),this.name=Yt.NAME,this.message="customMessage"in e?e.customMessage:Yt.localization.generateDescription(e)}}const Xt=Yt,Jt={introduction:"We are sorry, but it is a bug. Please accept out deepest apologies about the malfunction during your work.",generateReportingRequest:({bugTrackerURI:e})=>`We are understanding about you are busy and have a deadline, but would you please to report us about the issue by below link?\n ${e}`,whatHappened:{heading:"=== What happened? =====================================================================================",introduction:"If you are what to know what happened, please allow us to explain with minimal details."},technicalDetails:{heading:"=== Technical details ==================================================================================",introduction:"If you would be so kind to report as, please append the below details for developers. If these details contains some sensitive data, please replace it with something neutral."}};class Zt{static isTechnicalsDetailOnlyMode=!1;static localization=Jt;static defaultBugTrackerURI;static buildMessage(e){if(e.isTechnicalsDetailOnlyMode??Zt.isTechnicalsDetailOnlyMode)return e.technicalDetails;const t=e.localization??Zt.localization,r=e.bugTrackerURI??Zt.defaultBugTrackerURI;return`\n${t.introduction}${c(r,{modifier:e=>`\n\n${t.generateReportingRequest({bugTrackerURI:e})}`})}\n\n${t.whatHappened.heading}\n${t.whatHappened.introduction}\n${e.politeExplanation}\n\n${t.technicalDetails.heading}\n${t.technicalDetails.introduction}\n${e.technicalDetails}`}static setDefaultLocalization(e){return this.localization=e,Zt}static setDefaultBugTrackerURI(e){return this.defaultBugTrackerURI=e,Zt}static setTechnicalDetailsOnlyModeIf(e){return e&&(Zt.isTechnicalsDetailOnlyMode=!0),Zt}}const er=Zt,tr="https://github.com/TokugawaTakeshi/Yamato-Daiwa-ES-Extensions/issues/new";async function rr(e){const t=new FileReader;return t.readAsDataURL(e),new Promise(((e,r)=>{t.onload=()=>{const a=t.result;p(a)?r(new ce(er.buildMessage({politeExplanation:'According the MDN Web documentation, (https://developer.mozilla.org/en-US/docs/Web/API/FileReader/readAsDataURL, checked in August 2023), when calling the "readAsDataURL" method, the result inside the "onload" event handler could be only the string. However, according the TypeScript types definition, it could be also the instance of "ArrayBuffer" or and "null". Writing the safe code, we had to check this value and although the string only should be, "null" has been detected.',technicalDetails:'The "fileReadingResult" is "null". According the documentation (https://developer.mozilla.org/en-US/docs/Web/API/FileReader/readAsDataURL), the return value could be only the string.',bugTrackerURI:tr}))):a instanceof ArrayBuffer?r(new ce(er.buildMessage({politeExplanation:'According the MDN Web documentation, (https://developer.mozilla.org/en-US/docs/Web/API/FileReader/readAsDataURL, checked in August 2023), when calling the "readAsDataURL" method, the result inside the "onload" event handler could be only the string. However, according the TypeScript types definition, it could be also the instance of "ArrayBuffer" or and "null". Writing the safe code, we had to check this value and although the string only should be, the instance of "ArrayBuffer" has been detected.',technicalDetails:'The "fileReadingResult" is the instance of "ArrayBuffer". According the documentation (https://developer.mozilla.org/en-US/docs/Web/API/FileReader/readAsDataURL), the return value could always be the string.',bugTrackerURI:tr}))):e(a)}}))}function ar(e,t){for(const[r,a]of t)e.set(r,a);return e}function ir(e,t){const r=new Map;return e.forEach(((e,a)=>{r.set(...t(a,e))})),r}function nr(e,t){const r=new Map;return e.forEach(((e,a)=>{t(a,e)&&r.set(a,e)})),r}function or(e){const{targetMap:t,mutably:r}=e,a=new Map,i=r?t:new Map(t),n="key"in e?[e.key]:e.keys;for(const e of n){const t=i.get(e);m(t)||(a.set(e,t),i.delete(e))}return{updatedMap:i,removedEntries:a}}function sr(e){return Array.from(e).reverse().join("")}function lr(e){let t=e.toString();const r=t.startsWith("-"),a=t.split(".")[1];if(t.length<5)return t;r&&(t=t.substring(1)),m(a)||(t=t.replace(`.${a}`,""));const i=sr(t),n=sr(i.substr(0,4)),o=sr(i.substr(4,4)),s=sr(i.substr(8,4)),l=sr(i.substr(12,4)),u=sr(i.substr(16,4)),c=sr(i.substr(20));return(r?"-":"")+(c.length>0?`${c}`:"")+(u.length>0?`${u}京`:"")+(l.length>0?`${l}兆`:"")+(s.length>0?`${s}億`:"")+(o.length>0?`${o}万`:"")+`${n}`+(m(a)?"":`.${a}`)}function ur(...e){return e.length>0?e.reduce(((e,t)=>e+t),0)/e.length:0}function cr(e){return/^[1-9]\d*$/u.test(e)}function dr({targetNumber:e,maximalValue:t}){return e>t?t:e}function mr({targetNumber:e,minimalValue:t}){return e<t?t:e}function gr(e){const t=e.targetNumber.toString().length,r=e.trailingZerosCount<t?e.trailingZerosCount:t-1,a=Math.pow(10,r);return Math.floor(e.targetNumber/a)*a}function pr(e){const t=e.targetNumber.toString().length,r=e.trailingZerosCount<t?e.trailingZerosCount:t-1,a=Math.pow(10,r);return Math.round(e.targetNumber/a)*a}function hr(e){const t=Math.pow(10,e.digitsCountAfterDecimalPoint);return Math.round(t*e.targetNumber)/t}function fr(e){const t=e.targetNumber.toString().length,r=e.trailingZerosCount<t?e.trailingZerosCount:t-1,a=Math.pow(10,r);return Math.ceil(e.targetNumber/a)*a}function yr(e){return String(e).replace(/\B(?=(?:\d{3})+(?!\d))/gu,",")}function Er(e){return String(e).replace(/\B(?=(?:\d{4})+(?!\d))/gu,",")}function Nr(e,t){return""===t?Array.from(e):e.split(t)}function br(e,t){if(!S(t)&&(!Array.isArray(t)||t.some((e=>!S(e)))))return void D.logError({errorType:V.NAME,title:V.localization.defaultTitle,description:V.localization.generateDescription({parameterNumber:2,parameterName:"dotSeparatedOrArrayedPathToTargetProperty",messageSpecificPart:"This parameter must be either non-empty string or array of non-empty strings."}),occurrenceLocation:"getObjectPropertySafely(targetObject, dotSeparatedOrArrayedPathToTargetProperty)"});if(!h(e))return;let r;if(r=Array.isArray(t)?t:Nr(t,"."),0===r.length)return;let a=e;for(let e=1;e<=r.length;e++){const t=e===r.length,i=a[r[e-1]];if(t)return i;if(!h(i))return;a=i}}function Pr({currentPageNumber:e,itemsCountPerPage:t}){return t*(e-1)+1}function Mr({currentPageNumber:e,itemsCountPerPage:t,totalItemsCount:r}){const a=e*t;return a>r?r:a}function Ar(e){let t;return y(e.targetPageNumber__numerationFrom0)?t=e.targetPageNumber__numerationFrom0:f(e.targetPageNumber__numerationFrom1)?t=e.targetPageNumber__numerationFrom1-1:D.throwErrorAndLog({errorInstance:new V({parameterNumber:1,parameterName:"compoundParameter",messageSpecificPart:'Target page number must be specified ever via "targetPageNumber__numerationFrom0" with the positive integer or via "compoundParameter.targetPageNumber__numerationFrom1" with the natural number.'}),title:V.localization.defaultTitle,occurrenceLocation:"PaginationCollection.getItemsOfPage(compoundParameter)"}),se({targetArray:e.items,startingElementNumber__numerationFrom0:t*e.itemsCountPerPaginationPage,elementsCount:e.itemsCountPerPaginationPage,mutably:!1,mustThrowErrorIfSpecifiedElementsNumbersAreOutOfRange:!1})}const Tr=class{pagesCount;itemsByPages=[];constructor(e){const{items:t,itemsCountPerPaginationPage:r}=e,a=[];this.pagesCount=Math.ceil(t.length/r);for(let t=0;t<this.pagesCount;t++)a[t]=se({targetArray:e.items,startingElementNumber__numerationFrom0:t*r,elementsCount:e.itemsCountPerPaginationPage,mutably:!1,mustThrowErrorIfSpecifiedElementsNumbersAreOutOfRange:!1});this.itemsByPages=a}getItemsOfSpecificPage(e){const t=0===e.numerationFrom?e.targetPageNumber:e.targetPageNumber-1,r=this.itemsByPages[t];return m(r)&&D.throwErrorAndLog({errorInstance:new V({parameterNumber:1,parameterName:"compoundParameter",messageSpecificPart:`There is not page with number ${e.targetPageNumber} (numeration from ${e.numerationFrom}).`}),title:V.localization.defaultTitle,occurrenceLocation:"paginationCollection.getItemsOfSpecificPage(compoundParameter)"}),r}};class Sr{isExecutingNow=!1;mustExecuteNextAsynchronousFunction=!0;asynchronousFunctionsQueue=[];static errorHandler(e){D.logError({errorType:ce.NAME,title:ce.localization.defaultTitle,description:"The promise queue execution has failed.",occurrenceLocation:"promisesQueue.startExecutionIfHasNotStartedYet(compoundParameter)",caughtError:e})}constructor(e=[]){this.asynchronousFunctionsQueue.push(...e)}async startExecutionIfHasNotStartedYet(e){if(!this.isExecutingNow){this.isExecutingNow=!0;for(const t of this.asynchronousFunctionsQueue){try{await t()}catch(t){switch(e.behaviourOnSomePromiseFailed){case Sr.BEHAVIOUR_ON_SOME_PROMISE_FAILED.throwingTheError:throw t;case Sr.BEHAVIOUR_ON_SOME_PROMISE_FAILED.loggingAndProceedingToNextPromise:D.logError({errorType:"AsynchronousProcessingFailedError",title:"Asynchronous processing failed error",description:"The error occurred during execution of one of promised.",occurrenceLocation:"promisesQueue.startExecutionIfHasNotStartedYet(compoundParameter)",caughtError:t})}}if(!this.mustExecuteNextAsynchronousFunction){this.isExecutingNow=!1,this.asynchronousFunctionsQueue=[];break}}this.isExecutingNow=!1,this.asynchronousFunctionsQueue=[]}}addFunctionToQueue(e){this.asynchronousFunctionsQueue.push(e)}async addFunctionAndStartExecutionIfHasNotStartedYet(e){return this.addFunctionToQueue(e.newAsynchronousFunction),this.startExecutionIfHasNotStartedYet({behaviourOnSomePromiseFailed:e.behaviourOnSomePromiseFailed})}stopExecutionOnceCurrentPromiseFinished(){this.mustExecuteNextAsynchronousFunction=!1}}!function(e){let t;!function(e){e.throwingTheError="THROWING_THE_ERROR",e.loggingAndProceedingToNextPromise="LOGGING_AND_PROCEEDING_TO_NEXT_PROMISE"}(t=e.BEHAVIOUR_ON_SOME_PROMISE_FAILED||(e.BEHAVIOUR_ON_SOME_PROMISE_FAILED={}))}(Sr||(Sr={}));const Ir=Sr,_r=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Dr=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],wr=["0","1","2","3","4","5","6","7","8","9"];function xr(e){return"string"==typeof e&&e.length>0?e:""}function Vr(e){return e[qe({minimalValue:0,maximalValue:e.length-1})]}const Cr={errors:{minimalCharactersCountMustBeGreaterThan0:e=>`The 'minimalCharactersCount' property must be greater than 0 while really it's ${e}`,sumOfCharactersCountOfAffixesAndMinimalRandomlyGeneratedCharactersCountIsExceedsMaximalCharactersCount:e=>`The sum of characters count of 'prefix', 'infix' and 'postfix' and also 'minimalRandomlyGeneratedCharactersCount' are exceeds the 'maximalCharactersCount':\n                          prefix.length: ${e.prefix.length}\n                           infix.length: ${e.infix.length}\n                         postfix.length: ${e.postfix.length}\nminimalRandomlyGeneratedCharactersCount: ${e.minimalRandomlyGeneratedCharactersCount}\n                               SUBTOTAL: ${e.prefix.length+e.infix.length+e.postfix.length+e.minimalRandomlyGeneratedCharactersCount}\n                 maximalCharactersCount: ${e.maximalCharactersCount}`,explicitlySpecifiedMinimalCharactersCountExceedsMaximalCharactersCount:({minimalCharactersCount:e,maximalCharactersCount:t})=>`The explicitly specified minimal characters count (${e}) exceeds the maximal characters count ${t}`,noAllowedCharactersForRandomGeneration:"No characters for the random string generation has been allowed allowed.Check the 'parametersObject.allowedCharacters' and satisfy at least on of below conditions:\n  * Set 'latinUppercase' property to true\n  * Set 'latinLowercase' property to true\n  * Set 'digits' property to true\n  * Set 'other' property to non-empty array\n"}};class Or{static localization=Cr;static DEFAULT_MAXIMAL_TO_MINIMAL_CHARACTERS_COUNT_RATIO=2;static getRandomString(e){const t=xr(e.prefix),r=xr(e.infix),a=xr(e.postfix),i=t.length+r.length+a.length;let n;if(m(e.fixedCharactersCount)){const o=Or.getMinimalCharactersCount({prefixInfixAndPostfixTotalCharactersCount:i,minimalCharactersCount__explicitlySpecified:e.minimalCharactersCount,fixedCharactersCount__explicitlySpecified:e.fixedCharactersCount,minimalRandomlyGeneratedCharactersCount__explicitlySpecified:e.minimalRandomlyGeneratedCharactersCount}),s=i+ht(e.minimalRandomlyGeneratedCharactersCount,0)<=o?o-i:ht(e.minimalRandomlyGeneratedCharactersCount,0);n=qe({minimalValue:s,maximalValue:Or.getMaximalCharactersCont({...e,minimalCharactersCount:o,prefix:t,infix:r,postfix:a,minimalRandomlyGeneratedCharactersCount:s})-i})}else n=e.fixedCharactersCount-i-ht(e.minimalRandomlyGeneratedCharactersCount,0);let o="";const s=Or.getCharactersForRandomStringGeneration(e.allowedCharacters);for(let e=o.length;e<n;e++)o=`${o}${Vr(s)}`;if(r.length>0){const e=qe({minimalValue:1,maximalValue:o.length-2}),t=o.slice(0,e),a=o.slice(e);o=`${t}${r}${a}`}return`${t}${o}${a}`}static setLocalization(e){Or.localization=e}static getMinimalCharactersCount({prefixInfixAndPostfixTotalCharactersCount:e,minimalCharactersCount__explicitlySpecified:t,fixedCharactersCount__explicitlySpecified:r,minimalRandomlyGeneratedCharactersCount__explicitlySpecified:a}){if(m(t))return e+ht(a,0);g(r)&&D.throwErrorAndLog({errorInstance:new Wt({parameterName:"parametersObject",conflictingPropertyName:"fixedCharactersCount__explicitlySpecified",incompatiblePropertiesNames:["minimalCharactersCount__explicitlySpecified"]}),title:Wt.localization.defaultTitle,occurrenceLocation:"getRandomString(parametersObject)"}),t<0&&D.throwErrorAndLog({errorInstance:new V({parameterNumber:1,parameterName:"parametersObject.minimalCharactersCount",messageSpecificPart:Or.localization.errors.minimalCharactersCountMustBeGreaterThan0(t)}),title:V.localization.defaultTitle,occurrenceLocation:"RandomStringsGenerator.getRandomString(parametersObject)"});const i=e+ht(a,0);return t>=i?t:i}static getMaximalCharactersCont(e){if(m(e.maximalCharactersCount))return Or.DEFAULT_MAXIMAL_TO_MINIMAL_CHARACTERS_COUNT_RATIO*e.minimalCharactersCount;g(e.fixedCharactersCount)&&D.throwErrorAndLog({errorInstance:new Wt({parameterName:"namedParameters",conflictingPropertyName:"fixedCharactersCount",incompatiblePropertiesNames:["maximalCharactersCount"]}),title:Wt.localization.defaultTitle,occurrenceLocation:"getRandomString(namedParameters)"});const t=e.maximalCharactersCount;return e.prefix.length+e.infix.length+e.postfix.length+e.minimalRandomlyGeneratedCharactersCount>t?D.throwErrorAndLog({errorInstance:new V({parameterNumber:1,parameterName:"namedParameters.minimalCharactersCount",messageSpecificPart:Or.localization.errors.sumOfCharactersCountOfAffixesAndMinimalRandomlyGeneratedCharactersCountIsExceedsMaximalCharactersCount(e)}),title:V.localization.defaultTitle,occurrenceLocation:"RandomStringsGenerator.getRandomString(namedParameters)"}):e.minimalCharactersCount>t&&D.throwErrorAndLog({errorInstance:new V({parameterNumber:1,parameterName:"namedParameters.minimalCharactersCount",messageSpecificPart:Or.localization.errors.explicitlySpecifiedMinimalCharactersCountExceedsMaximalCharactersCount({minimalCharactersCount:e.minimalCharactersCount,maximalCharactersCount:t})}),title:V.localization.defaultTitle,occurrenceLocation:"RandomStringsGenerator.getRandomString(namedParameters)"}),t}static getCharactersForRandomStringGeneration(e={latinUppercase:!0,latinLowercase:!0,digits:!0}){const t=[];!0===e.latinUppercase&&t.push(...Dr),!0===e.latinLowercase&&t.push(..._r),!0===e.digits&&t.push(...wr);const r=[];if(Array.isArray(e.other))for(const e of r)r.push(...e.split(""));else i(e.other)&&r.push(...e.other.split(""));return t.push(...r),0===t.length&&D.throwErrorAndLog({errorInstance:new V({parameterName:"parametersObject.allowedCharacters",customMessage:Or.localization.errors.noAllowedCharactersForRandomGeneration}),title:V.localization.defaultTitle,occurrenceLocation:"RandomStringsGenerator.getRandomString(parametersObject)"}),t}}const vr=Or.getRandomString;function Fr({capital:e=!1,lowercase:t=!1}={}){return Vr(e?Dr:t?_r:ke()?Dr:_r)}function Rr(e){return Vr(Object.values(e))}function Lr(e){const t=qe({minimalValue:0,maximalValue:e.length-1});return e.splice(t,1)[0]}var zr,jr;function $r(e,t={}){let r,a;g(t.minimalElementsCount)?(Number.isInteger(t.minimalElementsCount)||D.throwErrorAndLog({errorInstance:new V({parameterNumber:2,parameterName:"options.minimalElementsCount",messageSpecificPart:zr.localization.generateInvalidMinimalElementsCountErrorMessage({actualValue:t.minimalElementsCount})}),title:V.localization.defaultTitle,occurrenceLocation:"getRandomSubarray(targetArray, options)"}),t.minimalElementsCount<0&&D.throwErrorAndLog({errorInstance:new V({parameterNumber:2,parameterName:"options.minimalElementsCount",messageSpecificPart:zr.localization.generateInvalidMinimalElementsCountErrorMessage({actualValue:t.minimalElementsCount})}),title:V.localization.defaultTitle,occurrenceLocation:"getRandomSubarray(targetArray, options)"}),t.minimalElementsCount>=e.length&&D.throwErrorAndLog({errorInstance:new V({parameterNumber:2,parameterName:"options.minimalElementsCount",messageSpecificPart:"The minimal element's count of subarray must be less than elements count of initial array."}),title:V.localization.defaultTitle,occurrenceLocation:"getRandomSubarray(targetArray, options)"}),r=t.minimalElementsCount):r=1,g(t.maximalElementsCount)?(Number.isInteger(t.maximalElementsCount)||D.throwErrorAndLog({errorInstance:new V({parameterNumber:2,parameterName:"options.maximalElementsCount",messageSpecificPart:zr.localization.generateInvalidMaximalElementsCountErrorMessage({actualValue:t.maximalElementsCount})}),title:V.localization.defaultTitle,occurrenceLocation:"getRandomSubarray(targetArray, options)"}),t.maximalElementsCount<r&&D.throwErrorAndLog({errorInstance:new V({parameterNumber:2,parameterName:"options.minimalElementsCount",messageSpecificPart:zr.localization.generateMaximalElementCountIsSmallerThanMinimal({minimalElementsCount:r,maximalElementsCount:t.maximalElementsCount})}),title:V.localization.defaultTitle,occurrenceLocation:"getRandomSubarray(targetArray, options)"}),t.maximalElementsCount>e.length&&D.throwErrorAndLog({errorInstance:new V({parameterNumber:2,parameterName:"options.maximalElementsCount",messageSpecificPart:"The maximal elements count of subarray could not exceed the elements count of initial array."}),title:V.localization.defaultTitle,occurrenceLocation:"getRandomSubarray(targetArray, options)"}),a=t.maximalElementsCount):a=e.length>1?e.length-1:1;const i=qe({minimalValue:r,maximalValue:a});if(1===i)return[Vr(e)];const n=Array.from(e),o=[];for(let e=0;e<i;e++)o.push(Lr(n));return o}function Br({value:e,probability__percents:t}){return e?Math.random()<t/100:Math.random()>=t/100}function Ur(e,t){return t.forEach((t=>{e.add(t)})),e}function kr(e,t){const r=new Set;if(Array.isArray(t))for(const e of t)1===e.length?r.add(e):Ur(r,Nr(e,""));else if(i(t))Ur(r,Nr(t,""));else if(!0===t.latinUppercase&&Ur(r,Dr),!0===t.latinLowercase&&Ur(r,_r),!0===t.digits&&Ur(r,wr),Array.isArray(t.other))for(const e of t.other)Ur(r,Nr(e,""));else i(t.other)&&Ur(r,Nr(t.other,""));for(const t of Nr(e,""))if(!r.has(t))return!1;return!0}function Hr(e){if(!i(e)||!kr(e,{digits:!0,other:"."}))return e;const t=e.includes(".")?parseFloat(e):parseInt(e,10);return isNaN(t)?e:t}function Wr(e){return"string"==typeof e&&/^\d+$/u.test(e)}function qr(e){if(!Wr(e))return e;const t=parseInt(e,10);return isNaN(t)?e:t}function Qr(e){if(!i(e)||!kr(e,{digits:!0,other:"."}))return e;const t=parseFloat(e);return isNaN(t)?e:t}function Gr(e,t){return new Set(Array.from(e).map(t))}!function(e){e.Localization__English={generateInvalidMinimalElementsCountErrorMessage:({actualValue:e})=>`The minimal elements count must the non-negative integer while it's actual value is ${e}.`,generateInvalidMaximalElementsCountErrorMessage:({actualValue:e})=>`The maximal elements count must the non-negative integer while it's actual value is ${e}.`,generateMaximalElementCountIsSmallerThanMinimal:({minimalElementsCount:e,maximalElementsCount:t})=>`The maximal elements count (${t}) is smaller than minimal elements count (${e}).`},e.localization=e.Localization__English,e.setLocalization=function(t){e.localization=t}}(zr||(zr={})),function(e){e.backspace="\b",e.formFeed="\f",e.newLine="\n",e.carriageReturn="\r",e.horizontalTabulator="\t",e.verticalTabulator="\v"}(jr||(jr={}));const Kr=jr;var Yr;!function(e){e.regularSpace=" ",e.noBreakSpace=" ",e.enSpace=" ",e.emSpace=" ",e.threePerEmSpace=" ",e.forPerEmSpace=" ",e.sixPerEmSpace=" ",e.figureSpace=" ",e.punctuationSpace=" ",e.thinSpace=" ",e.hairSpace=" ",e.zeroWidthSpace="​",e.ideographicSpace="　",e.zeroWithNoBreakSpace="\ufeff",e.characterTabulation="\t"}(Yr||(Yr={}));const Xr=Yr;var Jr;!function(e){e.regularSpace="\\u{0020}",e.noBreakSpace="\\u{00A0}",e.enSpace="\\u{2002}",e.emSpace="\\u{2003}",e.threePerEmSpace="\\u{2004}",e.forPerEmSpace="\\u{2005}",e.sixPerEmSpace="\\u{2006}",e.figureSpace="\\u{2007}",e.punctuationSpace="\\u{2008}",e.thinSpace="\\u{2009}",e.hairSpace="\\u{200A}",e.zeroWidthSpace="\\u{200B}",e.ideographicSpace="\\u{3000}",e.zeroWithNoBreakSpace="\\u{FEFF}",e.characterTabulation="\\u{0009}"}(Jr||(Jr={}));const Zr=Jr;var ea;!function(e){e.carriageReturn="\r",e.lineFeed="\n",e.carriageReturnAndLineFeed="\r\n"}(ea||(ea={}));const ta=ea;function ra(e,t=ta.lineFeed){return/\r\n$/mu.test(e)?ta.carriageReturnAndLineFeed:/\n$/mu.test(e)?ta.lineFeed:e.includes("\r")||e.includes("\n")?ta.carriageReturn:t}function aa(e){const t=new RegExp(e.regularExpression,"gu"),r=t.exec(e.targetString);return p(r)?(e.mustThrowErrorIfZeroOrMoreThanOneMatchings&&D.throwErrorAndLog({errorInstance:new ce(`Contrary to expectations, the string:\n${e.targetString}\nhas no matchings with regular expression:\n${e.regularExpression.toString()}`),title:ce.localization.defaultTitle,occurrenceLocation:"getMatchingWithFirstRegularExpressionCapturingGroup(sourceDataAndOptions)"}),null):t.exec(e.targetString)?(e.mustThrowErrorIfZeroOrMoreThanOneMatchings&&D.throwErrorAndLog({errorInstance:new ce(`Contrary to expectations, the string:\n${e.targetString}\nhas more that one matching with regular expression:\n${e.regularExpression.toString()}`),title:ce.localization.defaultTitle,occurrenceLocation:"getMatchingWithFirstRegularExpressionCapturingGroup(sourceDataAndOptions)"}),null):r[1]}function ia(e,t,r={}){const a=t.exec(e);return p(a)?(!0===r.mustExpectExactlyOneMatching&&D.throwErrorAndLog({errorInstance:new ce(`Contrary to expectations, there is no matchings with regular expression:\n${t.toString()}\nin the string:\n${e}`),title:ce.localization.defaultTitle,occurrenceLocation:"extractMatchingsWithRegularExpression(targetString, regularExpression, options)"}),!0===r.mustExpectOneOrZeroMatchings?{extractedMatching:null,updatedString:e}:{extractedMatchings:[],updatedString:e}):a.length>1?((!0===r.mustExpectOneOrZeroMatchings||r.mustExpectExactlyOneMatching)&&D.throwErrorAndLog({errorInstance:new ce(`Contrary to expectations, there are more that one matchings with regular expression:\n${t.toString()}\nin the string:\n${e}`),title:ce.localization.defaultTitle,occurrenceLocation:"extractMatchingsWithRegularExpression(targetString, regularExpression, options)"}),{updatedString:e.replaceAll(new RegExp(t,"gu"),""),extractedMatchings:a}):r.mustExpectOneOrZeroMatchings||r.mustExpectExactlyOneMatching?{extractedMatching:a[0],updatedString:e.replaceAll(new RegExp(t,"gu"),"")}:{extractedMatchings:[a[0]],updatedString:e.replaceAll(new RegExp(t,"gu"),"")}}function na(e){const t=e.targetString,r=new RegExp(e.regularExpressionWithCapturingGroups,"gmu"),a=[];let i=r.exec(t);for(;T(i);)a.push({fullMatching:i[0],positionIndex:i.index??-1,namedCapturingGroups:{...i.groups??null},numeratedCapturingGroups:i.slice(1).reduce(((e,t,r)=>(e[r+1]=t,e)),{})}),i=r.exec(t);const n=Nr(t,"");for(const t of a.reverse()){const r=e.replacer(t);p(r)||n.splice(t.positionIndex,t.fullMatching.length,...Nr(r,""))}return n.join("")}function oa(e,t){return t?e.toString():""}function sa(e){return null===e?"":e}function la(e){const t=e.targetFileNameExtensionWithOrWithoutLeadingDot.startsWith(".")?e.targetFileNameExtensionWithOrWithoutLeadingDot:`.${e.targetFileNameExtensionWithOrWithoutLeadingDot}`,{updatedString:r,extractedMatching:a}=ia(e.targetPath,/#.+$/u,{mustExpectOneOrZeroMatchings:!0}),i=r.endsWith(t);return`${r}${oa(t,!i||e.mustAppendDuplicateEvenIfTargetLastFileNameExtensionAlreadyPresentsAtSpecifiedPath)}${sa(a)}`}function ua(e){return e.replace(/\\/gu,"/")}function ca(e){const t=Nr(ua(e.targetPath),"/")[0];if(m(t)||!t.includes(".")||"."===t)return[];const r=Nr(t,".").slice(1);return e.withLeadingDots?r.map((e=>`.${e}`)):r}function da(e){const t=e.targetPath,r=pe(Nr(ua(t),"/"));return!p(r)&&r.includes(".")&&"."!==r||e.mustThrowErrorIfLastPathSegmentHasNoDots&&D.throwErrorAndLog({errorInstance:new ce(`Contrary to expectations, the last segment of "${t}" path does not include the dots.`),title:ce.localization.defaultTitle,occurrenceLocation:"extractFileNameWithAllExtensionsFromPath(compoundParameter)"}),r??""}function ma(e){const t=e.targetPath,r=pe(Nr(ua(t),"/"));return p(r)||!r.includes(".")||"."===r?(e.mustThrowErrorIfLastPathSegmentHasNoDots&&D.throwErrorAndLog({errorInstance:new ce(`Contrary to expectations, the last segment of "${t}" path does not include the dots.`),title:ce.localization.defaultTitle,occurrenceLocation:"extractFileNameWithoutAnyExtensions(compoundParameter)"}),r??""):r.split(".")[0]}function ga(e){return Nr(ua(e),"/")}function pa(e){const t=pe(ga(e),{mustThrowErrorIfArrayIsEmpty:!0});if(p(t))return e;const r=t.lastIndexOf(".");return r>0?Array.from(t).slice(0,r).join(""):t}function ha(e){const t=/.(?<lastFileNameExtensionWithoutLeadingDot>\w+)$/u.exec(e.targetPath)?.groups?.lastFileNameExtensionWithoutLeadingDot;return m(t)?(!0===e.mustThrowErrorIfLastPathSegmentHasNotDots&&D.throwErrorAndLog({errorInstance:new ce(`Contrary to expectations, the path ${e.targetPath} has not the file name extension.`),title:ce.localization.defaultTitle,occurrenceLocation:"extractLastExtensionOfFileName(compoundParameter)"}),null):t}function fa(e){const t=Nr(ua(e),"/"),r=pe(t);return p(r)||!r.includes(".")||"."===r?e:ye({targetArray:t,index:t.length-1,newElement:Nr(r,".")[0]}).join("/")}function ya(e){const t=aa({targetString:e.targetURI,regularExpression:/#(?<hash>.+)$/u});return p(t)?(e.mustThrowErrorIfNoFragmentPresents&&D.throwErrorAndLog({errorInstance:new ce(`Contrary to expectations, below URI has not the fragment.\n${e.targetURI}`),title:ce.localization.defaultTitle,occurrenceLocation:"getURI_Fragment(sourceDataAndOptions)"}),null):`${oa("#",e.withLeadingHash)}${t}`}function Ea(e){let t;if(S(e.targetFragmentWithOrWithoutLeadingHash)&&(t=e.targetFragmentWithOrWithoutLeadingHash.startsWith("#")?e.targetFragmentWithOrWithoutLeadingHash.substring(1):e.targetFragmentWithOrWithoutLeadingHash),m(t))return e.targetURI;const r=ya({targetURI:e.targetURI,withLeadingHash:!0});return T(r)?e.mustReplaceFragmentIfThereIsOneAlready?e.targetURI.replace(r,`#${t}`):e.targetURI:`${e.targetURI}#${t}`}function Na(e){return e.replace(/#.+$/u,"")}function ba(e){return fe({targetArray:ga(e.targetPath),predicate:t=>e.targetSegments.includes(t),mutably:!1}).updatedArray.join(e.mustOutputAlwaysWithForwardSlashesPathSeparators&&e.targetPath.includes("\\")?"\\":"/")}function Pa(e){const{extractedMatching:t}=ia(e.targetURI,/#.+$/u,{mustExpectOneOrZeroMatchings:!0}),r=Nr(ua(e.targetURI),"/");return[...r.slice(0,r.length-1),e.newLastPathSegment,...t??[]].join("/")}function Ma(e){const{targetString:t,trailingCharacter:r}=e;return t.endsWith(r)?t:`${t}${r}`}function Aa(e){return e.charAt(0).toUpperCase()+e.slice(1)}function Ta(e){const t=e.targetString;let r,a;return y(e.startingCharacterNumber__numerationFrom0)?r=e.startingCharacterNumber__numerationFrom0:f(e.startingCharacterNumber__numerationFrom1)?r=e.startingCharacterNumber__numerationFrom1-1:!0===e.fromStart?r=0:D.throwErrorAndLog({errorInstance:new V({parameterNumber:1,parameterName:"compoundParameter",messageSpecificPart:'It has been incorrectly specified from which character target string must be cropped. The valid alternatives are:\n● "startingCharacterNumber__numerationFrom0": must the the positive integer\n● "startingCharacterNumber__numerationFrom1": must the the natual number\n● "fromStart": must the the boolean herewith "true" only'}),title:V.localization.defaultTitle,occurrenceLocation:"cropString(compoundParameter)"}),y(e.endingCharacterNumber__numerationFrom0)?a=e.endingCharacterNumber__numerationFrom0:f(e.endingCharacterNumber__numerationFrom1)?a=e.endingCharacterNumber__numerationFrom1-1:f(e.charactersCount)?a=r+e.charactersCount:!0===e.untilEnd?a=t.length:D.throwErrorAndLog({errorInstance:new V({parameterNumber:1,parameterName:"compoundParameter",messageSpecificPart:'It has been incorrectly specified until which character target string must be cropped. The valid alternatives are:\n● "endingCharacterNumber__numerationFrom0": must the the positive integer\n● "endingCharacterNumber__numerationFrom1": must the the natual number\n● "charactersCount": must the the natual number\n● "untilEnd": must the the boolean herewith "true" only\n'}),title:V.localization.defaultTitle,occurrenceLocation:"cropString(compoundParameter)"}),a>t.length&&e.mustThrowErrorIfSpecifiedCharactersNumbersIsOutOfRange&&D.throwErrorAndLog({errorInstance:new V({parameterNumber:1,parameterName:"compoundParameter",messageSpecificPart:`The specified last character number is ${a} (numeration from 0) while the target string has only ${t.length} elements.The error has been thrown because the "mustThrowErrorIfSpecifiedCharactersNumbersIsOutOfRange" option has been set to "true".`}),title:V.localization.defaultTitle,occurrenceLocation:"cropString(compoundParameter)"}),Array.from(t).slice(r,a+1).join("")}class Sa{static VALID_PATTERN=/^\w+(?:[.-]?\w+)*@\w+(?:[.-]?\w+)*(?:\.\w{2,3})+$/u;static isValid(e){return Sa.VALID_PATTERN.test(e)}}function Ia(e){i(e)||D.throwErrorAndLog({errorInstance:new V({parameterNumber:1,parameterName:"targetString",customMessage:`The first and only parameter must be a string while actually is has type "${typeof e}".`}),title:V.localization.defaultTitle,occurrenceLocation:"explodeToWords(targetString)"});const t=Nr(e,""),r=[];let a="";for(const[e,i]of t.entries()){if(" "===i||"-"===i||"_"===i){a.length>0&&(r.push(a),a="");continue}if(!/[a-zA-Z]/u.test(i)){r.push(a);continue}const n=/[A-Z]/u.test(i),o=e>1?t[e-1]:null,s=!!T(o)&&/[a-z]/u.test(o);if(""!==a&&s&&n){r.push(a),a=i;continue}const l=t[e+1],u=!!g(l)&&/[a-z]/u.test(l);""!==a&&n&&u?(r.push(a),a=i):a=`${a}${i}`}return r.push(a),r}function _a(e){return e.mustIgnoreCarriageReturn?Nr(e.targetString,"\n"):Nr(e.targetString,/\r?\n/u)}function Da(e){switch(e){case 1:return"1st";case 2:return"2nd";case 3:return"3rd";default:return`${e}th`}}function wa(e){return e[e.length-1]}function xa(e,t){let r=e.indexOf(t);if(-1===r)return[];const a=[];do{a.push(r),r=e.indexOf(t,r+1)}while(-1!==r);return a}function Va(e){h(e)||D.throwErrorAndLog({errorInstance:new V({parameterNumber:1,parameterName:"compoundParameter",messageSpecificPart:"The first and only parameter must be an object type."}),title:V.localization.defaultTitle,occurrenceLocation:"isIPv4AddressLiesInRange(compoundParameter)"}),i(e.comparedIP_Address)||D.throwErrorAndLog({errorInstance:new V({parameterNumber:1,parameterName:"compoundParameter.comparedIP_Address",messageSpecificPart:'The "comparedIP_Address" must be a string while actually has type '+typeof e.comparedIP_Address}),title:V.localization.defaultTitle,occurrenceLocation:"isIPv4AddressLiesInRange(compoundParameter)"}),i(e.minimalIP_Address)||D.throwErrorAndLog({errorInstance:new V({parameterNumber:1,parameterName:"compoundParameter.minimalIP_Address",messageSpecificPart:'The "minimalIP_Address" must be a string while actually has type '+typeof e.minimalIP_Address}),title:V.localization.defaultTitle,occurrenceLocation:"isIPv4AddressLiesInRange(compoundParameter)"}),i(e.maximalIP_Address)||D.throwErrorAndLog({errorInstance:new V({parameterNumber:1,parameterName:"maximalIP_Address.minimalIP_Address",messageSpecificPart:'The "maximalIP_Address" must be a string while actually has type '+typeof e.maximalIP_Address}),title:V.localization.defaultTitle,occurrenceLocation:"isIPv4AddressLiesInRange(compoundParameter)"});const t=/^(?:[0-9]{1,3}\.){3}[0-9]{1,3}$/u;function r(e){return Number(e.split(".").map((e=>`000${e}`.substring(3))).join(""))}return t.test(e.comparedIP_Address)||D.throwErrorAndLog({errorInstance:new V({parameterNumber:1,parameterName:"compoundParameter.comparedIP_Address",messageSpecificPart:`The value "${e.comparedIP_Address}" of 'comparedIP_Address' is not avalid IPv4 address.`}),title:V.localization.defaultTitle,occurrenceLocation:"isIPv4AddressLiesInRange(compoundParameter)"}),t.test(e.minimalIP_Address)||D.throwErrorAndLog({errorInstance:new V({parameterNumber:1,parameterName:"compoundParameter.minimalIP_Address",messageSpecificPart:`The value "${e.minimalIP_Address}" of 'minimalIP_Address' is not a valid IPv4 address.`}),title:V.localization.defaultTitle,occurrenceLocation:"isIPv4AddressLiesInRange(compoundParameter)"}),t.test(e.maximalIP_Address)||D.throwErrorAndLog({errorInstance:new V({parameterNumber:1,parameterName:"compoundParameter.maximalIP_Address",messageSpecificPart:`The value "${e.maximalIP_Address}" of "maximalIP_Address" is not a valid IPv4 address.`}),title:V.localization.defaultTitle,occurrenceLocation:"isIPv4AddressLiesInRange(compoundParameter)"}),r(e.comparedIP_Address)>=r(e.minimalIP_Address)&&r(e.comparedIP_Address)<=r(e.maximalIP_Address)}function Ca(e,t){let r;return r=Array.isArray(t)?t.join(""):t,e.replace(new RegExp(`[${r}]`,"gu"),"")}function Oa(e){const t=Array.from(e);return t.pop(),t.join("")}function va(e){return e.split("").filter((e=>/\d/u.test(e))).join("")}function Fa(e,t){const r=Array.from(e);return 0===t.numerationFrom?r.splice(t.targetCharacterNumber,1):r.splice(t.targetCharacterNumber-1,1),r.join("")}function Ra(e){return e.replace(/\s{2,}/gmu," ")}function La(e){return e.replace(/<br\s*\/*>/gu,"\n")}function za(e){const t=mr({targetNumber:e.totalCharactersCount-e.label.length-e.prependedPartCharactersCount,minimalValue:0});return`${e.ornamentPatten.repeat(e.prependedPartCharactersCount)}${e.label}${e.ornamentPatten.repeat(t)}`}function ja(e){i(e)||D.throwErrorAndLog({errorInstance:new V({parameterNumber:1,parameterName:"targetString",customMessage:`The first and only parameter must be a string while actually is has type '${typeof e}'.`}),title:V.localization.defaultTitle,occurrenceLocation:"toLowerCamelCase(targetString)"});const t=Ia(e);let r="";for(const[e,a]of t.entries())r=0===e?`${r}${a.toLowerCase()}`:`${r}${Aa(a.toLowerCase())}`;return r}function $a(e){return i(e)||D.throwErrorAndLog({errorInstance:new V({parameterNumber:1,parameterName:"targetString",customMessage:`The first and only parameter must be a string while actually is has type '${typeof e}'.`}),title:V.localization.defaultTitle,occurrenceLocation:"toLowerCamelCase(targetString)"}),Ia(e).map((e=>e.toUpperCase())).join("_")}function Ba(e){return i(e)||D.throwErrorAndLog({errorInstance:new V({parameterNumber:1,parameterName:"targetString",customMessage:`The first and only parameter must be a string while actually is has type '${typeof e}'.`}),title:V.localization.defaultTitle,occurrenceLocation:"toUpperCamelCase(targetString)"}),Aa(ja(e))}function Ua(e,t={}){const{skipLeadingOnes:r=!1,skipTrailingOnes:a=!1,targetSpacesKinds:i=Object.values(Xr),excludeKinds:n=[]}=t;if(a&&r)return e;let o="";for(const e of i)if(!n.includes(e)){const t=e.codePointAt(0);if(m(t))continue;const r=16,a=4;o=`${o}\\u{${t.toString(r).padStart(a,"0")}}`}let s=e;return r||(s=e.replace(new RegExp(`^[${o}]+`,"u"),"")),a||(s=e.replace(new RegExp(`[${o}]+$`,"u"),"")),s}function ka(e,t){if(!Array.isArray(e))return!1;for(const r of e)if(!t(r))return!1;return!0}var Ha;!function(e){e.isArrayOfLength=function(e,t){return!!Array.isArray(e)&&(y(t.exactElementsCount)?e.length===t.exactElementsCount:y(t.minimalElementsCount)&&y(t.maximalElementsCount)?e.length>=t.minimalElementsCount&&e.length<=t.maximalElementsCount:y(t.minimalElementsCount)?e.length>=t.minimalElementsCount:!!y(t.maximalElementsCount)&&e.length<=t.maximalElementsCount)}}(Ha||(Ha={}));const Wa=Ha.isArrayOfLength;function qa(e){return Array.isArray(e)&&0===e.length}function Qa(e){return"object"==typeof e&&null!==e&&0===Object.entries(e).length}function Ga(e){return"object"==typeof e&&null!==e&&Object.entries(e).length>0}function Ka(e){return"object"==typeof e&&null!==e&&Object.entries(e).length>0}function Ya(e){return"object"==typeof e&&!Array.isArray(e)}function Xa(e){return"string"==typeof e&&0===e.length}var Ja;!function(e){e.isStringOfLength=function(e,t){return"string"==typeof e&&(y(t.exactCharactersCount)?e.length===t.exactCharactersCount:y(t.minimalCharactersCount)&&y(t.maximalCharactersCount)?e.length>=t.minimalCharactersCount&&e.length<=t.maximalCharactersCount:y(t.minimalCharactersCount)?e.length>=t.minimalCharactersCount:!!y(t.maximalCharactersCount)&&e.length<=t.maximalCharactersCount)}}(Ja||(Ja={}));const Za=Ja.isStringOfLength;function ei(e,t){for(const r of Object.values(t))if(r===e)return!0;return!1}function ti(e){return e instanceof Function}function ri(e){return e.length>0?e:null}function ai(e){return null===e?void 0:e}function ii(e){return null===e?0:e}function ni(e){return void 0===e?[]:e}function oi(e){return void 0===e?null:e}function si(e){return`mailto:${e}`}function li(e){return`tel:${e}`}function ui({rawParameter:e,parameterNumber:t,parameterName:r,parameterPropertiesSpecification:a,mixinName:i}){const n=Object.entries(a).filter((([e,t])=>!0===t.required)).map((([e])=>e));if(l(e))return n.length>0&&D.throwErrorAndLog({errorInstance:new V({parameterName:i,parameterNumber:1,customMessage:`Object-type parameter No. ${t} (named as "${r}") of the Pug mixin "${i}" has been omitted or null while must be because it has the following required properties:\n`+n.map((e=>`● ${e}`)).join("\n")}),title:V.localization.defaultTitle,occurrenceLocation:"processObjectTypeParameterOfPugMixin(compoundParameter)"}),Object.entries(a).reduce(((e,[t,r])=>(g(r.defaultValue)&&(e[t]=r.defaultValue),e)),{});h(e)||D.throwErrorAndLog({errorInstance:new V({parameterName:r,parameterNumber:1,customMessage:`Object-type No. ${t} (named as "${r}") of the Pug mixin "${i}" must be an object while actually has type "${typeof e}" and value:\n`+u(e)}),title:V.localization.defaultTitle,occurrenceLocation:"processObjectTypeParameterOfPugMixin(compoundParameter)"});const o=O.process(e,{nameForLogging:`Parameter No. ${t} of "${i}" mixin`,subtype:O.ObjectSubtypes.fixedKeyAndValuePairsObject,properties:a});return o.rawDataIsInvalid&&D.throwErrorAndLog({errorInstance:new V({customMessage:`Object-type parameter No. ${t} (named as "${r}") of the Pug mixin "${i}" has one or more invalid properties:\n`+O.formatValidationErrorsList(o.validationErrorsMessages)}),title:V.localization.defaultTitle,occurrenceLocation:"processObjectTypeParameterOfPugMixin(compoundParameter)"}),o.processedData}return r})()));
