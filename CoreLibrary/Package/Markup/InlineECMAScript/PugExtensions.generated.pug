-
  !function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.__PUG_EXTENSIONS_EXPORTS__=t():e.__PUG_EXTENSIONS_EXPORTS__=t()}(globalThis,(()=>(()=>{"use strict";var e,t={d:(e,r)=>{for(var a in r)t.o(r,a)&&!t.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:r[a]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},r={};t.r(r),t.d(r,{AJAX_Service:()=>Y,AlgorithmMismatchError:()=>yt,CHARACTERS_COUNT_IN_DATE_PART_OF_ISO8601_STRING:()=>je,CHARACTERS_COUNT_IN_FULL_ISO8601_STRING:()=>Be,CalendarBuilder:()=>st,ClassRedundantSubsequentInitializationError:()=>Nt,ClassRequiredInitializationHasNotBeenExecutedError:()=>At,ClientErrorsHTTP_StatusCodes:()=>Se,ConfigFileNotFoundError:()=>It,CrossBrowserIssueError:()=>Dt,DAYS_COUNT_IN_WEEK:()=>Ve,DOM_ElementRetrievingFailedError:()=>Ct,DOM_ElementRetrievingFailedErrorLocalization__english:()=>xt,DataMocking:()=>qe,DataRetrievingFailedError:()=>j,DataSubmittingFailedError:()=>F,DaysOfWeekNames:()=>Ce,EMAIL_ADDRESS_VALID_PATTERN:()=>$e,EmailAddress:()=>Sa,EscapeCharacters:()=>Kr,FetchAPI_Service:()=>ie,FileReadingFailedError:()=>Rt,FileWritingFailedError:()=>zt,HOURS_COUNT_IN_STELLAR_DAY:()=>Oe,HTTPS_DEFAULT_PORT:()=>we,HTTP_DEFAULT_PORT:()=>_e,HTTP_Methods:()=>a,HTTP_StatusCodes:()=>Pe,ImproperUsageError:()=>$t,IncompatiblePropertiesInObjectTypeParameterError:()=>Ht,InformationalResponsesHTTP_StatusCodes:()=>Te,InterProcessInteractionFailedError:()=>Qt,InvalidConfigError:()=>W,InvalidExternalDataError:()=>U,InvalidParameterValueError:()=>V,IsStringOfLengthCheckingOperation:()=>Ja,LineSeparators:()=>ta,Logger:()=>w,MAXIMAL_CHARACTERS_COUNT_OF_EMAIL_ADDRESS:()=>Ue,MAXIMAL_DAYS_IN_MONTH:()=>ve,MINIMAL_CHARACTERS_COUNT_OF_EMAIL_ADDRESS:()=>ke,MINUTES_COUNT_IN_HOUR:()=>Re,MONTHS_COUNT_IN_YEAR:()=>Fe,MockGatewayHelper:()=>Je,MockGatewayHelperLocalization__English:()=>Ye,ModuleDynamicLoadingFailedError:()=>Yt,MonthsNames:()=>Le,NETWORK_PORT_MAXIMAL_VALUE:()=>De,NETWORK_PORT_MINIMAL_VALUE:()=>xe,PaginationCollection:()=>Mr,PoliteErrorsMessagesBuilder:()=>Zt,PoliteErrorsMessagesBuilder__English:()=>Xt,PromisesQueue:()=>Ir,RandomStringsGenerator:()=>Or,RawObjectDataProcessor:()=>O,RedirectionResponsesHTTP_StatusCodes:()=>Me,SECONDS_COUNT_IN_MINUTE:()=>ze,ServerErrorsHTTP_StatusCodes:()=>Ie,SpaceCharacters:()=>Xr,SpaceCharactersStringifiedHexCharactersForRegularExpressionWithUnicodeFlag:()=>Zr,SuccessfulResponsesHTTP_StatusCodes:()=>Ae,TimePoint:()=>ut,Timer:()=>mt,UnexpectedEventError:()=>me,UnsupportedScenarioError:()=>Z,addElementsToArray:()=>ne,addElementsToArrayIfTheyAreNotPresentOtherwiseRemove:()=>se,addEntriesToMap:()=>rr,addMultipleElementsToSet:()=>Ur,algorithmMismatchErrorLocalization__english:()=>ht,appendCharacterIfItDoesNotPresentInLastPosition:()=>Ta,appendFragmentToURI:()=>Ea,appendLastFileNameExtension:()=>la,areStringifiedDigitsOnly:()=>Wr,buildEmailLinkHrefAttributeValue:()=>si,buildPhoneNumberLinkHrefAttributeValue:()=>li,capitalizeFirstCharacter:()=>Aa,classRedundantSubsequentInitializationErrorLocalization__english:()=>Et,classRequiredInitializationHasNotBeenExecutedErrorLocalization__english:()=>Pt,computeFirstItemNumberForSpecificPaginationPage:()=>Pr,computeLastItemNumberForSpecificPaginationPage:()=>Tr,configFileNotFoundErrorLocalization__english:()=>Mt,convertPotentialStringToFloatIfPossible:()=>Qr,convertPotentialStringToIntegerIfPossible:()=>qr,convertPotentialStringToNumberIfPossible:()=>Hr,createArrayOfNaturalNumbers:()=>le,createMapBasedOnOtherMap:()=>ar,createSetBasedOnOtherSet:()=>Gr,cropArray:()=>ce,cropString:()=>Ma,crossBrowserIssueErrorLocalization__english:()=>_t,dataRetrievingFailedErrorLocalization__english:()=>L,dataSubmittingFailedErrorLocalization__english:()=>v,emptyStringToNull:()=>ri,encodeFileToBase64:()=>tr,explodeCasedPhraseToWords:()=>Ia,explodeStringToLines:()=>_a,explodeURI_PathToSegments:()=>ga,extractAllFileNameExtensions:()=>ua,extractFileNameWithAllExtensionsFromPath:()=>da,extractFileNameWithoutAnyExtensions:()=>ma,extractFileNameWithoutLastExtension:()=>pa,extractLastExtensionOfFileName:()=>ha,extractMatchingsWithRegularExpression:()=>ia,fileReadingFailedErrorLocalization__english:()=>Ot,fileWritingFailedErrorLocalization__english:()=>Ft,filterMap:()=>ir,formatNumberWith4KetaKanji:()=>lr,getArithmeticMean:()=>cr,getArrayElementSatisfiesThePredicateIfSuchElementIsExactlyOne:()=>ge,getDaysCountInSpecificMonth:()=>Ze,getEnglishAbbreviatedOrdinalNumber:()=>wa,getIndexOfArrayElementSatisfiesThePredicateIfSuchElementIsExactlyOne:()=>pe,getIndexesOfArrayElementsWhichSatisfiesThePredicate:()=>oe,getItemsOfPaginationPage:()=>Ar,getLastCharacter:()=>Da,getLastElementOfArray:()=>he,getLineSeparatorType:()=>ra,getMatchingWithFirstRegularExpressionCapturingGroup:()=>aa,getMonthNameByNumber:()=>nt,getMonthNumberByName:()=>rt,getNextMonthNumber:()=>it,getObjectPropertySafely:()=>Nr,getPositionsOfAllSubstringOccurrences:()=>xa,getPreviousMonthNumber:()=>at,getRandomArrayElement:()=>Vr,getRandomBoolean:()=>He,getRandomInteger:()=>Qe,getRandomLatinCharacter:()=>Rr,getRandomObjectPropertyValue:()=>Fr,getRandomString:()=>vr,getRandomSubarray:()=>Br,getSpecificBooleanValueWithProbability:()=>$r,getURI_Fragment:()=>ya,getURI_PartWithoutFragment:()=>ba,getYearOfNextMonth:()=>tt,getYearOfPreviousMonth:()=>et,hasStringOnlySpecificCharacters:()=>kr,hasTimeCome:()=>lt,improperUsageErrorLocalization__english:()=>jt,incompatiblePropertiesInObjectTypeParameterErrorLocalization__english:()=>Ut,insertSubstring:()=>u,insertSubstringIf:()=>oa,interProcessInteractionFailedErrorLocalization__english:()=>Wt,invalidConfigErrorLocalization__english:()=>k,invalidExternalDataErrorLocalization__english:()=>B,invalidParameterValueErrorLocalization__english:()=>D,isArbitraryObject:()=>h,isArrayOfCertainTypeElements:()=>ka,isArrayOfLength:()=>Wa,isBoolean:()=>s,isDecimalFractionOfAnySign:()=>T,isEitherUndefinedOrNull:()=>l,isElementOfEnumeration:()=>ei,isEmptyArray:()=>qa,isEmptyObject:()=>Qa,isEmptyString:()=>Xa,isFunctionLike:()=>ti,isIPv4AddressLiesInRange:()=>Va,isNaturalNumber:()=>f,isNegativeDecimalFraction:()=>P,isNegativeInteger:()=>E,isNegativeIntegerOrZero:()=>b,isNeitherUndefinedNorNull:()=>Ke,isNonEmptyArbitraryObject:()=>Ga,isNonEmptyArray:()=>A,isNonEmptyObject:()=>Ka,isNonEmptyString:()=>S,isNonNegativeInteger:()=>y,isNonNullObject:()=>n,isNotNull:()=>M,isNotUndefined:()=>g,isNull:()=>p,isNumber:()=>o,isPositiveDecimalFraction:()=>N,isPossiblyReadonlyParsedJSON:()=>ee,isPossiblyReadonlyParsedJSON_Object:()=>Ya,isString:()=>i,isStringOfLength:()=>Za,isStringifiedNonNegativeIntegerOfRegularNotation:()=>ur,isUndefined:()=>m,limitMaximalValue:()=>dr,limitMinimalValue:()=>mr,loggerLocalization__english:()=>I,lowercaseLatinCharacters:()=>_r,millisecondsToSeconds:()=>ct,moduleDynamicLoadingFailedErrorLocalization__english:()=>Gt,moveArrayElementTo1Position:()=>fe,nullToEmptyString:()=>sa,nullToUndefined:()=>ai,nullToZero:()=>ii,processObjectTypeParameterOfPugMixin:()=>ci,rawObjectDataProcessorLocalization__english:()=>d,removeAllFileNameExtensions:()=>fa,removeAllSpecifiedCharacters:()=>Ca,removeArrayElementsByIndexes:()=>q,removeArrayElementsByPredicates:()=>ye,removeEntriesFromMap:()=>nr,removeLastCharacter:()=>Oa,removeNonDigitsCharacters:()=>va,removeNthCharacter:()=>Ra,removeRandomArrayElement:()=>Lr,removeSpecificCharacterFromCertainPosition:()=>Q,removeSpecificSegmentsFromURI_Path:()=>Na,replace2OrMoreSpacesTo1:()=>Fa,replaceArrayElementsByIndexesImmutably:()=>Ee,replaceArrayElementsByPredicates:()=>be,replaceBrHTML_TagToNewLineEscapeSequence:()=>La,replaceDoubleBackslashesWithForwardSlashes:()=>ca,replaceLastURI_PathSegment:()=>Pa,replaceMatchesWithRegularExpressionToDynamicValue:()=>na,replaceValuesInMap:()=>or,reverseString:()=>sr,roundDownToSpecificIntegerPlaceValue:()=>gr,roundToSpecificNearestIntegerPlaceValue:()=>pr,roundToSpecifiedNearestDecimalPlaceValue:()=>hr,roundUpToSpecificIntegerPlaceValue:()=>fr,secondsToMilliseconds:()=>Ge,separateEach3DigitsGroupWithComma:()=>yr,separateEach4DigitsGroupWithComma:()=>Er,serializeURI_QueryParameters:()=>G,splitString:()=>br,stringifiedDigits:()=>Dr,stringifyAndFormatArbitraryValue:()=>c,substituteWhenNull:()=>gt,substituteWhenUndefined:()=>pt,surroundLabelByOrnament:()=>za,toLowerCamelCase:()=>ja,toScreamingSnakeCase:()=>Ba,toUpperCamelCase:()=>$a,trimSpaces:()=>Ua,twoDimensionalizeArray:()=>Ne,undefinedToEmptyArray:()=>ni,undefinedToEmptyString:()=>xr,undefinedToNull:()=>oi,unexpectedEventErrorLocalization__english:()=>ue,unsupportedScenarioErrorLocalization__english:()=>X,uppercaseLatinCharacters:()=>wr}),function(e){e.get="GET",e.post="POST",e.create="CREATE",e.put="PUT",e.delete="DELETE",e.options="OPTIONS",e.head="HEAD",e.connect="CONNECT",e.trace="TRACE",e.patch="PATCH"}(e||(e={}));const a=e;function i(e){return"string"==typeof e}function n(e){return"object"==typeof e&&null!==e}function o(e){return"number"==typeof e}function s(e){return"boolean"==typeof e}function l(e){return null==e}function c(e){if(i(e))return e;if(o(e)||s(e)||l(e))return String(e);if(e instanceof Error)return e.toString();if(e instanceof RegExp)return e.toString();if(n(e))try{let t;return t=e instanceof Set?JSON.stringify(Array.from(e),null,2):e instanceof Map?JSON.stringify(Object.fromEntries(e),null,2):JSON.stringify(e,null,2),"{}"===t?"{}":"[]"===t?"[]":t}catch{return String(e)}return String(e)}function u(e,t={}){return null==e||!1===t.condition?"":void 0===t.modifier?e.toString():t.modifier(e.toString())}const d={errorMessageBasicTemplate({targetPropertyDotSeparatedQualifiedName:e,targetPropertyNewName:t,targetPropertyValue:r,targetPropertyValueSpecification:a,targetPropertyStringifiedValueBeforeFirstPreValidationModification:i,title:n,specificMessagePart:o}){const s=c({...a,type:this.valueType(a.type)});return n+`\n\n●　Property / element: '${e}'`+u(t,{modifier:e=>` (new name: ${e})`})+`\n${o}`+`\n\n●　Property / element specification: \n${s}`+`\n●　Actual value: ${c(r)}`+u(i,{modifier:e=>`\n●　Value before first pre-validation modification: ${e}`})},buildErrorMessagesListItemHeading:e=>`=== Error No. ${e} ==========`,rawDataIsNullErrorMessage:"Raw data, the first parameter of 'RawObjectDataProcessor.process' is null.",buildRawDataIsNotObjectErrorMessage:e=>`Raw data, the first parameter of 'RawObjectDataProcessor.process' an 'object' and actually has type '${e}'.`,buildValueTypeDoesNotMatchWithExpectedErrorMessageTextData({targetPropertyValue:e,targetPropertyValueSpecification:t}){return{title:"Expected and actual value types mismatch",specificMessagePart:`This value expected to have type '${this.valueType(t.type)}' while actually it's type is '${typeof e}'.`}},buildPreValidationModificationFailedErrorMessageTextData:e=>({title:"Pre-validation caused the error",specificMessagePart:`Pre-validation modification of this value caused below error:\n${c(e)}\nThis pre-validation modification has been skipped.`}),requiredPropertyIsMissingErrorMessageTextData:{title:"Required property is missing",specificMessagePart:"This property is 'undefined' while has been marked as required."},buildConditionallyRequiredPropertyIsMissingErrorMessageTextData:e=>({title:"Conditionally required property is missing",specificMessagePart:`This value is 'undefined' while requirement condition:\n"${e}"\nsatisfied.`}),nonNullableValueIsNullErrorMessageTextData:{title:"Non-nullable value is 'null'",specificMessagePart:"This value is 'null' while nullability has not been permitted by valid data specification."},buildIndexedArrayElementsCountIsLessThanRequiredMinimumErrorMessageTextData:({minimalElementsCount:e,actualElementsCount:t})=>({title:"Indexed array has less elements than expected minimum",specificMessagePart:`This value of indexed array type has ${t} elements while at least ${e} expected.`}),buildIndexedArrayElementsCountIsMoreThanAllowedMaximumErrorMessageTextData:({maximalElementsCount:e,actualElementsCount:t})=>({title:"Indexed array has more elements than expected maximum",specificMessagePart:`This value of indexed array type has ${t} elements while maximally ${e} expected.`}),buildIndexedArrayElementsCountDoesNotMatchWithSpecifiedExactNumberErrorMessageTextData:({exactElementsCount:e,actualElementsCount:t})=>({title:"The count of elements of indexed array does not match with expected fixed value",specificMessagePart:`This value of indexed array type has ${t} elements while exactly ${e} expected.`}),indexedArrayDisallowedUndefinedElementErrorMessageTextData:{title:"Disallowed undefined-type element of indexed array",specificMessagePart:"This element of indexed array is 'undefined' while undefined-type elements has not been allowed by valid element specification."},indexedArrayDisallowedNullElementErrorMessageTextData:{title:"Disallowed null element of indexed array",specificMessagePart:"This element of indexed array is 'null' while null elements has not been allowed by valid element specification."},buildAssociativeArrayEntriesCountIsLessThanRequiredMinimumErrorMessageTextData:({minimalEntriesCount:e,actualEntriesCount:t})=>({title:"Associative array has less entries than expected minimum",specificMessagePart:`This value of associative array type value has ${t} entries while at least ${e} expected.`}),buildAssociativeArrayEntriesCountIsMoreThanAllowedMaximumErrorMessageTextData:({maximalEntriesCount:e,actualEntriesCount:t})=>({title:"Associative array has more entries than expected maximum",specificMessagePart:`This value of associative array-type value has ${t} entries while maximally ${e} expected.`}),buildAssociativeArrayEntriesCountDoesNotMatchWithSpecifiedExactNumberErrorMessageTextData:({exactEntriesCount:e,actualEntriesCount:t})=>({title:"The count of entries of associative array does not match with expected fixed value",specificMessagePart:`This value of associative array-type value has ${e} entries while exactly ${t} expected.`}),buildRequiredKeysOfAssociativeArrayAreMissingErrorMessageTextData:e=>({title:"Required key(s) of associative array are missing",specificMessagePart:"Below keys are missing but required for this associative array type value:\n"+c(e)}),buildRequiredAlternativeKeysOfAssociativeArrayAreMissingErrorMessageTextData:e=>({title:"Required keys alternatives are missing",specificMessagePart:`One of below keys must present in this associative array-type value, but actually none of them presents.\n${c(e)}`}),buildDisallowedKeysFoundInAssociativeArrayErrorMessageTextData:e=>({title:"Disallowed key(s) found in associative array",specificMessagePart:"Below keys presents in this associative array type value while these keys are disallowed.\n"+c(e)}),associativeArrayDisallowedUndefinedValueErrorMessageTextData:{title:"Disallowed undefined-type value of associative array",specificMessagePart:"This value of associative array is 'undefined' while undefined-type values has not been allowed by valid value specification."},associativeArrayDisallowedNullValueErrorMessageTextData:{title:"Disallowed null value of associative array",specificMessagePart:"This value of associative array is 'null' while null values has not been allowed by valid value specification."},valueType(e){switch(O.getNormalizedValueTypeID(e)){case O.ValuesTypesIDs.number:return"number";case O.ValuesTypesIDs.string:return"string";case O.ValuesTypesIDs.boolean:return"boolean";case O.ValuesTypesIDs.indexedArrayOfUniformElements:return"indexed array of uniform elements";case O.ValuesTypesIDs.fixedKeyAndValuePairsObject:return"filed key and value pairs object";case O.ValuesTypesIDs.associativeArrayOfUniformTypeValues:return"associative array of uniform type values";case O.ValuesTypesIDs.oneOf:return"multiple alternatives allowed"}},numbersSet(e){switch(e){case O.NumbersSets.naturalNumber:return"natural number";case O.NumbersSets.nonNegativeInteger:return"non-negative integer";case O.NumbersSets.negativeInteger:return"negative integer";case O.NumbersSets.negativeIntegerOrZero:return"negative integer of zero";case O.NumbersSets.anyInteger:return"any integer";case O.NumbersSets.positiveDecimalFraction:return"positive decimal fraction";case O.NumbersSets.negativeDecimalFraction:return"negative decimal fraction";case O.NumbersSets.decimalFractionOfAnySign:return"decimal fraction on any sign";case O.NumbersSets.anyRealNumber:return"any real number"}},buildNumberValueIsNotBelongToExpectedNumbersSetErrorMessageTextData(e){return{title:"Expected and actual numbers set mismatch",specificMessagePart:`Contrary to expectations, this numeric value is in not member of '${this.numbersSet(e)}'`}},buildValueIsNotAmongAllowedAlternativesErrorMessageTextData:e=>({title:"Disallowed alternative of value",specificMessagePart:"This value is not among following allowed alternatives.\n"+e.map((e=>`  ○ ${e}`)).join("\n")}),buildNumericValueIsSmallerThanRequiredMinimumErrorMessageTextData:e=>({title:"Minimal value fall short",specificMessagePart:`This value is smaller than required minimal value ${e}.`}),buildNumericValueIsGreaterThanAllowedMaximumErrorMessageTextData:e=>({title:"Maximal numeric value exceeding",specificMessagePart:`This value is greater than required maximal value ${e}.`}),buildCharactersCountIsLessThanRequiredErrorMessageTextData:({minimalCharactersCount:e,realCharactersCount:t})=>({title:"Minimal characters count fall short",specificMessagePart:`This string value has ${t} characters while at least ${e} required.`}),buildCharactersCountIsMoreThanAllowedErrorMessageTextData:({maximalCharactersCount:e,realCharactersCount:t})=>({title:"Maximal characters count exceeding",specificMessagePart:`This string value has ${t} characters ${e} allowed as maximum.`}),buildCharactersCountDoesNotMatchWithSpecifiedErrorMessageTextData:({fixedCharactersCount:e,realCharactersCount:t})=>({title:"Fixed characters count mismatch",specificMessagePart:`The value has ${t} characters exactly ${e} required.`}),buildRegularExpressionMismatchErrorMessageTextData:e=>({title:"Regular expression mismatch",specificMessagePart:"This string value does not match with specified regular expression:\n "+e.toString()}),buildDisallowedBooleanValueVariantErrorMessageTextData:e=>({title:"Disallowed boolean variant",specificMessagePart:`This boolean value is '${e}' while only '${!e}' allowed.`}),buildIncompatibleValuesTypesAlternativesErrorDescription:e=>`The 'ValuesTypesIDs.fixedKeyAndValuePairsObject' (aliased as Object) and 'ValuesTypesIDs.associativeArrayOfUniformTypeValues' (aliased as Map) are incompatible alternatives of 'ValuesTypesIDs.oneOf' because from the viewpoint of ECMAScript both are the 'object'. Target value marked as invalid. Please correct below specification:\n ${c(e)}`,buildUnsupportedValueTypeErrorMessageTextData:e=>({title:"Unsupported value type",specificMessagePart:`This value has type ${typeof e.targetPropertyValue} which is not a valid parsed JSON`}),buildCustomValidationFailedErrorMessageTextData:e=>({title:"Custom validation did not passed",specificMessagePart:`This value did not passed the custom validation "${e}".`})};function m(e){return void 0===e}function g(e){return void 0!==e}function p(e){return null===e}function h(e){return"object"==typeof e&&null!==e}function f(e){return"number"==typeof e&&Number.isInteger(e)&&e>0}function y(e){return"number"==typeof e&&Number.isInteger(e)&&e>=0}function E(e){return"number"==typeof e&&Number.isInteger(e)&&e<0}function b(e){return"number"==typeof e&&Number.isInteger(e)&&e<=0}function N(e){return"number"==typeof e&&/^\d+\.\d+$/u.test(e.toString())}function P(e){return"number"==typeof e&&/^-\d+\.\d+$/u.test(e.toString())}function T(e){return"number"==typeof e&&/^-?\d+\.\d+$/u.test(e.toString())}function A(e){return!!Array.isArray(e)&&e.length>0}function M(e){return null!==e}function S(e){return"string"==typeof e&&e.length>0}const I={badgesDefaultTitles:{error:"Error",warning:"Warning",success:"Success",info:"Info",generic:"Common"},errorType:"Error type",occurrenceLocation:"Occurrence location",caughtError:"Caught error",innerError:"Inner error",appendedData:"Appended data"};class _{static implementation=null;static localization=I;static setImplementation(e){return _.implementation=e,_}static setLocalization(e){return _.localization=e,_}static throwErrorAndLog(e){if(M(_.implementation)&&g(_.implementation.throwErrorAndLog))return _.implementation.throwErrorAndLog(e);let t;g(e.innerError)&&(t=c(e.innerError),e.innerError instanceof Error&&S(e.innerError.stack)&&(t=e.innerError.stack.includes(t)?e.innerError.stack:`${t}\n${e.innerError.stack}`));const r=[e.title,...!0===e.compactLayout?[" "]:["\n"],..."errorInstance"in e?[e.errorInstance.message]:[e.description],`\n\n${_.localization.occurrenceLocation}: ${e.occurrenceLocation}`,...g(t)?[`\n\n${_.localization.innerError}:\n${t}`]:[],...g(e.additionalData)?[`\n\n${_.localization.appendedData}:\n${c(e.additionalData)}`]:[],"\n"].join("");if("errorInstance"in e)throw e.errorInstance.message=r,e.errorInstance;const a=new Error(r);throw a.name=e.errorType,a}static logError(e){!1!==e.mustOutputIf&&(M(_.implementation)?_.implementation.logError(e):console.error([...!1===e.badge?[]:[`[ ${e.badge?.customText??_.localization.badgesDefaultTitles.error} ] `],e.title,...!0===e.compactLayout?[" "]:["\n"],e.description,`\n\n${_.localization.errorType}: ${e.errorType}`,`\n${_.localization.occurrenceLocation}: ${e.occurrenceLocation}`,...g(e.caughtError)?[`\n\n${_.localization.caughtError}:\n${c(e.caughtError)}`+(e.caughtError instanceof Error&&S(e.caughtError.stack)?`\n${e.caughtError.toString()}\n${e.caughtError.stack}`:"")]:[],...g(e.additionalData)?[`\n\n${_.localization.appendedData}:\n${c(e.additionalData)}`]:[]].join("")))}static logErrorLikeMessage(e){!1!==e.mustOutputIf&&(M(_.implementation)?_.implementation.logErrorLikeMessage(e):console.error(_.formatGenericLog(e,_.localization.badgesDefaultTitles.error)))}static logWarning(e){!1!==e.mustOutputIf&&(M(_.implementation)?_.implementation.logWarning(e):console.warn([...!1===e.badge?[]:[`[ ${e.badge?.customText??_.localization.badgesDefaultTitles.error} ] `],e.title,...!0===e.compactLayout?[" "]:["\n"],e.description,`\n${_.localization.occurrenceLocation}: ${e.occurrenceLocation}`,...g(e.additionalData)?[`\n\n${_.localization.appendedData}:\n${c(e.additionalData)}`]:[]].join("")))}static logInfo(e){!1!==e.mustOutputIf&&(M(_.implementation)?_.implementation.logInfo(e):console.info(_.formatGenericLog(e,_.localization.badgesDefaultTitles.info)))}static logSuccess(e){!1!==e.mustOutputIf&&(M(_.implementation)?_.implementation.logSuccess(e):console.info(_.formatGenericLog(e,_.localization.badgesDefaultTitles.success)))}static logGeneric(e){!1!==e.mustOutputIf&&(M(_.implementation)?_.implementation.logGeneric(e):console.log(_.formatGenericLog(e,_.localization.badgesDefaultTitles.generic)))}static highlightText(e){return M(_.implementation)?_.implementation.highlightText(e):e}static formatGenericLog(e,t){return[...!1===e.badge?[]:[`[ ${e.badge?.customText??t} ] `],e.title,...!0===e.compactLayout?[" "]:["\n"],e.description,...g(e.additionalData)?[`\n\n${_.localization.appendedData}:\n${c(e.additionalData)}`]:[]].join("")}}const w=_,D={defaultTitle:"Invalid parameter value",generateDescription:({parameterNumber:e,parameterName:t,messageSpecificPart:r})=>`The value of parameter No. ${e} (commonly named as "${t}") is invalid.`+u(r,{modifier:e=>`\n${e}`})};class x extends Error{static NAME="InvalidParameterValueError";static localization=D;constructor(e){super(),this.name=x.NAME,this.message="customMessage"in e?e.customMessage:x.localization.generateDescription(e)}}const V=x;class C{static defaultLocalization=d;rawData;fullDataSpecification;processingApproach;currentlyIteratedObjectPropertyQualifiedNameSegmentsForLogging=[];currentlyIteratedPropertyNewNameForLogging=null;validationErrorsMessagesBuilder;validationErrorsMessages=[];rawDataIsInvalid=!1;static process(e,t,r={}){const a=r.localization??C.defaultLocalization,i=new C.ValidationErrorsMessagesBuilder(a);if(p(e))return{rawDataIsInvalid:!0,validationErrorsMessages:[i.rawDataIsNullErrorMessage]};if(!h(e))return{rawDataIsInvalid:!0,validationErrorsMessages:[i.buildRawDataIsNotObjectErrorMessage(typeof e)]};const n=new C({rawData:e,fullDataSpecification:t,processingApproach:C.ProcessingApproaches.newObjectAssembling,validationErrorsMessagesBuilder:i});let o,s;switch(t.subtype){case C.ObjectSubtypes.fixedKeyAndValuePairsObject:o=n.processFixedKeyAndValuePairsNonNullObjectTypeValue({targetValue__expectedToBeObject:e,targetObjectTypeValueSpecification:{type:C.ValuesTypesIDs.fixedKeyAndValuePairsObject,...t}});break;case C.ObjectSubtypes.indexedArray:o=n.processIndexedArrayTypeValue({targetValue__expectedToBeIndexedArray:n.rawData,targetIndexedArrayTypeValueSpecification:{...t,type:C.ValuesTypesIDs.indexedArrayOfUniformElements}});break;case C.ObjectSubtypes.associativeArray:o=n.processAssociativeArrayTypeValue({targetValue__expectedToBeAssociativeArrayTypeObject:n.rawData,targetAssociativeArrayTypeValueSpecification:{...t,type:C.ValuesTypesIDs.associativeArrayOfUniformTypeValues}})}return"isInvalid"in o||"isValidButValidationOnlyModeActive"in o?{rawDataIsInvalid:!0,validationErrorsMessages:n.validationErrorsMessages}:(s=g(r.postProcessing)?r.postProcessing(o.processedValue):o.processedValue,{rawDataIsInvalid:!1,processedData:s})}static formatValidationErrorsList(e,t=C.defaultLocalization){return e.reduce(((e,r,a)=>`${e}\n\n${t.buildErrorMessagesListItemHeading(a+1)}\n`+r),"")}static setDefaultLocalization(e){C.defaultLocalization=e}static getNormalizedValueTypeID(e){return e===C.ValuesTypesIDs.number||"function"==typeof e&&"Number"===e.name?C.ValuesTypesIDs.number:e===C.ValuesTypesIDs.string||"function"==typeof e&&"String"===e.name?C.ValuesTypesIDs.string:e===C.ValuesTypesIDs.boolean||"function"==typeof e&&"Boolean"===e.name?C.ValuesTypesIDs.boolean:e===C.ValuesTypesIDs.fixedKeyAndValuePairsObject||"function"==typeof e&&"Object"===e.name?C.ValuesTypesIDs.fixedKeyAndValuePairsObject:e===C.ValuesTypesIDs.indexedArrayOfUniformElements||"function"==typeof e&&"Array"===e.name?C.ValuesTypesIDs.indexedArrayOfUniformElements:e===C.ValuesTypesIDs.associativeArrayOfUniformTypeValues||"function"==typeof e&&"Map"===e.name?C.ValuesTypesIDs.associativeArrayOfUniformTypeValues:e===C.ValuesTypesIDs.oneOf?C.ValuesTypesIDs.oneOf:void w.throwErrorAndLog({errorInstance:new V({parameterNumber:1,parameterName:"valueType"}),title:V.localization.defaultTitle,occurrenceLocation:"RawObjectDataProcessor.processSingleNeitherUndefinedNorNullValue(valueType)"})}constructor(e){this.rawData=e.rawData,this.fullDataSpecification=e.fullDataSpecification,this.currentlyIteratedObjectPropertyQualifiedNameSegmentsForLogging[0]=this.fullDataSpecification.nameForLogging,this.processingApproach=e.processingApproach,this.validationErrorsMessagesBuilder=e.validationErrorsMessagesBuilder}processFixedKeyAndValuePairsNonNullObjectTypeValue({targetValue__expectedToBeObject:e,targetObjectTypeValueSpecification:t,parentObject:r,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a}){if(!h(e))return this.registerValidationError(this.validationErrorsMessagesBuilder.buildValueTypeDoesNotMatchWithExpectedErrorMessage({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:e,targetPropertyValueSpecification:t,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a})),{isInvalid:!0};let i=this.processingApproach===C.ProcessingApproaches.existingObjectManipulation?e:{};const n=this.currentlyIteratedObjectPropertyQualifiedNameSegmentsForLogging.length;let o=!1;for(const[a,l]of Object.entries(t.properties)){let t;this.currentlyIteratedObjectPropertyQualifiedNameSegmentsForLogging[n]=a,m(l.newName)?(t=a,this.currentlyIteratedPropertyNewNameForLogging=null):(t=l.newName,this.currentlyIteratedPropertyNewNameForLogging=t);let u,d=e[a];const h=C.getNormalizedPreValidationModifications(l.preValidationModifications);h.length>0&&(u=c(d));for(const e of h)try{d=e(d)}catch(e){this.registerValidationError(this.validationErrorsMessagesBuilder.buildPreValidationModificationFailedErrorMessage({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:d,targetPropertyValueSpecification:l,targetPropertyStringifiedValueBeforeFirstPreValidationModification:u,thrownError:e}))}if(m(d)){if(!0===l.required){o=!0,this.registerValidationError(this.validationErrorsMessagesBuilder.buildRequiredPropertyIsMissingErrorMessage({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:d,targetPropertyValueSpecification:l,targetPropertyStringifiedValueBeforeFirstPreValidationModification:u}));continue}if(g(l.requiredIf)&&l.requiredIf.predicate(e,this.rawData)){o=!0,this.registerValidationError(this.validationErrorsMessagesBuilder.buildConditionallyRequiredPropertyIsMissingWhileRequirementConditionSatisfiedErrorMessage({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:d,targetPropertyValueSpecification:l,targetPropertyStringifiedValueBeforeFirstPreValidationModification:u,requirementConditionDescription:l.requiredIf.descriptionForLogging}));continue}if(g(l.defaultValue)){switch(this.processingApproach){case C.ProcessingApproaches.newObjectAssembling:this.isValidationOnlyMode||Object.defineProperty(i,t,{value:l.defaultValue,configurable:!s(l.makeNonConfigurable)||l.makeNonConfigurable,enumerable:!s(l.makeNonEnumerable)||l.makeNonEnumerable,writable:!s(l.makeReadonly)||l.makeReadonly});case C.ProcessingApproaches.existingObjectManipulation:}continue}continue}if(p(d)){if(!0!==l.nullable&&m(l.nullSubstitution)){o=!0,this.registerValidationError(this.validationErrorsMessagesBuilder.buildNonNullableValueIsNullErrorMessage({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:d,targetPropertyValueSpecification:l,targetPropertyStringifiedValueBeforeFirstPreValidationModification:u}));continue}if(g(l.nullSubstitution)){switch(this.processingApproach){case C.ProcessingApproaches.newObjectAssembling:this.isValidationOnlyMode||Object.defineProperty(i,t,{value:l.nullSubstitution,configurable:!s(l.makeNonConfigurable)||l.makeNonConfigurable,enumerable:!s(l.makeNonEnumerable)||l.makeNonEnumerable,writable:!s(l.makeReadonly)||l.makeReadonly});case C.ProcessingApproaches.existingObjectManipulation:}continue}if(!0===l.nullable){switch(this.processingApproach){case C.ProcessingApproaches.newObjectAssembling:this.isValidationOnlyMode||Object.defineProperty(i,t,{value:null,configurable:!s(l.makeNonConfigurable)||l.makeNonConfigurable,enumerable:!s(l.makeNonEnumerable)||l.makeNonEnumerable,writable:!s(l.makeReadonly)||l.makeReadonly});case C.ProcessingApproaches.existingObjectManipulation:}continue}}const f=this.processSingleNeitherUndefinedNorNullValue({targetValue:d,targetValueSpecification:l,parentObject:r,targetPropertyStringifiedValueBeforeFirstPreValidationModification:u});switch(this.processingApproach){case C.ProcessingApproaches.newObjectAssembling:if("isInvalid"in f){o=!0;continue}if("isValidButValidationOnlyModeActive"in f)continue;Object.defineProperty(i,t,{value:f.processedValue,configurable:!s(l.makeNonConfigurable)||l.makeNonConfigurable,enumerable:!s(l.makeNonEnumerable)||l.makeNonEnumerable,writable:!s(l.makeReadonly)||l.makeReadonly});case C.ProcessingApproaches.existingObjectManipulation:}}this.currentlyIteratedObjectPropertyQualifiedNameSegmentsForLogging.splice(-1,1);for(const i of C.getNormalizedCustomValidators(t.customValidators))i.validationFunction({currentPropertyValue:e,rawData__full:this.rawData,rawData__currentObjectDepth:r??this.rawData})||(o=!0,this.registerValidationError(this.validationErrorsMessagesBuilder.buildCustomValidationFailedErrorMessageTextData({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:e,targetPropertyValueSpecification:t,customValidationDescription:i.descriptionForLogging,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a})));if(o)return{isInvalid:!0};if(this.isValidationOnlyMode)return{isValidButValidationOnlyModeActive:!0};for(const e of C.getNormalizedPostValidationModifications(t.postValidationModifications))i=e(i);if(A(t.propertiesWillBeDeletedAfterPostValidationModifications))for(const e of t.propertiesWillBeDeletedAfterPostValidationModifications)delete i[e];return{processedValue:i}}processIndexedArrayTypeValue({targetValue__expectedToBeIndexedArray:e,targetIndexedArrayTypeValueSpecification:t,parentObject:r,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a}){if(!Array.isArray(e))return this.registerValidationError(this.validationErrorsMessagesBuilder.buildValueTypeDoesNotMatchWithExpectedErrorMessage({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:e,targetPropertyValueSpecification:t,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a})),{isInvalid:!0};let i=!1;g(t.minimalElementsCount)&&e.length<t.minimalElementsCount&&(i=!0,this.registerValidationError(this.validationErrorsMessagesBuilder.buildIndexedArrayElementsCountIsLessThanRequiredMinimumErrorMessage({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:e,targetPropertyValueSpecification:t,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a,minimalElementsCount:t.minimalElementsCount,actualElementsCount:e.length}))),g(t.maximalElementsCount)&&e.length>t.maximalElementsCount&&(i=!0,this.registerValidationError(this.validationErrorsMessagesBuilder.buildIndexedArrayElementsCountIsMoreThanAllowedMaximumErrorMessage({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:e,targetPropertyValueSpecification:t,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a,maximalElementsCount:t.maximalElementsCount,actualElementsCount:e.length}))),g(t.exactElementsCount)&&e.length!==t.exactElementsCount&&(i=!0,this.registerValidationError(this.validationErrorsMessagesBuilder.buildIndexedArrayElementsCountDoesNotMatchWithSpecifiedExactNumberErrorMessage({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:e,targetPropertyValueSpecification:t,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a,exactElementsCount:t.exactElementsCount,actualElementsCount:e.length})));let n=this.processingApproach===C.ProcessingApproaches.existingObjectManipulation?e:[];const o=this.currentlyIteratedObjectPropertyQualifiedNameSegmentsForLogging.length;let s=!1;for(const[a,i]of e.entries()){this.currentlyIteratedObjectPropertyQualifiedNameSegmentsForLogging[o]=a;let l,u=i;const d=C.getNormalizedPreValidationModifications(t.element.preValidationModifications);d.length>0&&(l=c(i));for(const e of d)try{u=e(u)}catch(e){this.registerValidationError(this.validationErrorsMessagesBuilder.buildPreValidationModificationFailedErrorMessage({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:u,targetPropertyValueSpecification:t.element,targetPropertyStringifiedValueBeforeFirstPreValidationModification:l,thrownError:e}))}if(m(u)){!0!==t.allowUndefinedTypeElements&&(s=!0,this.registerValidationError(this.validationErrorsMessagesBuilder.buildIndexedArrayDisallowedUndefinedElementErrorMessage({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:e,targetPropertyValueSpecification:t,targetPropertyStringifiedValueBeforeFirstPreValidationModification:l})));continue}if(p(u)){!0!==t.allowNullElements&&(s=!0,this.registerValidationError(this.validationErrorsMessagesBuilder.buildIndexedArrayDisallowedNullElementErrorMessage({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:e,targetPropertyValueSpecification:t,targetPropertyStringifiedValueBeforeFirstPreValidationModification:l})));continue}const g=this.processSingleNeitherUndefinedNorNullValue({targetValue:u,targetValueSpecification:t.element,parentObject:r,targetPropertyStringifiedValueBeforeFirstPreValidationModification:l});switch(this.processingApproach){case C.ProcessingApproaches.newObjectAssembling:if("isInvalid"in g){s=!0;continue}if("isValidButValidationOnlyModeActive"in g)continue;n[a]=g.processedValue;case C.ProcessingApproaches.existingObjectManipulation:}}this.currentlyIteratedObjectPropertyQualifiedNameSegmentsForLogging.splice(-1,1);for(const i of C.getNormalizedCustomValidators(t.customValidators))i.validationFunction({currentPropertyValue:e,rawData__full:this.rawData,rawData__currentObjectDepth:r??this.rawData})||(s=!0,this.registerValidationError(this.validationErrorsMessagesBuilder.buildCustomValidationFailedErrorMessageTextData({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:e,targetPropertyValueSpecification:t,customValidationDescription:i.descriptionForLogging,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a})));if(i||s)return{isInvalid:!0};if(this.isValidationOnlyMode)return{isValidButValidationOnlyModeActive:!0};for(const e of C.getNormalizedPostValidationModifications(t.postValidationModifications))n=e(n);return{processedValue:n}}processAssociativeArrayTypeValue({targetValue__expectedToBeAssociativeArrayTypeObject:e,targetAssociativeArrayTypeValueSpecification:t,parentObject:r,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a}){if(!h(e))return this.registerValidationError(this.validationErrorsMessagesBuilder.buildValueTypeDoesNotMatchWithExpectedErrorMessage({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:e,targetPropertyValueSpecification:t,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a})),{isInvalid:!0};let i=!1;if(g(t.minimalEntriesCount)&&Object.entries(e).length<t.minimalEntriesCount&&(i=!0,this.registerValidationError(this.validationErrorsMessagesBuilder.buildAssociativeArrayEntriesCountIsLessThanRequiredMinimumErrorMessage({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:e,targetPropertyValueSpecification:t,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a,minimalEntriesCount:t.minimalEntriesCount,actualEntriesCount:Object.entries(e).length}))),g(t.maximalEntriesCount)&&Object.entries(e).length>t.maximalEntriesCount&&(i=!0,this.registerValidationError(this.validationErrorsMessagesBuilder.buildAssociativeArrayPairsCountIsMoreThanAllowedMaximumErrorMessage({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:e,targetPropertyValueSpecification:t,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a,maximalEntriesCount:t.maximalEntriesCount,actualEntriesCount:Object.entries(e).length}))),g(t.exactEntriesCount)&&Object.entries(e).length!==t.exactEntriesCount&&(i=!0,this.registerValidationError(this.validationErrorsMessagesBuilder.buildAssociativeArrayPairsCountDoesNotMatchWithSpecifiedExactNumberErrorMessage({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:e,targetPropertyValueSpecification:t,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a,exactEntriesCount:t.exactEntriesCount,actualEntriesCount:Object.entries(e).length}))),A(t.requiredKeys)){const r=[...t.requiredKeys].filter((t=>!Object.keys(e).includes(t)));r.length>0&&(i=!0,this.registerValidationError(this.validationErrorsMessagesBuilder.buildRequiredKeysOfAssociativeArrayAreMissingErrorMessage({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:e,targetPropertyValueSpecification:t,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a,missingRequiredKeys:r})))}if(A(t.oneOfKeysIsRequired)){let r=!0;for(const a of Object.keys(e))if(t.oneOfKeysIsRequired.includes(a)){r=!1;break}r&&(i=!0,this.registerValidationError(this.validationErrorsMessagesBuilder.buildRequiredAlternativeKeysOfAssociativeArrayAreMissingErrorMessage({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:e,targetPropertyValueSpecification:t,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a,requiredKeysAlternatives:t.oneOfKeysIsRequired})))}const n=[];if(A(t.allowedKeys)){for(const r of Object.keys(e))t.allowedKeys.includes(r)||n.push(r);n.length>0&&(i=!0,this.registerValidationError(this.validationErrorsMessagesBuilder.buildDisallowedKeysFoundInAssociativeArrayErrorMessage({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:e,targetPropertyValueSpecification:t,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a,foundDisallowedKeys:n})))}let o=this.processingApproach===C.ProcessingApproaches.existingObjectManipulation?e:{};const s=this.currentlyIteratedObjectPropertyQualifiedNameSegmentsForLogging.length;let l=!1;for(const[a,i]of Object.entries(e)){if(this.currentlyIteratedObjectPropertyQualifiedNameSegmentsForLogging[s]=a,n.includes(a))continue;let u,d=i;const g=C.getNormalizedPreValidationModifications(t.value.preValidationModifications);g.length>0&&(u=c(d));for(const e of g)try{d=e(d)}catch(e){this.registerValidationError(this.validationErrorsMessagesBuilder.buildPreValidationModificationFailedErrorMessage({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:d,targetPropertyValueSpecification:t.value,targetPropertyStringifiedValueBeforeFirstPreValidationModification:u,thrownError:e}))}const h=t.keysRenamings?.[a]??a;if(m(d)){!0!==t.allowUndefinedTypeValues&&(l=!0,this.registerValidationError(this.validationErrorsMessagesBuilder.associativeArrayDisallowedUndefinedValueErrorMessage({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:e,targetPropertyValueSpecification:t,targetPropertyStringifiedValueBeforeFirstPreValidationModification:u})));continue}if(p(d)){!0!==t.allowNullValues&&(l=!0,this.registerValidationError(this.validationErrorsMessagesBuilder.associativeArrayDisallowedNullValueErrorMessage({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:e,targetPropertyValueSpecification:t,targetPropertyStringifiedValueBeforeFirstPreValidationModification:u})));continue}const f=this.processSingleNeitherUndefinedNorNullValue({targetValue:d,targetValueSpecification:t.value,parentObject:r,targetPropertyStringifiedValueBeforeFirstPreValidationModification:u});switch(this.processingApproach){case C.ProcessingApproaches.newObjectAssembling:if("isInvalid"in f){l=!0;continue}if("isValidButValidationOnlyModeActive"in f)continue;o[h]=f.processedValue;case C.ProcessingApproaches.existingObjectManipulation:}}this.currentlyIteratedObjectPropertyQualifiedNameSegmentsForLogging.splice(-1,1);for(const i of C.getNormalizedCustomValidators(t.customValidators))i.validationFunction({currentPropertyValue:e,rawData__full:this.rawData,rawData__currentObjectDepth:r??this.rawData})||(l=!0,this.registerValidationError(this.validationErrorsMessagesBuilder.buildCustomValidationFailedErrorMessageTextData({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:e,targetPropertyValueSpecification:t,customValidationDescription:i.descriptionForLogging,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a})));if(i||l)return{isInvalid:!0};if(this.isValidationOnlyMode)return{isValidButValidationOnlyModeActive:!0};for(const e of C.getNormalizedPostValidationModifications(t.postValidationModifications))o=e(o);return{processedValue:o}}processSingleNeitherUndefinedNorNullValue({targetValue:e,targetValueSpecification:t,parentObject:r,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a}){switch(C.getNormalizedValueTypeID(t.type)){case C.ValuesTypesIDs.number:return this.processNumberValue({targetValue__expectedToBeNumber:e,targetValueSpecification:t,parentObject:r,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a});case C.ValuesTypesIDs.string:return this.processStringValue({targetValue__expectedToBeString:e,targetValueSpecification:t,parentObject:r,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a});case C.ValuesTypesIDs.boolean:return this.processBooleanValue({targetValue__expectedToBeBoolean:e,targetValueSpecification:t,parentObject:r,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a});case C.ValuesTypesIDs.fixedKeyAndValuePairsObject:return this.processFixedKeyAndValuePairsNonNullObjectTypeValue({targetValue__expectedToBeObject:e,targetObjectTypeValueSpecification:t,parentObject:r,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a});case C.ValuesTypesIDs.indexedArrayOfUniformElements:return this.processIndexedArrayTypeValue({targetValue__expectedToBeIndexedArray:e,targetIndexedArrayTypeValueSpecification:t,parentObject:r,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a});case C.ValuesTypesIDs.associativeArrayOfUniformTypeValues:return this.processAssociativeArrayTypeValue({targetValue__expectedToBeAssociativeArrayTypeObject:e,targetAssociativeArrayTypeValueSpecification:t,parentObject:r,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a})}return t.type===C.ValuesTypesIDs.oneOf?this.processMultipleTypesAllowedValue({targetValue:e,targetValueSpecification:t,parentObject:r,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a}):(w.logError({errorType:V.NAME,title:V.localization.defaultTitle,description:`The specified value type '${t.type.toString()}' is not supported.`,occurrenceLocation:"RawObjectDataProcessor.process(rawData, validDataSpecification, options)-> processSingleNeitherUndefinedNorNullValue(parametersObject)"}),this.isValidationOnlyMode?{isValidButValidationOnlyModeActive:!0}:{isInvalid:!0})}processNumberValue({targetValue__expectedToBeNumber:e,targetValueSpecification:t,parentObject:r,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a}){if(!o(e))return this.registerValidationError(this.validationErrorsMessagesBuilder.buildValueTypeDoesNotMatchWithExpectedErrorMessage({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:e,targetPropertyValueSpecification:t,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a})),{isInvalid:!0};let i;switch(t.numbersSet){case C.NumbersSets.naturalNumber:i=f(e);break;case C.NumbersSets.nonNegativeInteger:i=y(e);break;case C.NumbersSets.negativeInteger:i=E(e);break;case C.NumbersSets.negativeIntegerOrZero:i=b(e);break;case C.NumbersSets.anyInteger:i=Number.isInteger(e);break;case C.NumbersSets.positiveDecimalFraction:i=N(e);break;case C.NumbersSets.negativeDecimalFraction:i=P(e);break;case C.NumbersSets.decimalFractionOfAnySign:i=T(e);break;case C.NumbersSets.anyRealNumber:i=!0}if(!i)return this.registerValidationError(this.validationErrorsMessagesBuilder.buildNumberValueIsNotBelongToExpectedNumbersSetErrorMessage({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:e,targetPropertyValueSpecification:t,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a,expectedNumbersSet:t.numbersSet})),{isInvalid:!0};if(g(t.allowedAlternatives)&&!t.allowedAlternatives.map((e=>o(e)?e:e.value)).includes(e))return this.registerValidationError(this.validationErrorsMessagesBuilder.buildValueIsNotAmongAllowedAlternativesErrorMessage({allowedAlternatives:t.allowedAlternatives.map((e=>o(e)?e.toString():e.key)),targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:e,targetPropertyValueSpecification:t,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a})),{isInvalid:!0};if(g(t.minimalValue)&&e<t.minimalValue)return this.registerValidationError(this.validationErrorsMessagesBuilder.buildNumericValueIsSmallerThanRequiredMinimumErrorMessage({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:e,targetPropertyValueSpecification:t,requiredMinimum:t.minimalValue,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a})),{isInvalid:!0};if(g(t.maximalValue)&&e>t.maximalValue)return this.registerValidationError(this.validationErrorsMessagesBuilder.buildNumericValueIsGreaterThanAllowedMaximumErrorMessage({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:e,targetPropertyValueSpecification:t,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a,allowedMaximum:t.maximalValue})),{isInvalid:!0};let n=!1;for(const i of C.getNormalizedCustomValidators(t.customValidators))i.validationFunction({currentPropertyValue:e,rawData__full:this.rawData,rawData__currentObjectDepth:r??this.rawData})||(n=!0,this.registerValidationError(this.validationErrorsMessagesBuilder.buildCustomValidationFailedErrorMessageTextData({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:e,targetPropertyValueSpecification:t,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a,customValidationDescription:i.descriptionForLogging})));if(n)return{isInvalid:!0};if(this.isValidationOnlyMode)return{isValidButValidationOnlyModeActive:!0};let s=e;for(const e of C.getNormalizedPostValidationModifications(t.postValidationModifications))s=e(s);return{processedValue:s}}processStringValue({targetValue__expectedToBeString:e,targetValueSpecification:t,parentObject:r,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a}){if(!i(e))return this.registerValidationError(this.validationErrorsMessagesBuilder.buildValueTypeDoesNotMatchWithExpectedErrorMessage({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:e,targetPropertyValueSpecification:t,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a})),{isInvalid:!0};if(g(t.allowedAlternatives)&&!t.allowedAlternatives.map((e=>i(e)?e:e.value)).includes(e))return this.registerValidationError(this.validationErrorsMessagesBuilder.buildValueIsNotAmongAllowedAlternativesErrorMessage({allowedAlternatives:t.allowedAlternatives.map((e=>i(e)?e:e.key)),targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:e,targetPropertyValueSpecification:t,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a})),{isInvalid:!0};if(f(t.minimalCharactersCount)&&e.length<t.minimalCharactersCount)return this.registerValidationError(this.validationErrorsMessagesBuilder.buildCharactersCountIsLessThanRequiredErrorMessage({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:e,targetPropertyValueSpecification:t,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a,minimalCharactersCount:t.minimalCharactersCount,realCharactersCount:e.length})),{isInvalid:!0};if(f(t.maximalCharactersCount)&&e.length>t.maximalCharactersCount)return this.registerValidationError(this.validationErrorsMessagesBuilder.buildCharactersCountIsMoreThanAllowedErrorMessage({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:e,targetPropertyValueSpecification:t,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a,maximalCharactersCount:t.maximalCharactersCount,realCharactersCount:e.length})),{isInvalid:!0};if(f(t.fixedCharactersCount)&&e.length!==t.fixedCharactersCount)return this.registerValidationError(this.validationErrorsMessagesBuilder.buildCharactersCountDoesNotMatchWithSpecifiedErrorMessage({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:e,targetPropertyValueSpecification:t,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a,fixedCharactersCount:t.fixedCharactersCount,realCharactersCount:e.length})),{isInvalid:!0};if(g(t.validValueRegularExpression)&&!t.validValueRegularExpression.test(e))return this.registerValidationError(this.validationErrorsMessagesBuilder.buildRegularExpressionMismatchErrorMessage({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:e,targetPropertyValueSpecification:t,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a,regularExpression:t.validValueRegularExpression})),{isInvalid:!0};let n=!1;for(const i of C.getNormalizedCustomValidators(t.customValidators))i.validationFunction({currentPropertyValue:e,rawData__full:this.rawData,rawData__currentObjectDepth:r??this.rawData})||(n=!0,this.registerValidationError(this.validationErrorsMessagesBuilder.buildCustomValidationFailedErrorMessageTextData({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:e,targetPropertyValueSpecification:t,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a,customValidationDescription:i.descriptionForLogging})));if(n)return{isInvalid:!0};if(this.isValidationOnlyMode)return{isValidButValidationOnlyModeActive:!0};let o=e;for(const e of C.getNormalizedPostValidationModifications(t.postValidationModifications))o=e(o);return{processedValue:o}}processBooleanValue({targetValue__expectedToBeBoolean:e,targetValueSpecification:t,parentObject:r,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a}){if(!s(e))return this.registerValidationError(this.validationErrorsMessagesBuilder.buildValueTypeDoesNotMatchWithExpectedErrorMessage({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:e,targetPropertyValueSpecification:t,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a})),{isInvalid:!0};if(!0===t.trueOnly&&!e||!0===t.falseOnly&&e)return this.registerValidationError(this.validationErrorsMessagesBuilder.buildDisallowedBooleanValueVariantErrorMessage({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:e,targetPropertyValueSpecification:t,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a,disallowedVariant:!(!0===t.trueOnly)})),{isInvalid:!0};let i=!1;for(const n of C.getNormalizedCustomValidators(t.customValidators))n.validationFunction({currentPropertyValue:e,rawData__full:this.rawData,rawData__currentObjectDepth:r??this.rawData})||(i=!0,this.registerValidationError(this.validationErrorsMessagesBuilder.buildCustomValidationFailedErrorMessageTextData({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:e,targetPropertyValueSpecification:t,customValidationDescription:n.descriptionForLogging,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a})));if(i)return{isInvalid:!0};if(this.isValidationOnlyMode)return{isValidButValidationOnlyModeActive:!0};let n=e;for(const e of C.getNormalizedPostValidationModifications(t.postValidationModifications))n=e(n);return{processedValue:n}}processMultipleTypesAllowedValue({targetValue:e,targetValueSpecification:t,parentObject:r,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a}){let i;switch(typeof e){case"number":i=t.alternatives.find((e=>e.type===C.ValuesTypesIDs.number||e.type===Number));break;case"string":i=t.alternatives.find((e=>e.type===C.ValuesTypesIDs.string||e.type===String));break;case"boolean":i=t.alternatives.find((e=>e.type===C.ValuesTypesIDs.boolean||e.type===Boolean));break;case"object":{if(Array.isArray(e)){i=t.alternatives.find((e=>e.type===C.ValuesTypesIDs.indexedArrayOfUniformElements||e.type===Array));break}const r=t.alternatives.filter((e=>e.type===C.ValuesTypesIDs.fixedKeyAndValuePairsObject||e.type===C.ValuesTypesIDs.associativeArrayOfUniformTypeValues||e.type===Object||e.type===Map));if(r.length>1)return w.logError({errorType:V.NAME,title:V.localization.defaultTitle,description:this.validationErrorsMessagesBuilder.buildIncompatibleValuesTypesAlternativesErrorDescription(t),occurrenceLocation:"RawObjectDataProcessor.processMultipleTypesAllowedValue(parametersObject)"}),{isInvalid:!0};i=r[0];break}}return m(i)?(w.logError({errorType:V.NAME,title:V.localization.defaultTitle,description:this.validationErrorsMessagesBuilder.buildUnsupportedValueTypeErrorDescription({targetPropertyDotSeparatedQualifiedName:this.currentObjectPropertyDotSeparatedQualifiedName,targetPropertyNewName:this.currentlyIteratedPropertyNewNameForLogging,targetPropertyValue:e,targetPropertyValueSpecification:t,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a}),occurrenceLocation:"RawObjectDataProcessor.processMultipleTypesAllowedValue(parametersObject)"}),{isInvalid:!0}):this.processSingleNeitherUndefinedNorNullValue({targetValue:e,targetValueSpecification:i,parentObject:r,targetPropertyStringifiedValueBeforeFirstPreValidationModification:a})}registerValidationError(e){this.rawDataIsInvalid=!0,this.validationErrorsMessages.push(e)}get currentObjectPropertyDotSeparatedQualifiedName(){return this.currentlyIteratedObjectPropertyQualifiedNameSegmentsForLogging.join(".")}get isValidationOnlyMode(){return this.rawDataIsInvalid}static getNormalizedPreValidationModifications(e=[]){return Array.isArray(e)?e:[e]}static getNormalizedPostValidationModifications(e=[]){return Array.isArray(e)?e:[e]}static getNormalizedCustomValidators(e=[]){return Array.isArray(e)?e:[e]}}!function(e){let t,r,a,i;!function(e){e.newObjectAssembling="ASSEMBLING_OF_NEW_OBJECT",e.existingObjectManipulation="MANIPULATING_OF_EXISTING_OBJECT"}(t=e.ProcessingApproaches||(e.ProcessingApproaches={})),function(e){e.fixedKeyAndValuePairsObject="FIXED_KEY_AND_VALUE_PAIRS_OBJECT",e.indexedArray="INDEXED_ARRAY",e.associativeArray="ASSOCIATIVE_ARRAY"}(r=e.ObjectSubtypes||(e.ObjectSubtypes={})),function(e){e.number="NUMBER",e.string="STRING",e.boolean="BOOLEAN",e.fixedKeyAndValuePairsObject="FIXED_KEY_AND_VALUE_PAIRS_OBJECT",e.indexedArrayOfUniformElements="INDEXED_ARRAY_OF_UNIFORM_ELEMENTS",e.associativeArrayOfUniformTypeValues="ASSOCIATIVE_ARRAY_OF_UNIFORM_TYPE_VALUES",e.oneOf="ONE_OF"}(a=e.ValuesTypesIDs||(e.ValuesTypesIDs={})),function(e){e.naturalNumber="NATURAL_NUMBER",e.nonNegativeInteger="NON_NEGATIVE_INTEGER",e.negativeInteger="NEGATIVE_INTEGER",e.negativeIntegerOrZero="NEGATIVE_INTEGER_OR_ZERO",e.anyInteger="ANY_INTEGER",e.positiveDecimalFraction="POSITIVE_DECIMAL_FRACTION",e.negativeDecimalFraction="NEGATIVE_DECIMAL_FRACTION",e.decimalFractionOfAnySign="DECIMAL_FRACTION_OF_ANY_SIGN",e.anyRealNumber="ANY_REAL_NUMBER"}(i=e.NumbersSets||(e.NumbersSets={})),e.ValidationErrorsMessagesBuilder=class{localization;buildErrorMessage;constructor(e){this.localization=e,this.buildErrorMessage=e.errorMessageBasicTemplate.bind(this.localization)}get rawDataIsNullErrorMessage(){return this.localization.rawDataIsNullErrorMessage}buildRawDataIsNotObjectErrorMessage(e){return this.localization.buildRawDataIsNotObjectErrorMessage(e)}buildValueTypeDoesNotMatchWithExpectedErrorMessage(e){return this.buildErrorMessage({...e,...this.localization.buildValueTypeDoesNotMatchWithExpectedErrorMessageTextData({targetPropertyValue:e.targetPropertyValue,targetPropertyValueSpecification:e.targetPropertyValueSpecification})})}buildPreValidationModificationFailedErrorMessage(e){return this.buildErrorMessage({...e,...this.localization.buildPreValidationModificationFailedErrorMessageTextData(e.thrownError)})}buildRequiredPropertyIsMissingErrorMessage(e){return this.buildErrorMessage({...e,...this.localization.requiredPropertyIsMissingErrorMessageTextData})}buildConditionallyRequiredPropertyIsMissingWhileRequirementConditionSatisfiedErrorMessage(e){return this.buildErrorMessage({...e,...this.localization.buildConditionallyRequiredPropertyIsMissingErrorMessageTextData(e.requirementConditionDescription)})}buildNonNullableValueIsNullErrorMessage(e){return this.buildErrorMessage({...e,...this.localization.nonNullableValueIsNullErrorMessageTextData})}buildIndexedArrayElementsCountIsLessThanRequiredMinimumErrorMessage(e){return this.buildErrorMessage({...e,...this.localization.buildIndexedArrayElementsCountIsLessThanRequiredMinimumErrorMessageTextData({minimalElementsCount:e.minimalElementsCount,actualElementsCount:e.actualElementsCount})})}buildIndexedArrayElementsCountIsMoreThanAllowedMaximumErrorMessage(e){return this.buildErrorMessage({...e,...this.localization.buildIndexedArrayElementsCountIsMoreThanAllowedMaximumErrorMessageTextData({maximalElementsCount:e.maximalElementsCount,actualElementsCount:e.actualElementsCount})})}buildIndexedArrayElementsCountDoesNotMatchWithSpecifiedExactNumberErrorMessage(e){return this.buildErrorMessage({...e,...this.localization.buildIndexedArrayElementsCountDoesNotMatchWithSpecifiedExactNumberErrorMessageTextData({exactElementsCount:e.exactElementsCount,actualElementsCount:e.actualElementsCount})})}buildIndexedArrayDisallowedUndefinedElementErrorMessage(e){return this.buildErrorMessage({...e,...this.localization.indexedArrayDisallowedUndefinedElementErrorMessageTextData})}buildIndexedArrayDisallowedNullElementErrorMessage(e){return this.buildErrorMessage({...e,...this.localization.indexedArrayDisallowedNullElementErrorMessageTextData})}buildAssociativeArrayEntriesCountIsLessThanRequiredMinimumErrorMessage(e){return this.buildErrorMessage({...e,...this.localization.buildAssociativeArrayEntriesCountIsLessThanRequiredMinimumErrorMessageTextData({minimalEntriesCount:e.minimalEntriesCount,actualEntriesCount:e.actualEntriesCount})})}buildAssociativeArrayPairsCountIsMoreThanAllowedMaximumErrorMessage(e){return this.buildErrorMessage({...e,...this.localization.buildAssociativeArrayEntriesCountIsMoreThanAllowedMaximumErrorMessageTextData({maximalEntriesCount:e.maximalEntriesCount,actualEntriesCount:e.actualEntriesCount})})}buildAssociativeArrayPairsCountDoesNotMatchWithSpecifiedExactNumberErrorMessage(e){return this.buildErrorMessage({...e,...this.localization.buildAssociativeArrayEntriesCountDoesNotMatchWithSpecifiedExactNumberErrorMessageTextData({exactEntriesCount:e.exactEntriesCount,actualEntriesCount:e.actualEntriesCount})})}buildRequiredKeysOfAssociativeArrayAreMissingErrorMessage(e){return this.buildErrorMessage({...e,...this.localization.buildRequiredKeysOfAssociativeArrayAreMissingErrorMessageTextData(e.missingRequiredKeys)})}buildRequiredAlternativeKeysOfAssociativeArrayAreMissingErrorMessage(e){return this.buildErrorMessage({...e,...this.localization.buildRequiredAlternativeKeysOfAssociativeArrayAreMissingErrorMessageTextData(e.requiredKeysAlternatives)})}buildDisallowedKeysFoundInAssociativeArrayErrorMessage(e){return this.buildErrorMessage({...e,...this.localization.buildDisallowedKeysFoundInAssociativeArrayErrorMessageTextData(e.foundDisallowedKeys)})}associativeArrayDisallowedUndefinedValueErrorMessage(e){return this.buildErrorMessage({...e,...this.localization.associativeArrayDisallowedUndefinedValueErrorMessageTextData})}associativeArrayDisallowedNullValueErrorMessage(e){return this.buildErrorMessage({...e,...this.localization.associativeArrayDisallowedNullValueErrorMessageTextData})}buildNumberValueIsNotBelongToExpectedNumbersSetErrorMessage(e){return this.buildErrorMessage({...e,...this.localization.buildNumberValueIsNotBelongToExpectedNumbersSetErrorMessageTextData(e.expectedNumbersSet),expectedNumbersSet:e.expectedNumbersSet})}buildValueIsNotAmongAllowedAlternativesErrorMessage(e){return this.buildErrorMessage({...e,...this.localization.buildValueIsNotAmongAllowedAlternativesErrorMessageTextData(e.allowedAlternatives)})}buildNumericValueIsSmallerThanRequiredMinimumErrorMessage(e){return this.buildErrorMessage({...e,...this.localization.buildNumericValueIsSmallerThanRequiredMinimumErrorMessageTextData(e.requiredMinimum)})}buildNumericValueIsGreaterThanAllowedMaximumErrorMessage(e){return this.buildErrorMessage({...e,...this.localization.buildNumericValueIsGreaterThanAllowedMaximumErrorMessageTextData(e.allowedMaximum)})}buildCharactersCountIsLessThanRequiredErrorMessage(e){return this.buildErrorMessage({...e,...this.localization.buildCharactersCountIsLessThanRequiredErrorMessageTextData({minimalCharactersCount:e.minimalCharactersCount,realCharactersCount:e.realCharactersCount})})}buildCharactersCountIsMoreThanAllowedErrorMessage(e){return this.buildErrorMessage({...e,...this.localization.buildCharactersCountIsMoreThanAllowedErrorMessageTextData({maximalCharactersCount:e.maximalCharactersCount,realCharactersCount:e.realCharactersCount})})}buildCharactersCountDoesNotMatchWithSpecifiedErrorMessage(e){return this.buildErrorMessage({...e,...this.localization.buildCharactersCountDoesNotMatchWithSpecifiedErrorMessageTextData({fixedCharactersCount:e.fixedCharactersCount,realCharactersCount:e.realCharactersCount})})}buildRegularExpressionMismatchErrorMessage(e){return this.buildErrorMessage({...e,...this.localization.buildRegularExpressionMismatchErrorMessageTextData(e.regularExpression)})}buildDisallowedBooleanValueVariantErrorMessage(e){return this.buildErrorMessage({...e,...this.localization.buildDisallowedBooleanValueVariantErrorMessageTextData(e.disallowedVariant)})}buildIncompatibleValuesTypesAlternativesErrorDescription(e){return this.localization.buildIncompatibleValuesTypesAlternativesErrorDescription(e)}buildUnsupportedValueTypeErrorDescription(e){return this.buildErrorMessage({...e,...this.localization.buildUnsupportedValueTypeErrorMessageTextData(e)})}buildCustomValidationFailedErrorMessageTextData(e){return this.buildErrorMessage({...e,...this.localization.buildCustomValidationFailedErrorMessageTextData(e.customValidationDescription)})}}}(C||(C={}));const O=C,v={defaultTitle:"Data submitting failure",generateDescription:({mentionToData:e,messageSpecificPart:t})=>[`The error occurred during submitting of the data "${e}".`,t].join("\n")};class R extends Error{static NAME="DataSubmittingFailedError";static localization=v;additionalData;constructor(e){super(),this.name=R.NAME,this.message="customMessage"in e?e.customMessage:R.localization.generateDescription(e),this.additionalData=e.additionalData}toString(){return[super.toString(),...g(this.additionalData)?[c(this.additionalData)]:[]].join("\n")}}const F=R,L={defaultTitle:"Retrieving of the data from data source failed",generateDescription:({mentionToData:e,messageSpecificPart:t})=>[`The error occurred during the retrieving of the data "${e}" from the external data source.`,t].join("\n")};class z extends Error{static NAME="DataRetrievingFailedError";static localization=L;additionalData;constructor(e){super(),this.name=z.NAME,this.message="customMessage"in e?e.customMessage:z.localization.generateDescription(e),this.additionalData=e.additionalData}toString(){return[super.toString(),...g(this.additionalData)?[c(this.additionalData)]:[]].join("\n")}}const j=z,B={defaultTitle:"Invalid external data",generateDescription:({mentionToExpectedData:e,messageSpecificPart:t})=>`\n      The data "${e}" does not match with expected.`+u(t,{modifier:e=>`\n${e}`})};class $ extends Error{static NAME="InvalidExternalDataError";static localization=B;constructor(e){super(),this.name=$.NAME,this.message="customMessage"in e?e.customMessage:$.localization.generateDescription(e)}}const U=$,k={defaultTitle:"Invalid configuration",generateDescription:({mentionToConfig:e,messageSpecificPart:t})=>`The configuration of "${e}" is invalid.`+u(t,{modifier:e=>`\n${e}`})};class H extends Error{static NAME="InvalidConfigError";static localization=k;constructor(e){super(),this.name=H.NAME,this.message="customMessage"in e?e.customMessage:H.localization.generateDescription(e)}}const W=H;function q(e){const{targetArray:t,mutably:r}=e,a=t.length,i="number"==typeof e.indexes?[e.indexes]:[...e.indexes].sort(((e,t)=>e-t)).reverse(),n=[],o=[],s=r?t:[...e.targetArray];for(const e of i)y(e)?e>=a?w.logError({errorType:V.NAME,title:V.localization.defaultTitle,description:V.localization.generateDescription({parameterNumber:1,parameterName:"sourceData.indexes",messageSpecificPart:`The index ${e} is greater than index of last element of target array therefore will be ignored.`}),occurrenceLocation:"removeArrayElementsByIndexes(sourceData)"}):o.includes(e)||(n.push(s.splice(e,1)[0]),o.push(e)):w.logError({errorType:V.NAME,title:V.localization.defaultTitle,description:V.localization.generateDescription({parameterNumber:1,parameterName:"sourceData.indexes",messageSpecificPart:`The index ${String(e)} is not the non-negative integer therefore will be ignored.`}),occurrenceLocation:"removeArrayElementsByIndexes(sourceData)"});return{updatedArray:s,removedElements:n.reverse()}}function Q(e){const t=Array.from(e.targetString);let r;return r="fromFirstPosition"in e?0:"fromLastPosition"in e?t.length-1:"fromPosition__numerationFrom0"in e?e.fromPosition__numerationFrom0:e.fromPosition__numerationFrom1-1,t[r]!==e.targetCharacter?e.targetString:q({targetArray:t,indexes:r,mutably:!0}).updatedArray.join("")}const G=e=>{const t=[];for(const[r,a]of Object.entries(e))(i(a)||o(a)||s(a))&&t.push(`${r}=${a}`);return t.join("&")};class K{static implementation=null;static API_SERVER_URI_CONSTANT_PART__WITHOUT_TRAILING_SLASH=null;static URI_QueryParametersSerializer=G;static set API_SERVER_URI_CONSTANT_PART(e){K.API_SERVER_URI_CONSTANT_PART__WITHOUT_TRAILING_SLASH=Q({targetString:e,targetCharacter:"/",fromLastPosition:!0})}static setup(e){g(e.implementation)&&(K.implementation=e.implementation),g(e.API_ServerURI_ConstantPart)&&(K.API_SERVER_URI_CONSTANT_PART=e.API_ServerURI_ConstantPart),g(e.URI_QueryParametersSerializer)&&(K.URI_QueryParametersSerializer=e.URI_QueryParametersSerializer)}static async retrieveData(e){return K.getExpectedToBeInitializedImplementation().retrieveData(e)}static async submitData(e){return K.getExpectedToBeInitializedImplementation().submitData(e)}static async retrieveText(e){return K.getExpectedToBeInitializedImplementation().retrieveText(e)}async retrieveData(e){let t;try{t=await this.retrieveResponseWithRawObjectData({URI:this.normalizeURI(e),HTTP_Method:e.HTTP_Method??a.get,HTTP_Headers:e.HTTP_Headers??{},mustIncludeCookiesAndAuthenticationHeadersToRequest:!0===e.mustIncludeCookiesAndAuthenticationHeadersToRequest})}catch(e){w.throwErrorAndLog({errorInstance:new j({customMessage:"The retrieving data by AJAX has failed."}),title:j.localization.defaultTitle,occurrenceLocation:"AJAX_Service.retrieveData(compoundParameter)",innerError:e})}return K.normalizeRawObjectDataResponse(t,e.validResponseDataSpecification)}async submitData(e){let t;try{t=await this.submitAndGetRawResponseDataIfAvailable({URI:this.normalizeURI(e),HTTP_Method:e.HTTP_Method??a.get,HTTP_Headers:e.HTTP_Headers??{},requestData:e.requestData,mustExpectResponseData:g(e.validResponseDataSpecification),mustIncludeCookiesAndAuthenticationHeadersToRequest:!0===e.mustIncludeCookiesAndAuthenticationHeadersToRequest})}catch(e){w.throwErrorAndLog({errorInstance:new F({customMessage:"The submitting of the data by AJAX has failed."}),title:F.localization.defaultTitle,occurrenceLocation:"AJAX_Service.submitData(compoundParameter)",innerError:e})}return m(e.validResponseDataSpecification)?{...t.isSuccessful?{isSuccessful:!0,data:t.data}:{isSuccessful:!1,..."errorObjectPayload"in t?{errorObjectPayload:t.errorObjectPayload}:{errorTextPayload:t.errorTextPayload}},HTTP_Headers:t.HTTP_Headers,HTTP_Status:t.HTTP_Status}:K.normalizeRawObjectDataResponse(t,e.validResponseDataSpecification)}async retrieveText(e){return this.retrieveResponseWithTextData({URI:this.normalizeURI(e),HTTP_Method:e.HTTP_Method??a.get,HTTP_Headers:e.HTTP_Headers??{},...g(e.requestData)?{requestData:e.requestData}:null,mustIncludeCookiesAndAuthenticationHeadersToRequest:!0===e.mustIncludeCookiesAndAuthenticationHeadersToRequest})}normalizeURI(e){const t=this.normalizeURI_UntilPath(e),r=e.URI_QueryParameters??{};let a;return Object.entries(r).length>0&&(a=e.URI_QueryParametersSerializer?.(r)??K.URI_QueryParametersSerializer(r)),t+u(a,{modifier:e=>`?${e}`})}normalizeURI_UntilPath(e){return S(e.alternatingURI_PathPart)?(p(K.API_SERVER_URI_CONSTANT_PART__WITHOUT_TRAILING_SLASH)&&w.throwErrorAndLog({errorInstance:new W({customMessage:'The "alternatingURI_PathPart" has been specified while the the static field "API_SERVER_URI_CONSTANT_PART" has not been set.'}),title:W.localization.defaultTitle,occurrenceLocation:"AJAX_Service.normalizeURI_UntilPath(URI_PathRawDefinition)"}),encodeURI(`${K.API_SERVER_URI_CONSTANT_PART__WITHOUT_TRAILING_SLASH}/`+Q({targetString:e.alternatingURI_PathPart,targetCharacter:"/",fromFirstPosition:!0}))):S(e.specificURI_UntilPath)?encodeURI(e.specificURI_UntilPath):void w.throwErrorAndLog({errorInstance:new V({customMessage:'Either "alternatingURI_PathPart" or "specificURI_UntilPath" must be specified with non-empty strings while neither has been.'}),title:V.localization.defaultTitle,occurrenceLocation:"AJAX_Service.normalizeURI_UntilPath(URI_PathRawDefinition)"})}static normalizeRawObjectDataResponse(e,t){if(e.isSuccessful){const r=O.process(e.data,t);return r.rawDataIsInvalid&&w.throwErrorAndLog({errorInstance:new U({mentionToExpectedData:"HTTP_ResponseData",messageSpecificPart:O.formatValidationErrorsList(r.validationErrorsMessages)}),title:U.localization.defaultTitle,occurrenceLocation:"AJAX_Service.normalizeRawObjectDataResponse(rawObjectDataResponse, validResponseDataSpecification)"}),{isSuccessful:!0,data:r.processedData,HTTP_Headers:e.HTTP_Headers,HTTP_Status:e.HTTP_Status}}return{isSuccessful:!1,..."errorObjectPayload"in e?{errorObjectPayload:e.errorObjectPayload}:{errorTextPayload:e.errorTextPayload},HTTP_Headers:e.HTTP_Headers,HTTP_Status:e.HTTP_Status}}static getExpectedToBeInitializedImplementation(){return p(K.implementation)&&w.throwErrorAndLog({errorType:"ImplementationHasNotBeenSetError",title:"Implementation has not been set",description:'To use the static methods of "AJAX_Service" class and its inheritors, it is required to set the "implementation" public static field first or use "setup" static method.',occurrenceLocation:"AJAX_Service.getExpectedToBeInitializedImplementation()"}),K.implementation}}const Y=K,X={defaultTitle:"Unsupported scenario"};class J extends Error{static NAME="UnsupportedScenarioError";static localization=X;constructor(e){super(),this.name=J.NAME,this.message=e}}const Z=J;function ee(e){return"object"==typeof e}const te={defaultTitle:"HTTP Response Body Parsing Failure"};class re extends Error{static NAME="HTTP_ResponseBodyParsingFailureError";static localization=te;constructor(e){super(),this.name=re.NAME,this.message=e}}const ae=re;class ie extends Y{async retrieveResponseWithRawObjectData(e){let t;try{t=await fetch(e.URI,{method:e.HTTP_Method,headers:{...e.HTTP_Headers},...e.mustIncludeCookiesAndAuthenticationHeadersToRequest?{credentials:"include"}:null})}catch(e){w.throwErrorAndLog({errorInstance:new j({customMessage:"The error has occurred before response has been retrieved."}),title:j.localization.defaultTitle,occurrenceLocation:"FetchAPI_Service.retrieveResponseWithRawData(compoundParameter)",innerError:e})}return{...t.ok?{isSuccessful:!0,data:await ie.extractRawObjectDataFromResponse(t)}:{isSuccessful:!1,...await ie.extractErrorPayloadFromResponse(t)},HTTP_Headers:Array.from(t.headers).reduce(((e,[t,r])=>(e[t]=r,e)),{}),HTTP_Status:t.status}}async submitAndGetRawResponseDataIfAvailable(e){let t;try{t=await fetch(e.URI,{method:e.HTTP_Method,headers:{"Content-Type":"application/json; charset=UTF-8",...e.HTTP_Headers},body:JSON.stringify(e.requestData),...e.mustIncludeCookiesAndAuthenticationHeadersToRequest?{credentials:"include"}:null})}catch(e){w.throwErrorAndLog({errorInstance:new F({customMessage:"The error has occurred before server response has been retrieved."}),title:F.localization.defaultTitle,occurrenceLocation:"FetchAPI_Service.submitAndGetRawResponseDataIfAvailable(compoundParameter)",innerError:e})}return{...t.ok?{isSuccessful:!0,data:e.mustExpectResponseData?await ie.extractRawObjectDataFromResponse(t):{}}:{isSuccessful:!1,...await ie.extractErrorPayloadFromResponse(t)},HTTP_Headers:Array.from(t.headers).reduce(((e,[t,r])=>(e[t]=r,e)),{}),HTTP_Status:t.status}}async retrieveResponseWithTextData(e){let t,r;try{t=await fetch(e.URI,{method:e.HTTP_Method,headers:{...g(e.requestData)?{"Content-Type":"application/json; charset=UTF-8"}:null,...e.HTTP_Headers},...g(e.requestData)?{body:JSON.stringify(e.requestData)}:null,...e.mustIncludeCookiesAndAuthenticationHeadersToRequest?{credentials:"include"}:null})}catch(e){w.throwErrorAndLog({errorInstance:new j({customMessage:"The error has occurred before response has been retrieved."}),title:j.localization.defaultTitle,occurrenceLocation:"FetchAPI_Service.retrieveResponseWithTextData(compoundParameter)",innerError:e})}if(t.ok)try{r=await t.text()}catch(e){w.throwErrorAndLog({errorInstance:new ae("The HTTP response body could not be represented as text."),title:ae.localization.defaultTitle,occurrenceLocation:"FetchAPI_Service.retrieveResponseWithTextData(compoundParameter)",innerError:e})}return{...g(r)?{isSuccessful:!0,text:r}:{isSuccessful:!1,...await ie.extractErrorPayloadFromResponse(t)},HTTP_Headers:Array.from(t.headers).reduce(((e,[t,r])=>(e[t]=r,e)),{}),HTTP_Status:t.status}}static async extractRawObjectDataFromResponse(e){let t;try{t=await e.json()}catch(e){w.throwErrorAndLog({errorInstance:new ae("The HTTP response body could not be represented as JSON."),title:ae.localization.defaultTitle,occurrenceLocation:"FetchAPI_Service.extractRawObjectDataFromResponse(response)",innerError:e})}return ee(t)||w.throwErrorAndLog({errorInstance:new Z(`The data has type "${typeof t}" while currently non-object data in not supported.`),title:Z.localization.defaultTitle,occurrenceLocation:"FetchAPI_Service.extractRawObjectDataFromResponse(response)"}),t}static async extractErrorPayloadFromResponse(e){const t=e.headers.get("content-type");if(!0===t?.includes("application/json")){let t;try{t=await e.json()}catch(e){w.throwErrorAndLog({errorInstance:new ae('The HTTP response body could not be represented as JSON while "content-type" HTTP header is includes "application/json".'),title:ae.localization.defaultTitle,occurrenceLocation:"FetchAPI_Service.extractErrorPayloadFromResponse(response)",innerError:e})}return ee(t)||w.throwErrorAndLog({errorInstance:new Z(`The data has type "${typeof t}" while currently non-object data in not supported.`),title:Z.localization.defaultTitle,occurrenceLocation:"FetchAPI_Service.extractRawObjectDataFromResponse(response)"}),{errorObjectPayload:t}}if(!0===t?.includes("text")){let t;try{t=await e.text()}catch(e){w.throwErrorAndLog({errorInstance:new ae('The HTTP response body could not be represented as text while "content-type" HTTP header is includes "text".'),title:ae.localization.defaultTitle,occurrenceLocation:"FetchAPI_Service.extractRawObjectDataFromResponse(compoundParameter)",innerError:e})}return{errorTextPayload:t}}return{errorObjectPayload:{}}}}function ne(e){const t=e.mutably?e.targetArray:[...e.targetArray];if("toStart"in e)return t.unshift(...e.newElements),t;if("toEnd"in e)return t.push(...e.newElements),t;let r;return y(e.toPosition__numerationFrom0)?r=e.toPosition__numerationFrom0:f(e.toPosition__numerationFrom1)?r=e.toPosition__numerationFrom1-1:w.throwErrorAndLog({errorInstance:new V({parameterNumber:1,parameterName:"compoundParameter",messageSpecificPart:'The target position has been incorrectly specified. The valid alternatives are:\n● "toStart": must the the boolean herewith "true" only● "toEnd": must the the boolean herewith "true" only● "toPosition__numerationFrom0": must the the positive integer\n● "toPosition__numerationFrom1": must the the natual number'}),title:V.localization.defaultTitle,occurrenceLocation:"addElementsToArray(compoundParameter)"}),t.splice(r,0,...e.newElements),t}function oe(e,t){const r=[];return e.forEach(((e,a)=>{t(e)&&r.push(a)})),r}function se(e){const t=oe(e.targetArray,"targetElement"in e?e.targetElementFinder??(t=>t===e.targetElement):e.targetElementsFinder??(t=>e.targetElements.includes(t))),r=e.mutably?e.targetArray:[...e.targetArray];if(t.length>0)return q({targetArray:r,indexes:t,mutably:e.mutably}).updatedArray;const a="targetElements"in e?e.targetElements:[e.targetElement];if("addingToStart"in e)return r.unshift(...a),r;if("addingToEnd"in e)return r.push(...a),r;let i;return y(e.addingToPosition__numerationFrom0)?i=e.addingToPosition__numerationFrom0:f(e.addingToPosition__numerationFrom1)?i=e.addingToPosition__numerationFrom1-1:w.throwErrorAndLog({errorInstance:new V({parameterNumber:1,parameterName:"compoundParameter",messageSpecificPart:'The target position for new element has been incorrectly specified. The valid alternatives are:\n● "addingToStart": must the the boolean herewith "true" only● "addingToEnd": must the the boolean herewith "true" only● "addingToPosition__numerationFrom0": must the the positive integer\n● "addingToPosition__numerationFrom1": must the the natual number'}),title:V.localization.defaultTitle,occurrenceLocation:"addElementsToArrayIfTheyAreNotPresentOtherwiseRemove(compoundParameter)"}),r.splice(i,0,...a),r}function le(e){const{elementsCount:t,isDescendingOrder:r=!1,startingNumber:a=(r?0===t?1:t:1)}=e;return y(t)||w.throwErrorAndLog({errorInstance:new V({parameterNumber:1,parameterName:"options",messageSpecificPart:`The "elementsCount" must be the positive integer while ${String(t)} has been specified.`}),title:V.localization.defaultTitle,occurrenceLocation:"createArrayOfNaturalNumbers(elementsCount)"}),f(a)||w.throwErrorAndLog({errorInstance:new V({parameterNumber:1,parameterName:"options",messageSpecificPart:`The "startingNumber" must the natural number while ${String(t)} has been specified.`}),title:V.localization.defaultTitle,occurrenceLocation:"createArrayOfNaturalNumbers(elementsCount)"}),r&&a<t&&w.throwErrorAndLog({errorInstance:new V({parameterNumber:1,parameterName:"options",messageSpecificPart:`The specified "startingNumber" ${a} is smaller than requested ${t}. The monotonically decreasing array of natual number could not be created with such conditions.`}),title:V.localization.defaultTitle,occurrenceLocation:"createArrayOfNaturalNumbers(elementsCount)"}),Array.from(new Array(t).keys()).map((e=>a+(r?-e:e)))}function ce(e){const t=e.targetArray;let r,a;return y(e.startingElementNumber__numerationFrom0)?r=e.startingElementNumber__numerationFrom0:f(e.startingElementNumber__numerationFrom1)?r=e.startingElementNumber__numerationFrom1-1:!0===e.fromStart?r=0:w.throwErrorAndLog({errorInstance:new V({parameterNumber:1,parameterName:"compoundParameter",messageSpecificPart:'It has been incorrectly specified from which element target array must be cropped. The valid alternatives are:\n● "startingElementNumber__numerationFrom0": must the the positive integer\n● "startingElementNumber__numerationFrom1": must the the natual number\n● "fromStart": must the the boolean herewith "true" only'}),title:V.localization.defaultTitle,occurrenceLocation:"cropArray(compoundParameter)"}),y(e.endingElementNumber__numerationFrom0)?a=e.endingElementNumber__numerationFrom0+1:f(e.endingElementNumber__numerationFrom1)?a=e.endingElementNumber__numerationFrom1:f(e.elementsCount)?a=r+e.elementsCount:!0===e.untilEnd?a=t.length:w.throwErrorAndLog({errorInstance:new V({parameterNumber:1,parameterName:"compoundParameter",messageSpecificPart:'It has been incorrectly specified until which element target array must be cropped. The valid alternatives are:\n● "endingElementNumber__numerationFrom0": must the the positive integer\n● "endingElementNumber__numerationFrom1": must the the natual number\n● "elementsCount": must the the natual number\n● "untilEnd": must the the boolean herewith "true" only\n'}),title:V.localization.defaultTitle,occurrenceLocation:"cropArray(compoundParameter)"}),a>t.length&&e.mustThrowErrorIfSpecifiedElementsNumbersAreOutOfRange&&w.throwErrorAndLog({errorInstance:new V({parameterNumber:1,parameterName:"compoundParameter",messageSpecificPart:`The specified last element number is ${a} (numeration from 1) while the target array has only ${t.length} elements.The error has been thrown because the "mustThrowErrorIfSpecifiedElementsNumbersAreOutOfRange" option has been set to "true".`}),title:V.localization.defaultTitle,occurrenceLocation:"cropArray(compoundParameter)"}),e.mutably?(e.targetArray.splice(a,t.length),e.targetArray.splice(0,r),e.targetArray):t.slice(r,a)}const ue={defaultTitle:"Unexpected event occurred"};class de extends Error{static NAME="UnexpectedEventError";static localization=ue;constructor(e){super(),this.name=de.NAME,this.message=e}}const me=de;function ge(e,t,r={}){const a=e.filter(t);return 0===a.length?(!0===r.mustThrowErrorIfElementNotFoundOrMatchesAreMultiple&&w.throwErrorAndLog({errorInstance:new me("Array element satisfies the specified predicate not found."),title:me.localization.defaultTitle,occurrenceLocation:"getArrayElementSatisfiesThePredicateIfSuchElementIsExactlyOne(targetArray, predicate, options)"}),null):a.length>1?(!0===r.mustThrowErrorIfElementNotFoundOrMatchesAreMultiple&&w.throwErrorAndLog({errorInstance:new me("There are multiple elements satisfies the predicate. As it follows from the function name, two or more matches case is being considered as the unexpected event."),title:me.localization.defaultTitle,occurrenceLocation:"getArrayElementSatisfiesThePredicateIfSuchElementIsExactlyOne(targetArray, predicate, options)"}),null):a[0]}function pe(e,t,r={}){const a=[];for(const[r,i]of e.entries())t(i)&&a.push(r);return 0===a.length?(!0===r.mustThrowErrorIfElementNotFoundOrMatchesAreMultiple&&w.throwErrorAndLog({errorInstance:new me("Array element satisfies to specified predicate not found."),title:me.localization.defaultTitle,occurrenceLocation:"getIndexOfArrayElementSatisfiesThePredicateIfSuchElementIsExactlyOne(targetArray, predicate, options)"}),null):a.length>1?(!0===r.mustThrowErrorIfElementNotFoundOrMatchesAreMultiple&&w.throwErrorAndLog({errorInstance:new me("There are multiple elements satisfies the predicate. As it follows from the function name, two or more matches case is being considered as unexpected event."),title:me.localization.defaultTitle,occurrenceLocation:"getIndexOfArrayElementSatisfiesThePredicateIfSuchElementIsExactlyOne(targetArray, predicate, options)"}),null):a[0]}function he(e,t){const r=e[e.length-1];return m(r)?(!0===t?.mustThrowErrorIfArrayIsEmpty&&w.throwErrorAndLog({errorInstance:new me("Contrary to expectations, target array is empty thus there is no the last element could be accessed."),title:me.localization.defaultTitle,occurrenceLocation:"getLastElementOfArray(targetArray, options)"}),null):r}function fe(e){if(e.targetArray.length<2)return e.errorMustBeThrownIf.elementsCountIsLessThan2&&w.throwErrorAndLog({errorInstance:new V({parameterNumber:1,parameterName:"compoundParameter",messageSpecificPart:`Target array must contain at least 2 elements while actually contains ${e.targetArray.length}. This situation is being considered as an error when "errorMustBeThrownIf.elementsCountIsLessThan2" flag has been set to "true".`}),title:V.localization.defaultTitle,occurrenceLocation:"moveArrayElementTo1Position(compoundParameter)"}),e.targetArray;const t=e.mutably?e.targetArray:[...e.targetArray],r="targetElementNumber__numerationFrom0"in e?e.targetElementNumber__numerationFrom0:e.targetElementNumber__numerationFrom1-1;if(r<0||r>t.length)return e.errorMustBeThrownIf.targetElementNumberIsOutOfRange&&w.throwErrorAndLog({errorInstance:new V({parameterNumber:1,parameterName:"compoundParameter",messageSpecificPart:'Target element number is out of range. This situation is being considered as an error when "errorMustBeThrownIf.targetElementNumberIsOutOfRange" flag has been set to "true".'}),title:V.localization.defaultTitle,occurrenceLocation:"moveArrayElementTo1Position(compoundParameter)"}),t;if(0===r&&e.toLeft){const e=t[0];return t.shift(),t.push(e),t}if(r===t.length-1&&!e.toLeft){const e=t[t.length-1];return t.pop(),t.unshift(e),t}const a=e.toLeft?r-1:r+1,i=t[a];return t[a]=t[r],t[r]=i,t}function ye(e){const{targetArray:t,mutably:r}=e,a=[];for(const r of[..."predicates"in e?e.predicates:[e.predicate]])a.push(...oe(t,r).filter((e=>!a.includes(e))));return{...q({...r?{mutably:!0,targetArray:t}:{mutably:!1,targetArray:t},indexes:a}),indexesOfRemovedElements:a.sort(((e,t)=>e-t))}}function Ee(e){const t=[...e.targetArray],r="replacements"in e?e.replacements:[{index:e.index,newElement:e.newElement}];for(const e of r)t[e.index]=e.newElement;return t}function be(e){const{targetArray:t,mutably:r}=e,a=new Map,i=[];let n;n="replacements"in e?e.replacements:"newValue"in e?[{predicate:e.predicate,newValue:e.newValue}]:[{predicate:e.predicate,replacer:e.replacer}];for(const e of n){const r=oe(t,e.predicate);for(const n of r)i.includes(n)||i.push(n),a.set(n,"newValue"in e?e.newValue:e.replacer(t[n]))}const o=r?t:[...e.targetArray];for(const[e,t]of a)o[e]=t;return{updatedArray:o,indexesOfReplacedElements:i}}function Ne(e){const t=[],r=e.targetFlatArray.length;let a=[];for(const[i,n]of e.targetFlatArray.entries())a.push(n),i!==r-1?a.length===e.elementsCountPerNestedArray&&(t.push(a),a=[]):t.push(a);return t}var Pe,Te,Ae,Me,Se,Ie;!function(e){e[e.continue=100]="continue",e[e.switchingProtocols=101]="switchingProtocols",e[e.processing=102]="processing",e[e.earlyHints=103]="earlyHints",e[e.OK=200]="OK",e[e.created=201]="created",e[e.accepted=202]="accepted",e[e.nonAuthoritativeInformation=203]="nonAuthoritativeInformation",e[e.noContent=204]="noContent",e[e.resetContent=205]="resetContent",e[e.partialContent=206]="partialContent",e[e.multiStatus=207]="multiStatus",e[e.alreadyReported=208]="alreadyReported",e[e.IM_Used=226]="IM_Used",e[e.multipleChoices=300]="multipleChoices",e[e.movedPermanently=301]="movedPermanently",e[e.found=302]="found",e[e.seeOther=303]="seeOther",e[e.notModified=304]="notModified",e[e.useProxy=305]="useProxy",e[e.unused=306]="unused",e[e.temporaryRedirect=307]="temporaryRedirect",e[e.permanentRedirect=308]="permanentRedirect",e[e.badRequest=400]="badRequest",e[e.unauthorized=401]="unauthorized",e[e.paymentRequired=402]="paymentRequired",e[e.forbidden=403]="forbidden",e[e.notFound=404]="notFound",e[e.methodNotAllowed=405]="methodNotAllowed",e[e.notAcceptable=406]="notAcceptable",e[e.proxyAuthenticationRequired=407]="proxyAuthenticationRequired",e[e.requestTimeout=408]="requestTimeout",e[e.conflict=409]="conflict",e[e.gone=410]="gone",e[e.lengthRequired=411]="lengthRequired",e[e.preconditionFailed=412]="preconditionFailed",e[e.payloadTooLarge=413]="payloadTooLarge",e[e.URI_TooLong=414]="URI_TooLong",e[e.unsupportedMediaType=415]="unsupportedMediaType",e[e.rangeNotSatisfiable=416]="rangeNotSatisfiable",e[e.expectationFailed=417]="expectationFailed",e[e.IAmATeapot=418]="IAmATeapot",e[e.misdirectedRequest=421]="misdirectedRequest",e[e.unprocessableEntity=422]="unprocessableEntity",e[e.locked=423]="locked",e[e.failedDependency=424]="failedDependency",e[e.tooEarly=425]="tooEarly",e[e.upgradeRequired=426]="upgradeRequired",e[e.preconditionRequired=428]="preconditionRequired",e[e.tooManyRequests=429]="tooManyRequests",e[e.requestHeaderFieldsTooLarge=431]="requestHeaderFieldsTooLarge",e[e.unavailableForLegalReasons=451]="unavailableForLegalReasons",e[e.internalServerError=500]="internalServerError",e[e.notImplemented=501]="notImplemented",e[e.badGateway=502]="badGateway",e[e.serviceUnavailable=503]="serviceUnavailable",e[e.gatewayTimeout=504]="gatewayTimeout",e[e.HTTP_VersionNotSupported=505]="HTTP_VersionNotSupported",e[e.variantAlsoNegotiates=506]="variantAlsoNegotiates",e[e.insufficientStorage=507]="insufficientStorage",e[e.loopDetected=508]="loopDetected",e[e.notExtended=510]="notExtended",e[e.networkAuthenticationRequired=511]="networkAuthenticationRequired"}(Pe||(Pe={})),function(e){e[e.continue=100]="continue",e[e.switchingProtocols=101]="switchingProtocols",e[e.processing=102]="processing",e[e.earlyHints=103]="earlyHints"}(Te||(Te={})),function(e){e[e.OK=200]="OK",e[e.created=201]="created",e[e.accepted=202]="accepted",e[e.nonAuthoritativeInformation=203]="nonAuthoritativeInformation",e[e.noContent=204]="noContent",e[e.resetContent=205]="resetContent",e[e.partialContent=206]="partialContent",e[e.multiStatus=207]="multiStatus",e[e.alreadyReported=208]="alreadyReported",e[e.IM_Used=226]="IM_Used"}(Ae||(Ae={})),function(e){e[e.multipleChoices=300]="multipleChoices",e[e.movedPermanently=301]="movedPermanently",e[e.found=302]="found",e[e.seeOther=303]="seeOther",e[e.notModified=304]="notModified",e[e.useProxy=305]="useProxy",e[e.unused=306]="unused",e[e.temporaryRedirect=307]="temporaryRedirect",e[e.permanentRedirect=308]="permanentRedirect"}(Me||(Me={})),function(e){e[e.badRequest=400]="badRequest",e[e.unauthorized=401]="unauthorized",e[e.paymentRequired=402]="paymentRequired",e[e.forbidden=403]="forbidden",e[e.notFound=404]="notFound",e[e.methodNotAllowed=405]="methodNotAllowed",e[e.notAcceptable=406]="notAcceptable",e[e.proxyAuthenticationRequired=407]="proxyAuthenticationRequired",e[e.requestTimeout=408]="requestTimeout",e[e.conflict=409]="conflict",e[e.gone=410]="gone",e[e.lengthRequired=411]="lengthRequired",e[e.preconditionFailed=412]="preconditionFailed",e[e.payloadTooLarge=413]="payloadTooLarge",e[e.URI_TooLong=414]="URI_TooLong",e[e.unsupportedMediaType=415]="unsupportedMediaType",e[e.rangeNotSatisfiable=416]="rangeNotSatisfiable",e[e.expectationFailed=417]="expectationFailed",e[e.IAmATeapot=418]="IAmATeapot",e[e.misdirectedRequest=421]="misdirectedRequest",e[e.unprocessableEntity=422]="unprocessableEntity",e[e.locked=423]="locked",e[e.failedDependency=424]="failedDependency",e[e.tooEarly=425]="tooEarly",e[e.upgradeRequired=426]="upgradeRequired",e[e.preconditionRequired=428]="preconditionRequired",e[e.tooManyRequests=429]="tooManyRequests",e[e.requestHeaderFieldsTooLarge=431]="requestHeaderFieldsTooLarge",e[e.unavailableForLegalReasons=451]="unavailableForLegalReasons"}(Se||(Se={})),function(e){e[e.internalServerError=500]="internalServerError",e[e.notImplemented=501]="notImplemented",e[e.badGateway=502]="badGateway",e[e.serviceUnavailable=503]="serviceUnavailable",e[e.gatewayTimeout=504]="gatewayTimeout",e[e.HTTP_VersionNotSupported=505]="HTTP_VersionNotSupported",e[e.variantAlsoNegotiates=506]="variantAlsoNegotiates",e[e.insufficientStorage=507]="insufficientStorage",e[e.loopDetected=508]="loopDetected",e[e.notExtended=510]="notExtended",e[e.networkAuthenticationRequired=511]="networkAuthenticationRequired"}(Ie||(Ie={}));const _e=80,we=443,De=65535,xe=1,Ve=7;var Ce;!function(e){e.sunday="SUNDAY",e.monday="MONDAY",e.tuesday="TUESDAY",e.wednesday="WEDNESDAY",e.thursday="THURSDAY",e.friday="FRIDAY",e.saturday="SATURDAY"}(Ce||(Ce={}));const Oe=24,ve=31,Re=60,Fe=12;var Le;!function(e){e.january="JANUARY",e.february="FEBRUARY",e.march="MARCH",e.april="APRIL",e.may="MAY",e.june="JUNE",e.july="JULY",e.august="AUGUST",e.september="SEPTEMBER",e.october="OCTOBER",e.november="NOVEMBER",e.december="DECEMBER"}(Le||(Le={}));const ze=60,je=10,Be=24,$e=/^\w+(?:[.-]?\w+)*@\w+(?:[.-]?\w+)*(?:\.\w{2,3})+$/u,Ue=320,ke=3;function He(){return Math.random()>=.5}class We{static decideOptionalValue(e){switch(e.strategy){case We.OptionalPropertiesDecisionStrategies.mustGenerateAll:return e.preDefinedValue??e.randomValueGenerator();case We.OptionalPropertiesDecisionStrategies.mustSkipIfHasNotBeenPreDefined:return e.preDefinedValue;case We.OptionalPropertiesDecisionStrategies.mustGenerateWith50PercentageProbability:return He()?e.randomValueGenerator():void 0}}}!function(e){let t;!function(e){e.mustGenerateAll="MUST_GENERATE_ALL",e.mustGenerateWith50PercentageProbability="MUST_GENERATE_WITH_50_PERCENTAGE_PROBABILITY",e.mustSkipIfHasNotBeenPreDefined="MUST_SKIP_IF_HAS_NOT_BEEN_PRE_DEFINED"}(t=e.OptionalPropertiesDecisionStrategies||(e.OptionalPropertiesDecisionStrategies={}))}(We||(We={}));const qe=We;function Qe(e){let t,r;return e.minimalValue<e.maximalValue?(t=e.minimalValue,r=e.maximalValue):(t=e.maximalValue,r=e.minimalValue),Math.floor(Math.random()*(r-t+1)+t)}function Ge(e){return 1e3*e}function Ke(e){return null!=e}const Ye={generateErrorSimulationCompletedLog:({gatewayName:e,transactionName:t})=>`Class "MockGatewayHelper" has simulated the error for the transaction "${e}.${t}" because the option "mustSimulateError" has been set to true.`,generateDataRetrievingSimulationCompletedLog:({gatewayName:e,transactionName:t,formattedRequestParameters:r,formattedResponseData:a})=>({title:`"${e}.${t}", the simulation of the data retrieving has complete`,description:`The "MockGatewayHelper" class has finished the simulation of the data retrieving for the transaction "${e}.${t}".`+(S(r)?`\n\nRequest parameters:\n${r}`:"")+S(a)?`\n\nResponse data:\n${a}`:0}),generateDataSubmittingSimulationCompletedLog:({gatewayName:e,transactionName:t,formattedRequestData:r,formattedResponseData:a})=>({title:`"${e}.${t}", the simulation of the data submitting has complete`,description:`The "MockGatewayHelper" class has finished the simulation of the data submitting for the transaction "${e}.${t}"`+(S(r)?`\n\nRequest data:\n${r}`:"")+S(a)?`\n\nResponse data:\n${a}`:0})};class Xe{static localization=Ye;static MINIMAL_PENDING_PERIOD__SECONDS=1;static MAXIMAL_PENDING_PERIOD__SECONDS=2;static async simulateDataRetrieving(e){const{requestParameters:t,getResponseData:r,minimalPendingPeriod__seconds:a=Xe.MINIMAL_PENDING_PERIOD__SECONDS,maximalPendingPeriod__seconds:i=Xe.MAXIMAL_PENDING_PERIOD__SECONDS,mustSimulateError:n=!1,mustLogResponseData:o=!1,gatewayName:s,transactionName:l}=e;return new Promise(((e,u)=>{setTimeout((()=>{if(n)return void u(new j({customMessage:Xe.localization.generateErrorSimulationCompletedLog({transactionName:l,gatewayName:s})}));const a=r();w.logSuccess(Xe.localization.generateDataRetrievingSimulationCompletedLog({gatewayName:s,transactionName:l,...Ke(t)?{formattedRequestParameters:c(t)}:null,...o&&Ke(a)?{formattedResponseData:c(a)}:null})),e(a)}),Ge(Qe({minimalValue:a,maximalValue:i})))}))}static async simulateDataSubmitting(e){const{requestData:t,getResponseData:r,minimalPendingPeriod__seconds:a=Xe.MINIMAL_PENDING_PERIOD__SECONDS,maximalPendingPeriod__seconds:i=Xe.MAXIMAL_PENDING_PERIOD__SECONDS,mustSimulateError:n=!1,mustLogResponseData:o=!1,gatewayName:s,transactionName:l}=e;return new Promise(((e,u)=>{setTimeout((()=>{if(n)return void u(new F({customMessage:Xe.localization.generateErrorSimulationCompletedLog({transactionName:l,gatewayName:s})}));const a=r();w.logSuccess(Xe.localization.generateDataSubmittingSimulationCompletedLog({gatewayName:s,transactionName:l,...Ke(t)?{formattedRequestData:c(t)}:null,...o&&Ke(a)?{formattedResponseData:c(a)}:null})),e(a)}),Ge(Qe({minimalValue:a,maximalValue:i})))}))}}const Je=Xe;function Ze(e){const t="monthNumber__numerationFrom1"in e?e.monthNumber__numerationFrom1:e.monthNumber__numerationFrom0+1;return new Date(e.year,t,0).getDate()}function et(e){return 1===("referenceMonthNumber__numerationFrom1"in e?e.referenceMonthNumber__numerationFrom1:e.referenceMonthNumber__numerationFrom0+1)?e.referenceYear-1:e.referenceYear}function tt(e){return("referenceMonthNumber__numerationFrom1"in e?e.referenceMonthNumber__numerationFrom1:e.referenceMonthNumber__numerationFrom0+1)===Fe?e.referenceYear+1:e.referenceYear}function rt(e){const t=e.numerationFrom;0!==t&&1!==t&&w.throwErrorAndLog({errorInstance:new V({parameterNumber:1,parameterName:"sourceData.numerationFrom",messageSpecificPart:`Supported month numerations are from 0 or 1 while actual value is ${t}.`}),title:V.localization.defaultTitle,occurrenceLocation:"getMonthNumberByName(sourceData)"});const r=0===e.numerationFrom;switch(e.targetMonthName){case Le.january:return r?0:1;case Le.february:return r?1:2;case Le.march:return r?2:3;case Le.april:return r?3:4;case Le.may:return r?4:5;case Le.june:return r?5:6;case Le.july:return r?6:7;case Le.august:return r?7:8;case Le.september:return r?8:9;case Le.october:return r?9:10;case Le.november:return r?10:11;case Le.december:return r?11:12}}function at(e){let t;t="referenceMonthNumber__numerationFrom1"in e?e.referenceMonthNumber__numerationFrom1:"referenceMonthNumber__numerationFrom0"in e?e.referenceMonthNumber__numerationFrom0+1:rt({targetMonthName:e.referenceMonthName,numerationFrom:1});const r=1===t?Fe:t-1;return 1===e.firstMonthNumberInRelationToReturnableValue?r:r-1}function it(e){let t;t="referenceMonthNumber__numerationFrom1"in e?e.referenceMonthNumber__numerationFrom1:"referenceMonthNumber__numerationFrom0"in e?e.referenceMonthNumber__numerationFrom0+1:rt({targetMonthName:e.referenceMonthName,numerationFrom:1});const r=t===Fe?1:t+1;return 1===e.firstMonthNumberInRelationToReturnableValue?r:r-1}function nt(e){const{targetMonthNumber:t,numerationFrom:r}=e;switch(0!==r&&1!==r&&w.throwErrorAndLog({errorInstance:new V({parameterNumber:1,parameterName:"sourceData.numerationFrom",messageSpecificPart:`Supported month numerations are from 0 or 1 while actual value is ${r}.`}),title:V.localization.defaultTitle,occurrenceLocation:"getMonthNameByNumber(sourceData)"}),t){case 0:if(0===r)return Le.january;w.throwErrorAndLog({errorInstance:new V({parameterNumber:1,parameterName:"sourceData",messageSpecificPart:"The month number 0 is invalid if the numeration is from 1."}),title:V.localization.defaultTitle,occurrenceLocation:"getMonthNameByNumber(sourceData)"});case 1:return 1===r?Le.january:Le.february;case 2:return 1===r?Le.february:Le.march;case 3:return 1===r?Le.march:Le.april;case 4:return 1===r?Le.april:Le.may;case 5:return 1===r?Le.may:Le.june;case 6:return 1===r?Le.june:Le.july;case 7:return 1===r?Le.july:Le.august;case 8:return 1===r?Le.august:Le.september;case 9:return 1===r?Le.september:Le.october;case 10:return 1===r?Le.october:Le.november;case 11:return 1===r?Le.november:Le.december;case 12:if(1===r)return Le.december;w.throwErrorAndLog({errorInstance:new V({parameterNumber:1,parameterName:"sourceData",messageSpecificPart:"The month number 12 is invalid if the numeration is from 0."}),title:V.localization.defaultTitle,occurrenceLocation:"getMonthNameByNumber(sourceData)"});default:w.throwErrorAndLog({errorInstance:new V({parameterNumber:1,parameterName:"sourceData.targetMonthNumber",messageSpecificPart:`The valid month number must be the non-negative integer from 0 to 11 or from 1 to 12 (depending on "numerationFrom" option) while actual value is ${t}.`}),title:V.localization.defaultTitle,occurrenceLocation:"getMonthNameByNumber(sourceData)"})}}class ot{static CELLS_COUNT_IN_MATRIX=42;dataFor42DaysMatrix=new Array(ot.CELLS_COUNT_IN_MATRIX);targetYear;targetMonthNumber__numerationFrom0;cellIndexOfFirstDayInTargetMonth;cellIndexOfLastDayInTargetMonth;daysOfWeekData__0thElementIsFirstDayOfWeek;static generateDataFor42DaysMatrix(e){return new ot(e).fillMatrixByDaysOfTargetMonth().fillMatrixByDaysOfPreviousMonth().fillMatrixDyDaysOfNextMonth().dataFor42DaysMatrix}static generateDataFor6x7DaysMatrix(e){return Ne({targetFlatArray:ot.generateDataFor42DaysMatrix(e),elementsCountPerNestedArray:7})}constructor(e){let t;if(this.targetYear=e.targetYear,this.targetMonthNumber__numerationFrom0="targetMonthName"in e?rt({targetMonthName:e.targetMonthName,numerationFrom:0}):"targetMonthNumber__numerationFrom1"in e?e.targetMonthNumber__numerationFrom1-1:e.targetMonthNumber__numerationFrom0,"firstDayOfWeek"in e)switch(e.firstDayOfWeek){case Ce.sunday:t=0;break;case Ce.monday:t=1;break;case Ce.tuesday:t=2;break;case Ce.wednesday:t=3;break;case Ce.thursday:t=4;break;case Ce.friday:t=5;break;case Ce.saturday:t=6}else t="firstDayOfWeek__numerationFrom1ForSunday"in e?e.firstDayOfWeek__numerationFrom1ForSunday-1:e.firstDayOfWeek__numerationFrom0ForSunday;const r=[t];let a=t;for(let e=1;e<Ve;e++)a=a===Ve-1?0:a+1,r[e]=a;this.daysOfWeekData__0thElementIsFirstDayOfWeek=r.map((e=>({dayOfWeekNumber__numerationFrom0ForSunday:e,dayOfWeekName:[Ce.sunday,Ce.monday,Ce.tuesday,Ce.wednesday,Ce.thursday,Ce.friday,Ce.saturday][e]})));const i=new Date(this.targetYear,this.targetMonthNumber__numerationFrom0,1).getDay();this.cellIndexOfFirstDayInTargetMonth=pe(r,(e=>e===i),{mustThrowErrorIfElementNotFoundOrMatchesAreMultiple:!0}),this.cellIndexOfLastDayInTargetMonth=this.cellIndexOfFirstDayInTargetMonth+Ze({year:this.targetYear,monthNumber__numerationFrom0:this.targetMonthNumber__numerationFrom0})-1}fillMatrixByDaysOfTargetMonth(){const e=this.targetMonthNumber__numerationFrom0+1,t=nt({targetMonthNumber:this.targetMonthNumber__numerationFrom0,numerationFrom:0});let r=1;for(let a=this.cellIndexOfFirstDayInTargetMonth;a<=this.cellIndexOfLastDayInTargetMonth;a++)this.dataFor42DaysMatrix[a]={year:this.targetYear,monthNumber__numerationFrom0:this.targetMonthNumber__numerationFrom0,monthNumber__numerationFrom1:e,monthName:t,dayOfMonth:r,...this.getDayData(a)},r+=1;return this}fillMatrixByDaysOfPreviousMonth(){if(0===this.cellIndexOfFirstDayInTargetMonth)return this;const e=et({referenceYear:this.targetYear,referenceMonthNumber__numerationFrom0:this.targetMonthNumber__numerationFrom0}),t=at({referenceMonthNumber__numerationFrom0:this.targetMonthNumber__numerationFrom0,firstMonthNumberInRelationToReturnableValue:0}),r=t+1,a=nt({targetMonthNumber:t,numerationFrom:0});let i=Ze({year:e,monthNumber__numerationFrom0:t});for(let n=this.cellIndexOfFirstDayInTargetMonth-1;n>=0;n--)this.dataFor42DaysMatrix[n]={year:e,monthNumber__numerationFrom0:t,monthNumber__numerationFrom1:r,monthName:a,dayOfMonth:i,...this.getDayData(n)},i-=1;return this}fillMatrixDyDaysOfNextMonth(){if(g(this.dataFor42DaysMatrix[ot.CELLS_COUNT_IN_MATRIX-1]))return this;const e=tt({referenceYear:this.targetYear,referenceMonthNumber__numerationFrom0:this.targetMonthNumber__numerationFrom0}),t=it({referenceMonthNumber__numerationFrom0:this.targetMonthNumber__numerationFrom0,firstMonthNumberInRelationToReturnableValue:0}),r=t+1,a=nt({targetMonthNumber:t,numerationFrom:0});let i=1;for(let n=this.cellIndexOfLastDayInTargetMonth+1;n<=ot.CELLS_COUNT_IN_MATRIX-1;n++)this.dataFor42DaysMatrix[n]={year:e,monthNumber__numerationFrom0:t,monthNumber__numerationFrom1:r,monthName:a,dayOfMonth:i,...this.getDayData(n)},i+=1;return this}getDayData(e){switch(e){case 0:case 7:case 14:case 21:case 28:case 35:return this.daysOfWeekData__0thElementIsFirstDayOfWeek[0];case 1:case 8:case 15:case 22:case 29:case 36:return this.daysOfWeekData__0thElementIsFirstDayOfWeek[1];case 2:case 9:case 16:case 23:case 30:case 37:return this.daysOfWeekData__0thElementIsFirstDayOfWeek[2];case 3:case 10:case 17:case 24:case 31:case 38:return this.daysOfWeekData__0thElementIsFirstDayOfWeek[3];case 4:case 11:case 18:case 25:case 32:case 39:return this.daysOfWeekData__0thElementIsFirstDayOfWeek[4];case 5:case 12:case 19:case 26:case 33:case 40:return this.daysOfWeekData__0thElementIsFirstDayOfWeek[5];default:return this.daysOfWeekData__0thElementIsFirstDayOfWeek[6]}}}const st=ot;function lt(e){return new Date(e).getTime()-(new Date).getTime()<=0}function ct(e){return e/1e3}const ut=class{year;monthName;monthNumber__numerationFrom0;monthNumber__numerationFrom1;monthNumber__numerationFrom1__2Digits;dayOfMonth;dayOfMonth__2Digits;dayOfWeek;dayOfWeekNumber__numerationFrom0AsSunday;dayOfWeekNumber__numerationFrom1AsSunday;dayOfWeekNumber__numerationFrom1AsSunday__2Digits;hours__24Format;hours__24Format__2Digits;hours__12Format;isBeforeMidday;isAfterMidday;minutes;minutes__2Digits;seconds;seconds__2Digits;milliseconds;nativeDateObject;constructor(e){let t;switch(o(e)||i(e)?(t=new Date(e),"Invalid Date"===t.toString()&&w.throwErrorAndLog({errorInstance:new V({customMessage:"If the parameter of TimePoint's constructor is not the Date instance, it must the the valid ISO 8601 string or amount of milliseconds elapsed since the UNIX epoch."}),title:V.localization.defaultTitle,occurrenceLocation:"TimePoint.constructor(rawDateTime)"})):t=e,this.nativeDateObject=t,this.year=t.getFullYear(),this.monthNumber__numerationFrom0=t.getMonth(),this.monthNumber__numerationFrom1=this.monthNumber__numerationFrom0+1,this.monthNumber__numerationFrom1__2Digits=this.monthNumber__numerationFrom1.toString().padStart(2,"0"),this.monthName=nt({targetMonthNumber:this.monthNumber__numerationFrom1,numerationFrom:1}),this.dayOfMonth=t.getDate(),this.dayOfMonth__2Digits=this.dayOfMonth.toString().padStart(2,"0"),this.dayOfWeekNumber__numerationFrom0AsSunday=t.getDay(),this.dayOfWeekNumber__numerationFrom1AsSunday=this.dayOfWeekNumber__numerationFrom0AsSunday+1,this.dayOfWeekNumber__numerationFrom1AsSunday__2Digits=this.dayOfWeekNumber__numerationFrom1AsSunday.toString().padStart(2,"0"),this.dayOfWeekNumber__numerationFrom1AsSunday){case 1:this.dayOfWeek=Ce.sunday;break;case 2:this.dayOfWeek=Ce.monday;break;case 3:this.dayOfWeek=Ce.tuesday;break;case 4:this.dayOfWeek=Ce.wednesday;break;case 5:this.dayOfWeek=Ce.thursday;break;case 6:this.dayOfWeek=Ce.friday;break;default:this.dayOfWeek=Ce.saturday}this.hours__24Format=t.getHours(),this.hours__24Format__2Digits=this.hours__24Format.toString().padStart(2,"0"),this.isBeforeMidday=this.hours__24Format<13,this.isAfterMidday=!this.isBeforeMidday,0===this.hours__24Format?this.hours__12Format=12:this.hours__24Format<13?this.hours__12Format=this.hours__24Format:this.hours__12Format=this.hours__24Format-12,this.minutes=t.getMinutes(),this.minutes__2Digits=this.minutes.toString().padStart(2,"0"),this.seconds=t.getSeconds(),this.seconds__2Digits=this.seconds.toString().padStart(2,"0"),this.milliseconds=t.getMilliseconds()}format(e){return e(this)}toISO8601String(){return this.nativeDateObject.toISOString()}};class dt{period__seconds;onElapsed;mustStop=!1;constructor(e){this.period__seconds=e.period__seconds,this.onElapsed=e.onElapsed}}!function(e){let t,r;!function(e){e.elapsed="ELAPSED",e.stopped="STOPPED"}(t=e.Outcomes||(e.Outcomes={})),function(e){e.promise="PROMISE",e.callback="CALLBACK"}(r=e.AsynchronousCompletions||(e.AsynchronousCompletions={}))}(dt||(dt={}));const mt=dt;function gt(e,t){return null===e?t:e}function pt(e,t){return void 0===e?t:e}const ht={defaultTitle:"Desired and real behaviours mismatch"};class ft extends Error{static NAME="AlgorithmMismatchError";static localization=ht;constructor(e){super(),this.name=ft.NAME,this.message=e}}const yt=ft,Et={defaultTitle:"Class redundant subsequent initialization",generateDescription:({className:e})=>`Class "${e}" intended to be initialized only one time.`};class bt extends Error{static NAME="ClassRedundantSubsequentInitializationError";static localization=Et;constructor(e){super(),this.name=bt.NAME,this.message="customMessage"in e?e.customMessage:bt.localization.generateDescription(e)}}const Nt=bt,Pt={defaultTitle:"Class required initialization has not been executed",generateDescription:({className:e,initializingMethodName:t})=>`Class "${e}" is required the initialization while initializing method "${t}" has not been called.`};class Tt extends Error{static NAME="ClassRequiredInitializationHasNotBeenExecutedError";static localization=Pt;constructor(e){super(),this.name=Tt.NAME,this.message="customMessage"in e?e.customMessage:Tt.localization.generateDescription(e)}}const At=Tt,Mt={defaultTitle:"Configuration file not found",generateDescription:({messageSpecificPart:e,targetTechnologyName:t,configFilePathOrMultipleOfThem:r})=>(i(r)?`The "${t}" configuration file not found at "${r}".`:`None of below "${t}" configuration files found.\n${r.join(", ")}`)+u(e,{modifier:e=>`\n${e}`})};class St extends Error{static NAME="ConfigFileNotFoundError";static localization=Mt;constructor(e){super(),this.name=St.NAME,this.message="customMessage"in e?e.customMessage:St.localization.generateDescription(e)}}const It=St,_t={defaultTitle:"Cross-browser issue"};class wt extends Error{static NAME="CrossBrowserIssueError";static localization=_t;constructor(e){super(),this.name=wt.NAME,this.message=e}}const Dt=wt,xt={defaultTitle:"DOM Element not found",generateDescription:({selector:e})=>`The DOM element with selector: ${e} not found.`};class Vt extends Error{static NAME="DOM_ElementRetrievingFailedError";static localization=xt;constructor(e){super(),this.name=Vt.NAME,this.message="customMessage"in e?e.customMessage:Vt.localization.generateDescription(e)}}const Ct=Vt,Ot={defaultTitle:"File reading failure",generateDescription:({filePath:e})=>`The error occurred during the reading of the file with path: \n"${e}"`};class vt extends Error{static NAME="FileReadingFailure";static localization=Ot;constructor(e){super(),this.name=vt.NAME,this.message="customMessage"in e?e.customMessage:vt.localization.generateDescription(e)}}const Rt=vt,Ft={defaultTitle:"Writing to file failure",generateDescription:({filePath:e})=>`Failed to write the file with path "${e}".`};class Lt extends Error{static NAME="FileWritingFailedError";static localization=Ft;constructor(e){super(),this.name=Lt.NAME,this.message="customMessage"in e?e.customMessage:Lt.localization.generateDescription(e)}}const zt=Lt,jt={defaultTitle:"Improper usage"};class Bt extends Error{static NAME="ImproperUsageError";static localization=jt;constructor(e){super(),this.name=Bt.NAME,this.message=e}}const $t=Bt,Ut={defaultTitle:"Incompatible properties in object-type parameter",generateDescription:({parameterName:e,conflictingPropertyName:t,incompatiblePropertiesNames:r})=>`In parameter "${e}", property "${t}" is incompatible with properties:`+r.reduce(((e,t)=>`${e}\n- ${t}`),"")};class kt extends Error{static NAME="IncompatiblePropertiesError";static localization=Ut;constructor(e){super(),this.name=kt.NAME,this.message="customMessage"in e?e.customMessage:kt.localization.generateDescription(e)}}const Ht=kt,Wt={defaultTitle:"Inter process interaction failure"};class qt extends Error{static NAME="InterProcessInteractionFailedError";static localization=Wt;constructor(e){super(),this.name=qt.NAME,this.message=e}}const Qt=qt,Gt={defaultTitle:"Module dynamic loading failure",generateDescription:({modulePath:e})=>`The dynamic loading of module "${e}" failed.`};class Kt extends Error{static NAME="ModuleDynamicLoadingFailure";static localization=Gt;constructor(e){super(),this.name=Kt.NAME,this.message="customMessage"in e?e.customMessage:Kt.localization.generateDescription(e)}}const Yt=Kt,Xt={introduction:"We are sorry, but it is a bug. Please accept out deepest apologies about the malfunction during your work.",generateReportingRequest:({bugTrackerURI:e})=>`We are understanding about you are busy and have a deadline, but would you please to report us about the issue by below link?\n ${e}`,whatHappened:{heading:"=== What happened? =====================================================================================",introduction:"If you are what to know what happened, please allow us to explain with minimal details."},technicalDetails:{heading:"=== Technical details ==================================================================================",introduction:"If you would be so kind to report as, please append the below details for developers. If these details contains some sensitive data, please replace it with something neutral."}};class Jt{static isTechnicalsDetailOnlyMode=!1;static localization=Xt;static defaultBugTrackerURI;static buildMessage(e){if(e.isTechnicalsDetailOnlyMode??Jt.isTechnicalsDetailOnlyMode)return e.technicalDetails;const t=e.localization??Jt.localization,r=e.bugTrackerURI??Jt.defaultBugTrackerURI;return`\n${t.introduction}`+u(r,{modifier:e=>`\n\n${t.generateReportingRequest({bugTrackerURI:e})}`})+`\n\n${t.whatHappened.heading}`+`\n${t.whatHappened.introduction}`+`\n${e.politeExplanation}`+`\n\n${t.technicalDetails.heading}`+`\n${t.technicalDetails.introduction}`+`\n${e.technicalDetails}`}static setDefaultLocalization(e){return this.localization=e,Jt}static setDefaultBugTrackerURI(e){return this.defaultBugTrackerURI=e,Jt}static setTechnicalDetailsOnlyModeIf(e){return e&&(Jt.isTechnicalsDetailOnlyMode=!0),Jt}}const Zt=Jt,er="https://github.com/TokugawaTakeshi/Yamato-Daiwa-ES-Extensions/issues/new";async function tr(e){const t=new FileReader;return t.readAsDataURL(e),new Promise(((e,r)=>{t.onload=()=>{const a=t.result;p(a)?r(new me(Zt.buildMessage({politeExplanation:'According the MDN Web documentation, (https://developer.mozilla.org/en-US/docs/Web/API/FileReader/readAsDataURL, checked in August 2023), when calling the "readAsDataURL" method, the result inside the "onload" event handler could be only the string. However, according the TypeScript types definition, it could be also the instance of "ArrayBuffer" or and "null". Writing the safe code, we had to check this value and although the string only should be, "null" has been detected.',technicalDetails:'The "fileReadingResult" is "null". According the documentation (https://developer.mozilla.org/en-US/docs/Web/API/FileReader/readAsDataURL), the return value could be only the string.',bugTrackerURI:er}))):a instanceof ArrayBuffer?r(new me(Zt.buildMessage({politeExplanation:'According the MDN Web documentation, (https://developer.mozilla.org/en-US/docs/Web/API/FileReader/readAsDataURL, checked in August 2023), when calling the "readAsDataURL" method, the result inside the "onload" event handler could be only the string. However, according the TypeScript types definition, it could be also the instance of "ArrayBuffer" or and "null". Writing the safe code, we had to check this value and although the string only should be, the instance of "ArrayBuffer" has been detected.',technicalDetails:'The "fileReadingResult" is the instance of "ArrayBuffer". According the documentation (https://developer.mozilla.org/en-US/docs/Web/API/FileReader/readAsDataURL), the return value could always be the string.',bugTrackerURI:er}))):e(a)}}))}function rr(e){let t;t="newEntries"in e?e.newEntries instanceof Array?e.newEntries:Array.from(e.newEntries.entries()):[[e.newKey,e.newValue]];const r=e.mutably?e.targetMap:new Map(e.targetMap);for(const[e,a]of t)r.set(e,a);return r}function ar(e,t){const r=new Map;return e.forEach(((e,a)=>{r.set(...t(a,e))})),r}function ir(e,t){const r=new Map;return e.forEach(((e,a)=>{t(a,e)&&r.set(a,e)})),r}function nr(e){const{targetMap:t,mutably:r}=e,a=new Map,i=r?t:new Map(t),n="key"in e?[e.key]:e.keys;for(const e of n){const t=i.get(e);m(t)||(a.set(e,t),i.delete(e))}return{updatedMap:i,removedEntries:a}}function or(e){const t=e.mutably?e.targetMap:new Map(e.targetMap);let r;r="replacements"in e?e.replacements:"newValue"in e?[{key:e.key,newValue:e.newValue}]:[{key:e.key,replacer:e.replacer}];for(const e of r){if("newValue"in e){t.set(e.key,e.newValue);continue}const r=t.get(e.key);void 0!==r&&t.set(e.key,e.replacer(r))}return t}function sr(e){return Array.from(e).reverse().join("")}function lr(e){let t=e.toString();const r=t.startsWith("-"),a=t.split(".")[1];if(t.length<5)return t;r&&(t=t.substring(1)),m(a)||(t=t.replace(`.${a}`,""));const i=sr(t),n=sr(i.substr(0,4)),o=sr(i.substr(4,4)),s=sr(i.substr(8,4)),l=sr(i.substr(12,4)),c=sr(i.substr(16,4)),u=sr(i.substr(20));return(r?"-":"")+(u.length>0?u:"")+(c.length>0?`${c}京`:"")+(l.length>0?`${l}兆`:"")+(s.length>0?`${s}億`:"")+(o.length>0?`${o}万`:"")+n+(m(a)?"":`.${a}`)}function cr(...e){return e.length>0?e.reduce(((e,t)=>e+t),0)/e.length:0}function ur(e){return/^[1-9]\d*$/u.test(e)}function dr({targetNumber:e,maximalValue:t}){return e>t?t:e}function mr({targetNumber:e,minimalValue:t}){return e<t?t:e}function gr(e){const t=e.targetNumber.toString().length,r=e.trailingZerosCount<t?e.trailingZerosCount:t-1,a=Math.pow(10,r);return Math.floor(e.targetNumber/a)*a}function pr(e){const t=e.targetNumber.toString().length,r=e.trailingZerosCount<t?e.trailingZerosCount:t-1,a=Math.pow(10,r);return Math.round(e.targetNumber/a)*a}function hr(e){const t=Math.pow(10,e.digitsCountAfterDecimalPoint);return Math.round(t*e.targetNumber)/t}function fr(e){const t=e.targetNumber.toString().length,r=e.trailingZerosCount<t?e.trailingZerosCount:t-1,a=Math.pow(10,r);return Math.ceil(e.targetNumber/a)*a}function yr(e){return String(e).replace(/\B(?=(?:\d{3})+(?!\d))/gu,",")}function Er(e){return String(e).replace(/\B(?=(?:\d{4})+(?!\d))/gu,",")}function br(e,t){return""===t?Array.from(e):e.split(t)}function Nr(e,t){if(!S(t)&&(!Array.isArray(t)||t.some((e=>!S(e)))))return void w.logError({errorType:V.NAME,title:V.localization.defaultTitle,description:V.localization.generateDescription({parameterNumber:2,parameterName:"dotSeparatedOrArrayedPathToTargetProperty",messageSpecificPart:"This parameter must be either non-empty string or array of non-empty strings."}),occurrenceLocation:"getObjectPropertySafely(targetObject, dotSeparatedOrArrayedPathToTargetProperty)"});if(!h(e))return;let r;if(r=Array.isArray(t)?t:br(t,"."),0===r.length)return;let a=e;for(let e=1;e<=r.length;e++){const t=e===r.length,i=a[r[e-1]];if(t)return i;if(!h(i))return;a=i}}function Pr({currentPageNumber:e,itemsCountPerPage:t}){return t*(e-1)+1}function Tr({currentPageNumber:e,itemsCountPerPage:t,totalItemsCount:r}){const a=e*t;return a>r?r:a}function Ar(e){let t;return y(e.targetPageNumber__numerationFrom0)?t=e.targetPageNumber__numerationFrom0:f(e.targetPageNumber__numerationFrom1)?t=e.targetPageNumber__numerationFrom1-1:w.throwErrorAndLog({errorInstance:new V({parameterNumber:1,parameterName:"compoundParameter",messageSpecificPart:'Target page number must be specified ever via "targetPageNumber__numerationFrom0" with the positive integer or via "compoundParameter.targetPageNumber__numerationFrom1" with the natural number.'}),title:V.localization.defaultTitle,occurrenceLocation:"PaginationCollection.getItemsOfPage(compoundParameter)"}),ce({targetArray:e.items,startingElementNumber__numerationFrom0:t*e.itemsCountPerPaginationPage,elementsCount:e.itemsCountPerPaginationPage,mutably:!1,mustThrowErrorIfSpecifiedElementsNumbersAreOutOfRange:!1})}const Mr=class{pagesCount;itemsByPages=[];constructor(e){const{items:t,itemsCountPerPaginationPage:r}=e,a=[];this.pagesCount=Math.ceil(t.length/r);for(let t=0;t<this.pagesCount;t++)a[t]=ce({targetArray:e.items,startingElementNumber__numerationFrom0:t*r,elementsCount:e.itemsCountPerPaginationPage,mutably:!1,mustThrowErrorIfSpecifiedElementsNumbersAreOutOfRange:!1});this.itemsByPages=a}getItemsOfSpecificPage(e){const t=0===e.numerationFrom?e.targetPageNumber:e.targetPageNumber-1,r=this.itemsByPages[t];return m(r)&&w.throwErrorAndLog({errorInstance:new V({parameterNumber:1,parameterName:"compoundParameter",messageSpecificPart:`There is not page with number ${e.targetPageNumber} (numeration from ${e.numerationFrom}).`}),title:V.localization.defaultTitle,occurrenceLocation:"paginationCollection.getItemsOfSpecificPage(compoundParameter)"}),r}};class Sr{isExecutingNow=!1;mustExecuteNextAsynchronousFunction=!0;asynchronousFunctionsQueue=[];static errorHandler(e){w.logError({errorType:me.NAME,title:me.localization.defaultTitle,description:"The promise queue execution has failed.",occurrenceLocation:"promisesQueue.startExecutionIfHasNotStartedYet(compoundParameter)",caughtError:e})}constructor(e=[]){this.asynchronousFunctionsQueue.push(...e)}async startExecutionIfHasNotStartedYet(e){if(!this.isExecutingNow){this.isExecutingNow=!0;for(const t of this.asynchronousFunctionsQueue){try{await t()}catch(t){switch(e.behaviourOnSomePromiseFailed){case Sr.BEHAVIOUR_ON_SOME_PROMISE_FAILED.throwingTheError:throw t;case Sr.BEHAVIOUR_ON_SOME_PROMISE_FAILED.loggingAndProceedingToNextPromise:w.logError({errorType:"AsynchronousProcessingFailedError",title:"Asynchronous processing failed error",description:"The error occurred during execution of one of promised.",occurrenceLocation:"promisesQueue.startExecutionIfHasNotStartedYet(compoundParameter)",caughtError:t})}}if(!this.mustExecuteNextAsynchronousFunction){this.isExecutingNow=!1,this.asynchronousFunctionsQueue=[];break}}this.isExecutingNow=!1,this.asynchronousFunctionsQueue=[]}}addFunctionToQueue(e){this.asynchronousFunctionsQueue.push(e)}async addFunctionAndStartExecutionIfHasNotStartedYet(e){return this.addFunctionToQueue(e.newAsynchronousFunction),this.startExecutionIfHasNotStartedYet({behaviourOnSomePromiseFailed:e.behaviourOnSomePromiseFailed})}stopExecutionOnceCurrentPromiseFinished(){this.mustExecuteNextAsynchronousFunction=!1}}!function(e){let t;!function(e){e.throwingTheError="THROWING_THE_ERROR",e.loggingAndProceedingToNextPromise="LOGGING_AND_PROCEEDING_TO_NEXT_PROMISE"}(t=e.BEHAVIOUR_ON_SOME_PROMISE_FAILED||(e.BEHAVIOUR_ON_SOME_PROMISE_FAILED={}))}(Sr||(Sr={}));const Ir=Sr,_r=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],wr=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Dr=["0","1","2","3","4","5","6","7","8","9"];function xr(e){return"string"==typeof e&&e.length>0?e:""}function Vr(e){return e[Qe({minimalValue:0,maximalValue:e.length-1})]}const Cr={errors:{minimalCharactersCountMustBeGreaterThan0:e=>`The 'minimalCharactersCount' property must be greater than 0 while really it's ${e}`,sumOfCharactersCountOfAffixesAndMinimalRandomlyGeneratedCharactersCountIsExceedsMaximalCharactersCount:e=>`The sum of characters count of 'prefix', 'infix' and 'postfix' and also 'minimalRandomlyGeneratedCharactersCount' are exceeds the 'maximalCharactersCount':\n                          prefix.length: ${e.prefix.length}\n                           infix.length: ${e.infix.length}\n                         postfix.length: ${e.postfix.length}\nminimalRandomlyGeneratedCharactersCount: ${e.minimalRandomlyGeneratedCharactersCount}\n                               SUBTOTAL: ${e.prefix.length+e.infix.length+e.postfix.length+e.minimalRandomlyGeneratedCharactersCount}\n                 maximalCharactersCount: ${e.maximalCharactersCount}`,explicitlySpecifiedMinimalCharactersCountExceedsMaximalCharactersCount:({minimalCharactersCount:e,maximalCharactersCount:t})=>`The explicitly specified minimal characters count (${e}) exceeds the maximal characters count ${t}`,noAllowedCharactersForRandomGeneration:"No characters for the random string generation has been allowed allowed.Check the 'parametersObject.allowedCharacters' and satisfy at least on of below conditions:\n  * Set 'latinUppercase' property to true\n  * Set 'latinLowercase' property to true\n  * Set 'digits' property to true\n  * Set 'other' property to non-empty array\n"}};class Or{static localization=Cr;static DEFAULT_MAXIMAL_TO_MINIMAL_CHARACTERS_COUNT_RATIO=2;static getRandomString(e){const t=xr(e.prefix),r=xr(e.infix),a=xr(e.postfix),i=t.length+r.length+a.length;let n;if(m(e.fixedCharactersCount)){const o=Or.getMinimalCharactersCount({prefixInfixAndPostfixTotalCharactersCount:i,minimalCharactersCount__explicitlySpecified:e.minimalCharactersCount,fixedCharactersCount__explicitlySpecified:e.fixedCharactersCount,minimalRandomlyGeneratedCharactersCount__explicitlySpecified:e.minimalRandomlyGeneratedCharactersCount}),s=i+pt(e.minimalRandomlyGeneratedCharactersCount,0)<=o?o-i:pt(e.minimalRandomlyGeneratedCharactersCount,0);n=Qe({minimalValue:s,maximalValue:Or.getMaximalCharactersCont({...e,minimalCharactersCount:o,prefix:t,infix:r,postfix:a,minimalRandomlyGeneratedCharactersCount:s})-i})}else n=e.fixedCharactersCount-i-pt(e.minimalRandomlyGeneratedCharactersCount,0);let o="";const s=Or.getCharactersForRandomStringGeneration(e.allowedCharacters);for(let e=o.length;e<n;e++)o=`${o}${Vr(s)}`;if(r.length>0){const e=Qe({minimalValue:1,maximalValue:o.length-2}),t=o.slice(0,e),a=o.slice(e);o=`${t}${r}${a}`}return`${t}${o}${a}`}static setLocalization(e){Or.localization=e}static getMinimalCharactersCount({prefixInfixAndPostfixTotalCharactersCount:e,minimalCharactersCount__explicitlySpecified:t,fixedCharactersCount__explicitlySpecified:r,minimalRandomlyGeneratedCharactersCount__explicitlySpecified:a}){if(m(t))return e+pt(a,0);g(r)&&w.throwErrorAndLog({errorInstance:new Ht({parameterName:"parametersObject",conflictingPropertyName:"fixedCharactersCount__explicitlySpecified",incompatiblePropertiesNames:["minimalCharactersCount__explicitlySpecified"]}),title:Ht.localization.defaultTitle,occurrenceLocation:"getRandomString(parametersObject)"}),t<0&&w.throwErrorAndLog({errorInstance:new V({parameterNumber:1,parameterName:"parametersObject.minimalCharactersCount",messageSpecificPart:Or.localization.errors.minimalCharactersCountMustBeGreaterThan0(t)}),title:V.localization.defaultTitle,occurrenceLocation:"RandomStringsGenerator.getRandomString(parametersObject)"});const i=e+pt(a,0);return t>=i?t:i}static getMaximalCharactersCont(e){if(m(e.maximalCharactersCount))return Or.DEFAULT_MAXIMAL_TO_MINIMAL_CHARACTERS_COUNT_RATIO*e.minimalCharactersCount;g(e.fixedCharactersCount)&&w.throwErrorAndLog({errorInstance:new Ht({parameterName:"namedParameters",conflictingPropertyName:"fixedCharactersCount",incompatiblePropertiesNames:["maximalCharactersCount"]}),title:Ht.localization.defaultTitle,occurrenceLocation:"getRandomString(namedParameters)"});const t=e.maximalCharactersCount;return e.prefix.length+e.infix.length+e.postfix.length+e.minimalRandomlyGeneratedCharactersCount>t?w.throwErrorAndLog({errorInstance:new V({parameterNumber:1,parameterName:"namedParameters.minimalCharactersCount",messageSpecificPart:Or.localization.errors.sumOfCharactersCountOfAffixesAndMinimalRandomlyGeneratedCharactersCountIsExceedsMaximalCharactersCount(e)}),title:V.localization.defaultTitle,occurrenceLocation:"RandomStringsGenerator.getRandomString(namedParameters)"}):e.minimalCharactersCount>t&&w.throwErrorAndLog({errorInstance:new V({parameterNumber:1,parameterName:"namedParameters.minimalCharactersCount",messageSpecificPart:Or.localization.errors.explicitlySpecifiedMinimalCharactersCountExceedsMaximalCharactersCount({minimalCharactersCount:e.minimalCharactersCount,maximalCharactersCount:t})}),title:V.localization.defaultTitle,occurrenceLocation:"RandomStringsGenerator.getRandomString(namedParameters)"}),t}static getCharactersForRandomStringGeneration(e={latinUppercase:!0,latinLowercase:!0,digits:!0}){const t=[];!0===e.latinUppercase&&t.push(...wr),!0===e.latinLowercase&&t.push(..._r),!0===e.digits&&t.push(...Dr);const r=[];if(Array.isArray(e.other))for(const e of r)r.push(...e.split(""));else i(e.other)&&r.push(...e.other.split(""));return t.push(...r),0===t.length&&w.throwErrorAndLog({errorInstance:new V({parameterName:"parametersObject.allowedCharacters",customMessage:Or.localization.errors.noAllowedCharactersForRandomGeneration}),title:V.localization.defaultTitle,occurrenceLocation:"RandomStringsGenerator.getRandomString(parametersObject)"}),t}}const vr=Or.getRandomString;function Rr({capital:e=!1,lowercase:t=!1}={}){return Vr(e?wr:t?_r:He()?wr:_r)}function Fr(e){return Vr(Object.values(e))}function Lr(e){const t=Qe({minimalValue:0,maximalValue:e.length-1});return e.splice(t,1)[0]}var zr,jr;function Br(e,t={}){let r,a;g(t.minimalElementsCount)?(Number.isInteger(t.minimalElementsCount)||w.throwErrorAndLog({errorInstance:new V({parameterNumber:2,parameterName:"options.minimalElementsCount",messageSpecificPart:zr.localization.generateInvalidMinimalElementsCountErrorMessage({actualValue:t.minimalElementsCount})}),title:V.localization.defaultTitle,occurrenceLocation:"getRandomSubarray(targetArray, options)"}),t.minimalElementsCount<0&&w.throwErrorAndLog({errorInstance:new V({parameterNumber:2,parameterName:"options.minimalElementsCount",messageSpecificPart:zr.localization.generateInvalidMinimalElementsCountErrorMessage({actualValue:t.minimalElementsCount})}),title:V.localization.defaultTitle,occurrenceLocation:"getRandomSubarray(targetArray, options)"}),t.minimalElementsCount>=e.length&&w.throwErrorAndLog({errorInstance:new V({parameterNumber:2,parameterName:"options.minimalElementsCount",messageSpecificPart:"The minimal element's count of subarray must be less than elements count of initial array."}),title:V.localization.defaultTitle,occurrenceLocation:"getRandomSubarray(targetArray, options)"}),r=t.minimalElementsCount):r=1,g(t.maximalElementsCount)?(Number.isInteger(t.maximalElementsCount)||w.throwErrorAndLog({errorInstance:new V({parameterNumber:2,parameterName:"options.maximalElementsCount",messageSpecificPart:zr.localization.generateInvalidMaximalElementsCountErrorMessage({actualValue:t.maximalElementsCount})}),title:V.localization.defaultTitle,occurrenceLocation:"getRandomSubarray(targetArray, options)"}),t.maximalElementsCount<r&&w.throwErrorAndLog({errorInstance:new V({parameterNumber:2,parameterName:"options.minimalElementsCount",messageSpecificPart:zr.localization.generateMaximalElementCountIsSmallerThanMinimal({minimalElementsCount:r,maximalElementsCount:t.maximalElementsCount})}),title:V.localization.defaultTitle,occurrenceLocation:"getRandomSubarray(targetArray, options)"}),t.maximalElementsCount>e.length&&w.throwErrorAndLog({errorInstance:new V({parameterNumber:2,parameterName:"options.maximalElementsCount",messageSpecificPart:"The maximal elements count of subarray could not exceed the elements count of initial array."}),title:V.localization.defaultTitle,occurrenceLocation:"getRandomSubarray(targetArray, options)"}),a=t.maximalElementsCount):a=e.length>1?e.length-1:1;const i=Qe({minimalValue:r,maximalValue:a});if(1===i)return[Vr(e)];const n=Array.from(e),o=[];for(let e=0;e<i;e++)o.push(Lr(n));return o}function $r({value:e,probability__percents:t}){return e?Math.random()<t/100:Math.random()>=t/100}function Ur(e,t){return t.forEach((t=>{e.add(t)})),e}function kr(e,t){const r=new Set;if(Array.isArray(t))for(const e of t)1===e.length?r.add(e):Ur(r,br(e,""));else if(i(t))Ur(r,br(t,""));else if(!0===t.latinUppercase&&Ur(r,wr),!0===t.latinLowercase&&Ur(r,_r),!0===t.digits&&Ur(r,Dr),Array.isArray(t.other))for(const e of t.other)Ur(r,br(e,""));else i(t.other)&&Ur(r,br(t.other,""));for(const t of br(e,""))if(!r.has(t))return!1;return!0}function Hr(e){if(!i(e)||!kr(e,{digits:!0,other:"."}))return e;const t=e.includes(".")?parseFloat(e):parseInt(e,10);return isNaN(t)?e:t}function Wr(e){return"string"==typeof e&&/^\d+$/u.test(e)}function qr(e){if(!Wr(e))return e;const t=parseInt(e,10);return isNaN(t)?e:t}function Qr(e){if(!i(e)||!kr(e,{digits:!0,other:"."}))return e;const t=parseFloat(e);return isNaN(t)?e:t}function Gr(e,t){return new Set(Array.from(e).map(t))}!function(e){e.Localization__English={generateInvalidMinimalElementsCountErrorMessage:({actualValue:e})=>`The minimal elements count must the non-negative integer while it's actual value is ${e}.`,generateInvalidMaximalElementsCountErrorMessage:({actualValue:e})=>`The maximal elements count must the non-negative integer while it's actual value is ${e}.`,generateMaximalElementCountIsSmallerThanMinimal:({minimalElementsCount:e,maximalElementsCount:t})=>`The maximal elements count (${t}) is smaller than minimal elements count (${e}).`},e.localization=e.Localization__English,e.setLocalization=function(t){e.localization=t}}(zr||(zr={})),function(e){e.backspace="\b",e.formFeed="\f",e.newLine="\n",e.carriageReturn="\r",e.horizontalTabulator="\t",e.verticalTabulator="\v"}(jr||(jr={}));const Kr=jr;var Yr;!function(e){e.regularSpace=" ",e.noBreakSpace=" ",e.enSpace=" ",e.emSpace=" ",e.threePerEmSpace=" ",e.forPerEmSpace=" ",e.sixPerEmSpace=" ",e.figureSpace=" ",e.punctuationSpace=" ",e.thinSpace=" ",e.hairSpace=" ",e.zeroWidthSpace="​",e.ideographicSpace="　",e.zeroWithNoBreakSpace="\ufeff",e.characterTabulation="\t"}(Yr||(Yr={}));const Xr=Yr;var Jr;!function(e){e.regularSpace="\\u{0020}",e.noBreakSpace="\\u{00A0}",e.enSpace="\\u{2002}",e.emSpace="\\u{2003}",e.threePerEmSpace="\\u{2004}",e.forPerEmSpace="\\u{2005}",e.sixPerEmSpace="\\u{2006}",e.figureSpace="\\u{2007}",e.punctuationSpace="\\u{2008}",e.thinSpace="\\u{2009}",e.hairSpace="\\u{200A}",e.zeroWidthSpace="\\u{200B}",e.ideographicSpace="\\u{3000}",e.zeroWithNoBreakSpace="\\u{FEFF}",e.characterTabulation="\\u{0009}"}(Jr||(Jr={}));const Zr=Jr;var ea;!function(e){e.carriageReturn="\r",e.lineFeed="\n",e.carriageReturnAndLineFeed="\r\n"}(ea||(ea={}));const ta=ea;function ra(e,t=ta.lineFeed){return/\r\n$/mu.test(e)?ta.carriageReturnAndLineFeed:/\n$/mu.test(e)?ta.lineFeed:e.includes("\r")||e.includes("\n")?ta.carriageReturn:t}function aa(e){const t=new RegExp(e.regularExpression,"gu"),r=t.exec(e.targetString);return p(r)?(e.mustThrowErrorIfZeroOrMoreThanOneMatchings&&w.throwErrorAndLog({errorInstance:new me(`Contrary to expectations, the string:\n${e.targetString}\nhas no matchings with regular expression:\n`+e.regularExpression.toString()),title:me.localization.defaultTitle,occurrenceLocation:"getMatchingWithFirstRegularExpressionCapturingGroup(sourceDataAndOptions)"}),null):t.exec(e.targetString)?(e.mustThrowErrorIfZeroOrMoreThanOneMatchings&&w.throwErrorAndLog({errorInstance:new me(`Contrary to expectations, the string:\n${e.targetString}\nhas more that one matching with regular expression:\n`+e.regularExpression.toString()),title:me.localization.defaultTitle,occurrenceLocation:"getMatchingWithFirstRegularExpressionCapturingGroup(sourceDataAndOptions)"}),null):r[1]}function ia(e,t,r={}){const a=t.exec(e);return p(a)?(!0===r.mustExpectExactlyOneMatching&&w.throwErrorAndLog({errorInstance:new me(`Contrary to expectations, there is no matchings with regular expression:\n${t.toString()}\nin the string:\n`+e),title:me.localization.defaultTitle,occurrenceLocation:"extractMatchingsWithRegularExpression(targetString, regularExpression, options)"}),!0===r.mustExpectOneOrZeroMatchings?{extractedMatching:null,updatedString:e}:{extractedMatchings:[],updatedString:e}):a.length>1?((!0===r.mustExpectOneOrZeroMatchings||r.mustExpectExactlyOneMatching)&&w.throwErrorAndLog({errorInstance:new me(`Contrary to expectations, there are more that one matchings with regular expression:\n${t.toString()}\nin the string:\n`+e),title:me.localization.defaultTitle,occurrenceLocation:"extractMatchingsWithRegularExpression(targetString, regularExpression, options)"}),{updatedString:e.replaceAll(new RegExp(t,"gu"),""),extractedMatchings:a}):!0===r.mustExpectOneOrZeroMatchings||!0===r.mustExpectExactlyOneMatching?{extractedMatching:a[0],updatedString:e.replaceAll(new RegExp(t,"gu"),"")}:{extractedMatchings:[a[0]],updatedString:e.replaceAll(new RegExp(t,"gu"),"")}}function na(e){const t=e.targetString,r=new RegExp(e.regularExpressionWithCapturingGroups,"gmu"),a=[];let i=r.exec(t);for(;M(i);)a.push({fullMatching:i[0],positionIndex:i.index??-1,namedCapturingGroups:{...i.groups??null},numeratedCapturingGroups:i.slice(1).reduce(((e,t,r)=>(e[r+1]=t,e)),{})}),i=r.exec(t);const n=br(t,"");for(const t of a.reverse()){const r=e.replacer(t);p(r)||n.splice(t.positionIndex,t.fullMatching.length,...br(r,""))}return n.join("")}function oa(e,t){return t?e.toString():""}function sa(e){return null===e?"":e}function la(e){const t=e.targetFileNameExtensionWithOrWithoutLeadingDot.startsWith(".")?e.targetFileNameExtensionWithOrWithoutLeadingDot:`.${e.targetFileNameExtensionWithOrWithoutLeadingDot}`,{updatedString:r,extractedMatching:a}=ia(e.targetPath,/#.+$/u,{mustExpectOneOrZeroMatchings:!0}),i=r.endsWith(t);return r+oa(t,!i||e.mustAppendDuplicateEvenIfTargetLastFileNameExtensionAlreadyPresentsAtSpecifiedPath)+sa(a)}function ca(e){return e.replace(/\\/gu,"/")}function ua(e){const t=br(ca(e.targetPath),"/")[0];if(m(t)||!t.includes(".")||"."===t)return[];const r=br(t,".").slice(1);return e.withLeadingDots?r.map((e=>`.${e}`)):r}function da(e){const t=e.targetPath,r=he(br(ca(t),"/"));return!p(r)&&r.includes(".")&&"."!==r||e.mustThrowErrorIfLastPathSegmentHasNoDots&&w.throwErrorAndLog({errorInstance:new me(`Contrary to expectations, the last segment of "${t}" path does not include the dots.`),title:me.localization.defaultTitle,occurrenceLocation:"extractFileNameWithAllExtensionsFromPath(compoundParameter)"}),r??""}function ma(e){const t=e.targetPath,r=he(br(ca(t),"/"));return p(r)||!r.includes(".")||"."===r?(e.mustThrowErrorIfLastPathSegmentHasNoDots&&w.throwErrorAndLog({errorInstance:new me(`Contrary to expectations, the last segment of "${t}" path does not include the dots.`),title:me.localization.defaultTitle,occurrenceLocation:"extractFileNameWithoutAnyExtensions(compoundParameter)"}),r??""):r.split(".")[0]}function ga(e){return br(ca(e),"/")}function pa(e){const t=he(ga(e),{mustThrowErrorIfArrayIsEmpty:!0});if(p(t))return e;const r=t.lastIndexOf(".");return r>0?Array.from(t).slice(0,r).join(""):t}function ha(e){const t=/.(?<lastFileNameExtensionWithoutLeadingDot>\w+)$/u.exec(e.targetPath)?.groups?.lastFileNameExtensionWithoutLeadingDot;return m(t)?(!0===e.mustThrowErrorIfLastPathSegmentHasNotDots&&w.throwErrorAndLog({errorInstance:new me(`Contrary to expectations, the path ${e.targetPath} has not the file name extension.`),title:me.localization.defaultTitle,occurrenceLocation:"extractLastExtensionOfFileName(compoundParameter)"}),null):t}function fa(e){const t=br(ca(e),"/"),r=he(t);return p(r)||!r.includes(".")||"."===r?e:Ee({targetArray:t,index:t.length-1,newElement:br(r,".")[0]}).join("/")}function ya(e){const t=aa({targetString:e.targetURI,regularExpression:/#(?<hash>.+)$/u});return p(t)?(e.mustThrowErrorIfNoFragmentPresents&&w.throwErrorAndLog({errorInstance:new me(`Contrary to expectations, below URI has not the fragment.\n${e.targetURI}`),title:me.localization.defaultTitle,occurrenceLocation:"getURI_Fragment(sourceDataAndOptions)"}),null):`${oa("#",e.withLeadingHash)}${t}`}function Ea(e){let t;if(S(e.targetFragmentWithOrWithoutLeadingHash)&&(t=e.targetFragmentWithOrWithoutLeadingHash.startsWith("#")?e.targetFragmentWithOrWithoutLeadingHash.substring(1):e.targetFragmentWithOrWithoutLeadingHash),m(t))return e.targetURI;const r=ya({targetURI:e.targetURI,withLeadingHash:!0});return M(r)?e.mustReplaceFragmentIfThereIsOneAlready?e.targetURI.replace(r,`#${t}`):e.targetURI:`${e.targetURI}#${t}`}function ba(e){return e.replace(/#.+$/u,"")}function Na(e){return ye({targetArray:ga(e.targetPath),predicate:t=>e.targetSegments.includes(t),mutably:!1}).updatedArray.join(e.mustOutputAlwaysWithForwardSlashesPathSeparators&&e.targetPath.includes("\\")?"\\":"/")}function Pa(e){const{extractedMatching:t}=ia(e.targetURI,/#.+$/u,{mustExpectOneOrZeroMatchings:!0}),r=br(ca(e.targetURI),"/");return[...r.slice(0,r.length-1),e.newLastPathSegment,...t??[]].join("/")}function Ta(e){const{targetString:t,trailingCharacter:r}=e;return t.endsWith(r)?t:`${t}${r}`}function Aa(e){return e.charAt(0).toUpperCase()+e.slice(1)}function Ma(e){const t=e.targetString;let r,a;return y(e.startingCharacterNumber__numerationFrom0)?r=e.startingCharacterNumber__numerationFrom0:f(e.startingCharacterNumber__numerationFrom1)?r=e.startingCharacterNumber__numerationFrom1-1:!0===e.fromStart?r=0:w.throwErrorAndLog({errorInstance:new V({parameterNumber:1,parameterName:"compoundParameter",messageSpecificPart:'It has been incorrectly specified from which character target string must be cropped. The valid alternatives are:\n● "startingCharacterNumber__numerationFrom0": must the the positive integer\n● "startingCharacterNumber__numerationFrom1": must the the natual number\n● "fromStart": must the the boolean herewith "true" only'}),title:V.localization.defaultTitle,occurrenceLocation:"cropString(compoundParameter)"}),y(e.endingCharacterNumber__numerationFrom0)?a=e.endingCharacterNumber__numerationFrom0:f(e.endingCharacterNumber__numerationFrom1)?a=e.endingCharacterNumber__numerationFrom1-1:f(e.charactersCount)?a=r+e.charactersCount:!0===e.untilEnd?a=t.length:w.throwErrorAndLog({errorInstance:new V({parameterNumber:1,parameterName:"compoundParameter",messageSpecificPart:'It has been incorrectly specified until which character target string must be cropped. The valid alternatives are:\n● "endingCharacterNumber__numerationFrom0": must the the positive integer\n● "endingCharacterNumber__numerationFrom1": must the the natual number\n● "charactersCount": must the the natual number\n● "untilEnd": must the the boolean herewith "true" only\n'}),title:V.localization.defaultTitle,occurrenceLocation:"cropString(compoundParameter)"}),a>t.length&&e.mustThrowErrorIfSpecifiedCharactersNumbersIsOutOfRange&&w.throwErrorAndLog({errorInstance:new V({parameterNumber:1,parameterName:"compoundParameter",messageSpecificPart:`The specified last character number is ${a} (numeration from 0) while the target string has only ${t.length} elements.The error has been thrown because the "mustThrowErrorIfSpecifiedCharactersNumbersIsOutOfRange" option has been set to "true".`}),title:V.localization.defaultTitle,occurrenceLocation:"cropString(compoundParameter)"}),Array.from(t).slice(r,a+1).join("")}class Sa{static VALID_PATTERN=/^\w+(?:[.-]?\w+)*@\w+(?:[.-]?\w+)*(?:\.\w{2,3})+$/u;static isValid(e){return Sa.VALID_PATTERN.test(e)}}function Ia(e){i(e)||w.throwErrorAndLog({errorInstance:new V({parameterNumber:1,parameterName:"targetString",customMessage:`The first and only parameter must be a string while actually is has type "${typeof e}".`}),title:V.localization.defaultTitle,occurrenceLocation:"explodeToWords(targetString)"});const t=br(e,""),r=[];let a="";for(const[e,i]of t.entries()){if(" "===i||"-"===i||"_"===i){a.length>0&&(r.push(a),a="");continue}if(!/[a-zA-Z]/u.test(i)){r.push(a);continue}const n=/[A-Z]/u.test(i),o=e>1?t[e-1]:null,s=!!M(o)&&/[a-z]/u.test(o);if(""!==a&&s&&n){r.push(a),a=i;continue}const l=t[e+1],c=!!g(l)&&/[a-z]/u.test(l);""!==a&&n&&c?(r.push(a),a=i):a=`${a}${i}`}return r.push(a),r}function _a(e){return e.mustIgnoreCarriageReturn?br(e.targetString,"\n"):br(e.targetString,/\r?\n/u)}function wa(e){switch(e){case 1:return"1st";case 2:return"2nd";case 3:return"3rd";default:return`${e}th`}}function Da(e){return e[e.length-1]}function xa(e,t){let r=e.indexOf(t);if(-1===r)return[];const a=[];do{a.push(r),r=e.indexOf(t,r+1)}while(-1!==r);return a}function Va(e){h(e)||w.throwErrorAndLog({errorInstance:new V({parameterNumber:1,parameterName:"compoundParameter",messageSpecificPart:"The first and only parameter must be an object type."}),title:V.localization.defaultTitle,occurrenceLocation:"isIPv4AddressLiesInRange(compoundParameter)"}),i(e.comparedIP_Address)||w.throwErrorAndLog({errorInstance:new V({parameterNumber:1,parameterName:"compoundParameter.comparedIP_Address",messageSpecificPart:'The "comparedIP_Address" must be a string while actually has type '+typeof e.comparedIP_Address}),title:V.localization.defaultTitle,occurrenceLocation:"isIPv4AddressLiesInRange(compoundParameter)"}),i(e.minimalIP_Address)||w.throwErrorAndLog({errorInstance:new V({parameterNumber:1,parameterName:"compoundParameter.minimalIP_Address",messageSpecificPart:'The "minimalIP_Address" must be a string while actually has type '+typeof e.minimalIP_Address}),title:V.localization.defaultTitle,occurrenceLocation:"isIPv4AddressLiesInRange(compoundParameter)"}),i(e.maximalIP_Address)||w.throwErrorAndLog({errorInstance:new V({parameterNumber:1,parameterName:"maximalIP_Address.minimalIP_Address",messageSpecificPart:'The "maximalIP_Address" must be a string while actually has type '+typeof e.maximalIP_Address}),title:V.localization.defaultTitle,occurrenceLocation:"isIPv4AddressLiesInRange(compoundParameter)"});const t=/^(?:[0-9]{1,3}\.){3}[0-9]{1,3}$/u;function r(e){return Number(e.split(".").map((e=>`000${e}`.substring(3))).join(""))}return t.test(e.comparedIP_Address)||w.throwErrorAndLog({errorInstance:new V({parameterNumber:1,parameterName:"compoundParameter.comparedIP_Address",messageSpecificPart:`The value "${e.comparedIP_Address}" of 'comparedIP_Address' is not avalid IPv4 address.`}),title:V.localization.defaultTitle,occurrenceLocation:"isIPv4AddressLiesInRange(compoundParameter)"}),t.test(e.minimalIP_Address)||w.throwErrorAndLog({errorInstance:new V({parameterNumber:1,parameterName:"compoundParameter.minimalIP_Address",messageSpecificPart:`The value "${e.minimalIP_Address}" of 'minimalIP_Address' is not a valid IPv4 address.`}),title:V.localization.defaultTitle,occurrenceLocation:"isIPv4AddressLiesInRange(compoundParameter)"}),t.test(e.maximalIP_Address)||w.throwErrorAndLog({errorInstance:new V({parameterNumber:1,parameterName:"compoundParameter.maximalIP_Address",messageSpecificPart:`The value "${e.maximalIP_Address}" of "maximalIP_Address" is not a valid IPv4 address.`}),title:V.localization.defaultTitle,occurrenceLocation:"isIPv4AddressLiesInRange(compoundParameter)"}),r(e.comparedIP_Address)>=r(e.minimalIP_Address)&&r(e.comparedIP_Address)<=r(e.maximalIP_Address)}function Ca(e,t){let r;return r=Array.isArray(t)?t.join(""):t,e.replace(new RegExp(`[${r}]`,"gu"),"")}function Oa(e){const t=Array.from(e);return t.pop(),t.join("")}function va(e){return e.split("").filter((e=>/\d/u.test(e))).join("")}function Ra(e,t){const r=Array.from(e);return 0===t.numerationFrom?r.splice(t.targetCharacterNumber,1):r.splice(t.targetCharacterNumber-1,1),r.join("")}function Fa(e){return e.replace(/\s{2,}/gmu," ")}function La(e){return e.replace(/<br\s*\/*>/gu,"\n")}function za(e){const t=mr({targetNumber:e.totalCharactersCount-e.label.length-e.prependedPartCharactersCount,minimalValue:0});return e.ornamentPatten.repeat(e.prependedPartCharactersCount)+e.label+e.ornamentPatten.repeat(t)}function ja(e){i(e)||w.throwErrorAndLog({errorInstance:new V({parameterNumber:1,parameterName:"targetString",customMessage:`The first and only parameter must be a string while actually is has type '${typeof e}'.`}),title:V.localization.defaultTitle,occurrenceLocation:"toLowerCamelCase(targetString)"});const t=Ia(e);let r="";for(const[e,a]of t.entries())r=0===e?`${r}${a.toLowerCase()}`:`${r}${Aa(a.toLowerCase())}`;return r}function Ba(e){return i(e)||w.throwErrorAndLog({errorInstance:new V({parameterNumber:1,parameterName:"targetString",customMessage:`The first and only parameter must be a string while actually is has type '${typeof e}'.`}),title:V.localization.defaultTitle,occurrenceLocation:"toLowerCamelCase(targetString)"}),Ia(e).map((e=>e.toUpperCase())).join("_")}function $a(e){return i(e)||w.throwErrorAndLog({errorInstance:new V({parameterNumber:1,parameterName:"targetString",customMessage:`The first and only parameter must be a string while actually is has type '${typeof e}'.`}),title:V.localization.defaultTitle,occurrenceLocation:"toUpperCamelCase(targetString)"}),Aa(ja(e))}function Ua(e,t={}){const{skipLeadingOnes:r=!1,skipTrailingOnes:a=!1,targetSpacesKinds:i=Object.values(Xr),excludeKinds:n=[]}=t;if(a&&r)return e;let o="";for(const e of i)if(!n.includes(e)){const t=e.codePointAt(0);if(m(t))continue;const r=16,a=4;o=`${o}\\u{${t.toString(r).padStart(a,"0")}}`}let s=e;return r||(s=e.replace(new RegExp(`^[${o}]+`,"u"),"")),a||(s=e.replace(new RegExp(`[${o}]+$`,"u"),"")),s}function ka(e,t){if(!Array.isArray(e))return!1;for(const r of e)if(!t(r))return!1;return!0}var Ha;!function(e){e.isArrayOfLength=function(e,t){return!!Array.isArray(e)&&(y(t.exactElementsCount)?e.length===t.exactElementsCount:y(t.minimalElementsCount)&&y(t.maximalElementsCount)?e.length>=t.minimalElementsCount&&e.length<=t.maximalElementsCount:y(t.minimalElementsCount)?e.length>=t.minimalElementsCount:!!y(t.maximalElementsCount)&&e.length<=t.maximalElementsCount)}}(Ha||(Ha={}));const Wa=Ha.isArrayOfLength;function qa(e){return Array.isArray(e)&&0===e.length}function Qa(e){return"object"==typeof e&&null!==e&&0===Object.entries(e).length}function Ga(e){return"object"==typeof e&&null!==e&&Object.entries(e).length>0}function Ka(e){return"object"==typeof e&&null!==e&&Object.entries(e).length>0}function Ya(e){return"object"==typeof e&&!Array.isArray(e)}function Xa(e){return"string"==typeof e&&0===e.length}var Ja;!function(e){e.isStringOfLength=function(e,t){return"string"==typeof e&&(y(t.exactCharactersCount)?e.length===t.exactCharactersCount:y(t.minimalCharactersCount)&&y(t.maximalCharactersCount)?e.length>=t.minimalCharactersCount&&e.length<=t.maximalCharactersCount:y(t.minimalCharactersCount)?e.length>=t.minimalCharactersCount:!!y(t.maximalCharactersCount)&&e.length<=t.maximalCharactersCount)}}(Ja||(Ja={}));const Za=Ja.isStringOfLength;function ei(e,t){for(const r of Object.values(t))if(r===e)return!0;return!1}function ti(e){return e instanceof Function}function ri(e){return e.length>0?e:null}function ai(e){return null===e?void 0:e}function ii(e){return null===e?0:e}function ni(e){return void 0===e?[]:e}function oi(e){return void 0===e?null:e}function si(e){return`mailto:${e}`}function li(e){return`tel:${e}`}function ci({rawParameter:e,parameterNumber:t,parameterName:r,parameterPropertiesSpecification:a,mixinName:i}){const n=Object.entries(a).filter((([e,t])=>!0===t.required)).map((([e])=>e));if(l(e))return n.length>0&&w.throwErrorAndLog({errorInstance:new V({parameterName:i,parameterNumber:1,customMessage:`Object-type parameter No. ${t} (named as "${r}") of the Pug mixin "${i}" has been omitted or null while must be because it has the following required properties:\n`+n.map((e=>`● ${e}`)).join("\n")}),title:V.localization.defaultTitle,occurrenceLocation:"processObjectTypeParameterOfPugMixin(compoundParameter)"}),Object.entries(a).reduce(((e,[t,r])=>(g(r.defaultValue)&&(e[t]=r.defaultValue),e)),{});h(e)||w.throwErrorAndLog({errorInstance:new V({parameterName:r,parameterNumber:1,customMessage:`Object-type No. ${t} (named as "${r}") of the Pug mixin "${i}" must be an object while actually has type "${typeof e}" and value:\n`+c(e)}),title:V.localization.defaultTitle,occurrenceLocation:"processObjectTypeParameterOfPugMixin(compoundParameter)"});const o=O.process(e,{nameForLogging:`Parameter No. ${t} of "${i}" mixin`,subtype:O.ObjectSubtypes.fixedKeyAndValuePairsObject,properties:a});return o.rawDataIsInvalid&&w.throwErrorAndLog({errorInstance:new V({customMessage:`Object-type parameter No. ${t} (named as "${r}") of the Pug mixin "${i}" has one or more invalid properties:\n`+O.formatValidationErrorsList(o.validationErrorsMessages)}),title:V.localization.defaultTitle,occurrenceLocation:"processObjectTypeParameterOfPugMixin(compoundParameter)"}),o.processedData}return r})()));
